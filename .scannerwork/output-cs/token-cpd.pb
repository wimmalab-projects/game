π
YC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\Client.cs
public 
class 
Client 
: 
MonoBehaviour #
{ 
public 


GameMaster 
. 

ClientType  

clientType! +
;+ ,
public

 

string

 
Name

 
;

 
public 

string 
Explanation 
; 
public 

string 

GoodReview 
; 
public 

string 
AverageReview 
;  
public 

string 
	BadReview 
; 
public 

Wine 
	WineIWant 
; 
public 

Wine 
WineIGet 
; 
public 

int 
Budget 
; 
} ˝>
`C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\CustomerPanel.cs
public 
class 
CustomerPanel 
: 
MonoBehaviour *
{+ ,
public		 

Client		 
clientSender		 
=		  
null		! %
;		% &
public 

void 
ActivatePanel 
( 
)  
{ 
if 

( 
clientSender 
!= 
null  
)  !
{ 	
this 
. 

gameObject 
. 
	transform %
.% &
Find& *
(* +
$str+ 8
)8 9
.9 :
Find: >
(> ?
$str? I
)I J
.J K
FindK O
(O P
$strP Y
)Y Z
.Z [
Find[ _
(_ `
$str` u
)u v
.v w
GetComponent	w É
<
É Ñ
Text
Ñ à
>
à â
(
â ä
)
ä ã
.
ã å
text
å ê
=
ë í
clientSender
ì ü
.
ü †
Explanation
† ´
;
´ ¨
if 
( 
clientSender 
. 

clientType '
==( *

GameMaster+ 5
.5 6

ClientType6 @
.@ A
FarmerA G
)G H
{ 

gameObject 
. 
	transform $
.$ %
Find% )
() *
$str* 9
)9 :
.: ;
Find; ?
(? @
$str@ L
)L M
.M N

gameObjectN X
.X Y
	SetActiveY b
(b c
truec g
)g h
;h i

gameObject 
. 
	transform $
.$ %
Find% )
() *
$str* 9
)9 :
.: ;
Find; ?
(? @
$str@ R
)R S
.S T

gameObjectT ^
.^ _
	SetActive_ h
(h i
falsei n
)n o
;o p
} 
else 
{ 

gameObject 
. 
	transform $
.$ %
Find% )
() *
$str* 9
)9 :
.: ;
Find; ?
(? @
$str@ L
)L M
.M N

gameObjectN X
.X Y
	SetActiveY b
(b c
falsec h
)h i
;i j

gameObject 
. 
	transform $
.$ %
Find% )
() *
$str* 9
)9 :
.: ;
Find; ?
(? @
$str@ R
)R S
.S T

gameObjectT ^
.^ _
	SetActive_ h
(h i
truei m
)m n
;n o
} 

gameObject 
. 
	transform  
.  !
Find! %
(% &
$str& 5
)5 6
.6 7
Find7 ;
(; <
$str< K
)K L
.L M
GetComponentM Y
<Y Z
ImageZ _
>_ `
(` a
)a b
.b c
spritec i
=j k
clientSenderl x
.x y
GetComponent	y Ö
<
Ö Ü
SpriteRenderer
Ü î
>
î ï
(
ï ñ
)
ñ ó
.
ó ò
sprite
ò û
;
û ü

gameObject!! 
.!! 
	SetActive!!  
(!!  !
true!!! %
)!!% &
;!!& '
}"" 	
}## 
public)) 

void)) #
ScaleExplanationContent)) '
())' (
)))( )
{** 
Canvas++ 
.++ 
ForceUpdateCanvases++ "
(++" #
)++# $
;++$ %
this.. 
... 

gameObject.. 
... 
	transform.. !
...! "
Find.." &
(..& '
$str..' 4
)..4 5
...5 6
Find..6 :
(..: ;
$str..; E
)..E F
...F G
Find..G K
(..K L
$str..L U
)..U V
...V W
GetComponent..W c
<..c d
RectTransform..d q
>..q r
(..r s
)..s t
...t u
	sizeDelta..u ~
=	.. Ä
new// 
Vector2// 
(// 
this// 
.// 

gameObject// '
.//' (
	transform//( 1
.//1 2
Find//2 6
(//6 7
$str//7 D
)//D E
.//E F
Find//F J
(//J K
$str//K U
)//U V
.//V W
Find//W [
(//[ \
$str//\ e
)//e f
.//f g
GetComponent//g s
<//s t
RectTransform	//t Å
>
//Å Ç
(
//Ç É
)
//É Ñ
.
//Ñ Ö
	sizeDelta
//Ö é
.
//é è
x
//è ê
,
//ê ë
this00 
.00 

gameObject00 
.00 
	transform00 %
.00% &
Find00& *
(00* +
$str00+ 8
)008 9
.009 :
Find00: >
(00> ?
$str00? I
)00I J
.00J K
Find00K O
(00O P
$str00P Y
)00Y Z
.00Z [
Find00[ _
(00_ `
$str00` u
)00u v
.00v w
GetComponent	00w É
<
00É Ñ
RectTransform
00Ñ ë
>
00ë í
(
00í ì
)
00ì î
.
00î ï
	sizeDelta
00ï û
.
00û ü
y
00ü †
)
00† °
;
00° ¢
}11 
public44 

void44 
DeactivatePanel44 
(44  
)44  !
{55 

gameObject66 
.66 
	SetActive66 
(66 
false66 "
)66" #
;66# $
}77 
public99 

void99 
AcceptFarmer99 
(99 
)99 
{:: 
if;; 

(;; 
clientSender;; 
!=;; 
null;;  
);;  !
{<< 	

GameObject== 
.== !
FindGameObjectWithTag== ,
(==, -
$str==- :
)==: ;
.==; <
GetComponent==< H
<==H I

GameMaster==I S
>==S T
(==T U
)==U V
.==V W
CurrentClient==W d
===e f
clientSender==g s
.==s t

gameObject==t ~
;==~ 
DeactivatePanel>> 
(>> 
)>> 
;>> 
}?? 	
}@@ 
publicAA 

voidAA "
AcceptRestaurantClientAA &
(AA' (
)AA( )
{BB 
ItemCC 
wineCC 
=CC 

GameObjectCC 
.CC !
FindGameObjectWithTagCC 4
(CC4 5
$strCC5 B
)CCB C
.CCC D
GetComponentCCD P
<CCP Q
	InventoryCCQ Z
>CCZ [
(CC[ \
)CC\ ]
.CC] ^
ItemsCC^ c
[CCc d
$strCCd l
]CCl m
;CCm n
ifEE 

(EE 
wineEE 
.EE 
StackEE 
>EE 
$numEE 
)EE 
{FF 	
wineJJ 
.JJ 
PopItemJJ 
(JJ 
)JJ 
;JJ 
DebugKK 
.KK 
LogKK 
(KK 
$strKK !
)KK! "
;KK" #

GameObjectLL 
.LL !
FindGameObjectWithTagLL ,
(LL, -
$strLL- :
)LL: ;
.LL; <
GetComponentLL< H
<LLH I

GameMasterLLI S
>LLS T
(LLT U
)LLU V
.LLV W
WineSoldLLW _
=LL` a
trueLLb f
;LLf g
}MM 	
}NN 
}OO í
[C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\Database.cs
public 
class 
Database 
: 
MonoBehaviour %
{ 
public		 

ItemCollection		 

Collection		 $
=		% &
new		' *
ItemCollection		+ 9
(		9 :
)		: ;
;		; <
public 


SortedList 
< 
string 
, 
Item "
>" #
Items$ )
=* +
new, /

SortedList0 :
<: ;
string; A
,A B
ItemC G
>G H
(H I
)I J
;J K
public 

void 
Start 
( 
) 
{ 
JsonUtility 
. 
FromJsonOverwrite %
(% &
File& *
.* +
ReadAllText+ 6
(6 7
Application7 B
.B C
dataPathC K
+L M
$strN ^
)^ _
,_ `

Collectiona k
)k l
;l m
foreach 
( 
Item 
i 
in 

Collection %
.% &
Item& *
)* +
{ 	
Items 
. 
Add 
( 
i 
. 
Prefix 
+ 
i  
.  !
Id! #
,# $
i% &
)& '
;' (
} 	
foreach 
( 
Item 
i 
in 

Collection %
.% &
	VineGrape& /
)/ 0
{ 	
Items 
. 
Add 
( 
i 
. 
Prefix 
+  
i! "
." #
Id# %
,% &
i' (
)( )
;) *
} 	
foreach 
( 
KeyValuePair 
< 
string $
,$ %
Item& *
>* +
item, 0
in1 3
Items4 9
)9 :
{ 	
} 	
}   
}!! 
[## 
System## 
.## 
Serializable## 
]## 
public$$ 
class$$ 
ItemCollection$$ 
{%% 
public&& 

List&& 
<&& 
Item&& 
>&& 
Item&& 
;&& 
public'' 

List'' 
<'' 
	VineGrape'' 
>'' 
	VineGrape'' $
;''$ %
}(( É
\C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\VineGrape.cs
[ 
System 
. 
Serializable 
] 
public 
class 
	VineGrape 
: 
Item 
{ 
public		 

GrapeOrVine		 
GoV		 
;		 
public

 

float

 
AlcoholLevel

 
;

 
public 

Acidity 
	AcidLevel 
; 
public 

List 
< 
Wine 
. 
AromaFlavor  
>  !
AromasFlavors" /
;/ 0
public 

enum 
GrapeOrVine 
{ 
Grape 
, 
Vine 
} 
public 

enum 
Acidity 
{ 
Low 
, 
Medium 
, 
High 
} 
}   ˆu
WC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\Wine.cs
public 
class 
Wine 
{ 
public		 

enum		 
MainGategories		 
{		  
WineType		! )
,		) *
Clarity		+ 2
,		2 3
	Condition		4 =
,		= >
	Intensity		? H
,		H I
	Sweetness		J S
,		S T
Acidity		U \
,		\ ]
Tannin		^ d
,		d e
Body		f j
,		j k
AromaFlavor		l w
}		x y
;		y z
public

 

enum

 
WineType

 
{

 
	WhiteWine

 $
,

$ %
RoseWine

& .
,

. /
RedWine

0 7
,

7 8
SparklingWhiteWine

9 K
,

K L
SparklingRoseWine

M ^
,

^ _
SparklingRedWine

` p
}

q r
public 

enum 
Clarity 
{ 
Clear 
,  
Hazy! %
}& '
;' (
public 

enum 
	Condition 
{ 
Clean !
,! "
Unclean# *
}+ ,
;, -
public 

enum 
	Intensity 
{ 
Light !
,! "
Medium# )
,) *

Pronounced+ 5
}6 7
;7 8
public 

enum 
	Sweetness 
{ 
Dry 
,  
OffDry! '
,' (
Medium) /
,/ 0
Sweet1 6
}7 8
;8 9
public 

enum 
Acidity 
{ 
Low 
, 
Medium %
,% &
High' +
}, -
;- .
public 

enum 
Tannin 
{ 
Low 
, 
Medium $
,$ %
High& *
}+ ,
;, -
public 

enum 
Body 
{ 
Light 
, 
Medium $
,$ %
Full& *
}+ ,
;, -
public 

enum 
AromaFlavor 
{ 
Blossom 
, 
Rose 
, 
Violet 
, 

GreenApple )
,) *
RedApple+ 3
,3 4

GooseBerry5 ?
,? @
PearA E
,E F
GrapeG L
,L M

GrapeFruitN X
,X Y
LemonZ _
,_ `
	Limejuicea j
,j k
LimeZestl t
,t u
Peachv {
,{ |
Apricot	} Ñ
,
Ñ Ö
	Nectarine
Ü è
,
è ê
Banana 
, 
Lychee 
, 
Mango 
, 
Melon $
,$ %
PassionFruit& 2
,2 3
	Pineapple4 =
,= >

Redcurrant? I
,I J
	CranberryK T
,T U
	RaspberryV _
,_ `

Strawberrya k
,k l
	RedCherrym v
,v w
Plumx |
,| }
Blackcurrant	~ ä
,
ä ã

Blackberry
å ñ
,
ñ ó
	Blueberry
ò °
,
° ¢
Blackcherry
£ Æ
,
Æ Ø
Fig 
, 
Prune 
, 
Raisin 
, 
Sultana #
,# $
Kirsch% +
,+ ,
	Jamminess- 6
,6 7
Cooked8 >
,> ?
Baked@ E
,E F
StewedFruitsG S
,S T
PreservedFruitsU d
,d e
GreenBellPepperf u
,u v
Grassw |
,| }
WhitePepper	~ â
,
â ä
	Leafiness
ã î
,
î ï
Tomato
ñ ú
,
ú ù
Potato
û §
,
§ •
	Asparagus 
, 
BlackcurrantLeaf #
,# $

Eucalyptus% /
,/ 0
Mint1 5
,5 6
	Medicinal7 @
,@ A
LavenderB J
,J K
FennelL R
,R S
DillT X
,X Y
CabbageZ a
,a b
Peasc g
,g h
Beansi n
,n o

BlackOlivep z
,z {

GreenOlive	| Ü
,
Ü á
Cinnamon
à ê
,
ê ë
Cloves
í ò
,
ò ô
Ginger
ö †
,
† °
Nutmeg
¢ ®
,
® ©
Vanilla
™ ±
,
± ≤
BlackPepper 
, 
	Liquorice 
, 
Juniper  '
,' (
Yeast) .
,. /
Biscuit0 7
,7 8
Bread9 >
,> ?
Toast@ E
,E F
PastryG M
,M N
LeesO S
,S T
ButterU [
,[ \
Cheese] c
,c d
Creame j
,j k
Yoghurtl s
,s t
Cedaru z
,z {
CharredWood	| á
,
á à
Smoke
â é
,
é è
Resinous
ê ò
,
ò ô
Almond 
, 
Coconut 
, 
Hazelnut !
,! "
Walnut# )
,) *
	Chocolate+ 4
,4 5
Coffee6 <
,< =
Leather> E
,E F
MeatyG L
,L M
FarmyardN V
,V W
VegetalX _
,_ `
Mushrooma i
,i j
Hayk n
,n o
	WetLeavesp y
,y z
ForestFloor	{ Ü
,
Ü á
Game
à å
,
å ç
Savoury
é ï
,
ï ñ
Tobacco
ó û
,
û ü
Honey
† •
,
• ¶
Cereal
ß ≠
,
≠ Æ
Earth 
, 
Petrol 
, 
Rubber 
, 
Tar "
," #
Stony$ )
,) *
Steely+ 1
,1 2
WetWool3 :
,: ;
Guava< A
,A B
RosemaryC K
,K L
ChalkM R
,R S
	RedPepperT ]
} 
; 
public-- 

int-- 
[-- 
]-- 
AromasAndFlavors-- !
(--! "
Enum--" &
MainGategory--' 3
,--3 4
Enum--5 9
Value--: ?
)--? @
{.. 
int00 
[00 
]00 
temp00 
=00 
new00 
int00 
[00 
$num00 
]00 
;00  
string33 
[33 
]33 
mainGategories33 
=33  !
Enum33" &
.33& '
GetNames33' /
(33/ 0
typeof330 6
(336 7
MainGategories337 E
)33E F
)33F G
;33G H
for44 
(44 
int44 
i44 
=44 
$num44 
;44 
i44 
<44 
mainGategories44 *
.44* +
Length44+ 1
;441 2
i443 4
++444 6
)446 7
{55 	
if66 
(66 
mainGategories66 
[66 
i66  
]66  !
==66" $
MainGategory66% 1
.661 2
ToString662 :
(66: ;
)66; <
)66< =
{77 
temp88 
[88 
$num88 
]88 
=88 
i88 
;88 
}99 
}:: 	
string== 
[== 
]== 
subGategories== 
===  
Enum==! %
.==% &
GetNames==& .
(==. /
typeof==/ 5
(==5 6
AromaFlavor==6 A
)==A B
)==B C
;==C D
for>> 
(>> 
int>> 
i>> 
=>> 
$num>> 
;>> 
i>> 
<>> 
subGategories>> )
.>>) *
Length>>* 0
;>>0 1
i>>2 3
++>>3 5
)>>5 6
{?? 	
if@@ 
(@@ 
$str@@ 
+@@ 
subGategories@@ '
[@@' (
i@@( )
]@@) *
==@@+ -
Value@@. 3
.@@3 4
GetType@@4 ;
(@@; <
)@@< =
.@@= >
ToString@@> F
(@@F G
)@@G H
)@@H I
{AA 
tempBB 
[BB 
$numBB 
]BB 
=BB 
iBB 
;BB 
}CC 
}DD 	
stringGG 
[GG 
]GG 
finalvaluesGG 
=GG 
EnumGG #
.GG# $
GetNamesGG$ ,
(GG, -
ValueGG- 2
.GG2 3
GetTypeGG3 :
(GG: ;
)GG; <
)GG< =
;GG= >
forHH 
(HH 
intHH 
iHH 
=HH 
$numHH 
;HH 
iHH 
<HH 
finalvaluesHH '
.HH' (
LengthHH( .
;HH. /
iHH0 1
++HH1 3
)HH3 4
{II 	
ifJJ 
(JJ 
finalvaluesJJ 
[JJ 
iJJ 
]JJ 
==JJ !
ValueJJ" '
.JJ' (
ToStringJJ( 0
(JJ0 1
)JJ1 2
)JJ2 3
{KK 
tempLL 
[LL 
$numLL 
]LL 
=LL 
iLL 
;LL 
}MM 
}NN 	
returnPP 
tempPP 
;PP 
}QQ 
publicUU 

WineTypeUU 
wineTypeUU  
;UU  !
publicVV 

ClarityVV 
clarityVV 
;VV  
publicWW 

	ConditionWW 
	conditionWW !
;WW! "
publicXX 

	IntensityXX 
	intensityXX !
;XX! "
publicYY 

	SweetnessYY 
	sweetnessYY !
;YY! "
publicZZ 

AcidityZZ 
acidityZZ 
;ZZ  
public[[ 

Tannin[[ 
tannin[[ 
;[[ 
public\\ 

Body\\ 
body\\ 
;\\ 
public^^ 

List^^ 
<^^ 
AromaFlavor^^ 
>^^ 
AromasFlavors^^ *
=^^+ ,
new^^- 0
List^^1 5
<^^5 6
AromaFlavor^^6 A
>^^A B
(^^B C
)^^C D
;^^D E
public`` 

List`` 
<`` 
int`` 
[`` 
]`` 
>`` 
ComparisonMatrix`` '
;``' (
publicff 

Listff 
<ff 
intff 
[ff 
]ff 
>ff 
CreateMatrixff #
(ff$ %
)ff% &
{gg 
Listhh 
<hh 
inthh 
[hh 
]hh 
>hh 
tempListhh 
=hh 
newhh "
Listhh# '
<hh' (
inthh( +
[hh+ ,
]hh, -
>hh- .
(hh. /
)hh/ 0
;hh0 1
tempListjj 
.jj 
Addjj 
(jj 
newjj 
intjj 
[jj 
]jj 
{jj  
(jj! "
intjj" %
)jj% &
MainGategoriesjj& 4
.jj4 5
WineTypejj5 =
,jj= >
(jj? @
intjj@ C
)jjC D
wineTypejjD L
}jjM N
)jjN O
;jjO P
tempListkk 
.kk 
Addkk 
(kk 
newkk 
intkk 
[kk 
]kk 
{kk  
(kk! "
intkk" %
)kk% &
MainGategorieskk& 4
.kk4 5
Claritykk5 <
,kk< =
(kk> ?
intkk? B
)kkB C
claritykkC J
}kkK L
)kkL M
;kkM N
tempListll 
.ll 
Addll 
(ll 
newll 
intll 
[ll 
]ll 
{ll  
(ll! "
intll" %
)ll% &
MainGategoriesll& 4
.ll4 5
	Conditionll5 >
,ll> ?
(ll@ A
intllA D
)llD E
	conditionllE N
}llO P
)llP Q
;llQ R
tempListmm 
.mm 
Addmm 
(mm 
newmm 
intmm 
[mm 
]mm 
{mm  
(mm! "
intmm" %
)mm% &
MainGategoriesmm& 4
.mm4 5
	Intensitymm5 >
,mm> ?
(mm@ A
intmmA D
)mmD E
	intensitymmE N
}mmO P
)mmP Q
;mmQ R
tempListnn 
.nn 
Addnn 
(nn 
newnn 
intnn 
[nn 
]nn 
{nn  
(nn! "
intnn" %
)nn% &
MainGategoriesnn& 4
.nn4 5
	Sweetnessnn5 >
,nn> ?
(nn@ A
intnnA D
)nnD E
	sweetnessnnE N
}nnO P
)nnP Q
;nnQ R
tempListoo 
.oo 
Addoo 
(oo 
newoo 
intoo 
[oo 
]oo 
{oo  
(oo! "
intoo" %
)oo% &
MainGategoriesoo& 4
.oo4 5
Acidityoo5 <
,oo< =
(oo> ?
intoo? B
)ooB C
acidityooC J
}ooK L
)ooL M
;ooM N
tempListpp 
.pp 
Addpp 
(pp 
newpp 
intpp 
[pp 
]pp 
{pp  
(pp! "
intpp" %
)pp% &
MainGategoriespp& 4
.pp4 5
Tanninpp5 ;
,pp; <
(pp= >
intpp> A
)ppA B
tanninppB H
}ppI J
)ppJ K
;ppK L
tempListqq 
.qq 
Addqq 
(qq 
newqq 
intqq 
[qq 
]qq 
{qq  
(qq! "
intqq" %
)qq% &
MainGategoriesqq& 4
.qq4 5
Bodyqq5 9
,qq9 :
(qq; <
intqq< ?
)qq? @
bodyqq@ D
}qqE F
)qqF G
;qqG H
foreachtt 
(tt 
AromaFlavortt 
aftt 
intt  "
AromasFlavorstt# 0
)tt0 1
{uu 	
tempListvv 
.vv 
Addvv 
(vv 
newvv 
intvv  
[vv  !
]vv! "
{vv# $
(vv% &
intvv& )
)vv) *
MainGategoriesvv* 8
.vv8 9
AromaFlavorvv9 D
,vvD E
(vvF G
intvvG J
)vvJ K
afvvK M
}vvN O
)vvO P
;vvP Q
}ww 	
returnyy 
tempListyy 
;yy 
}zz 
} ¿
]C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\WinePrefab.cs
public 
class 

WinePrefab 
: 
MonoBehaviour '
{		 
private

 
Wine

 

wineHolder

 
;

 
public 

Wine 

WineHolder 
{ 
get 
{ 	
return 

wineHolder 
; 
} 	
} 
[ 
Header 
( 
$str 
) 
] 
public 

Wine 
. 
WineType 
wineType !
;! "
public 

Wine 
. 
Clarity 
clarity 
;  
[ 
Space 

(
 
$num 
) 
] 
[ 
Header 
( 
$str 
) 
] 
public 

Wine 
. 
	Condition 
	condition #
;# $
public 

Wine 
. 
	Intensity 
	intensity #
;# $
[ 
Space 

(
 
$num 
) 
] 
[ 
Header 
( 
$str 
) 
] 
public 

Wine 
. 
	Sweetness 
	sweetness #
;# $
public 

Wine 
. 
Acidity 
acidity 
;  
public   

Wine   
.   
Tannin   
tannin   
;   
public!! 

Wine!! 
.!! 
Body!! 
body!! 
;!! 
["" 
Space"" 

(""
 
$num"" 
)"" 
]"" 
[$$ 
Header$$ 
($$ 
$str$$  
)$$  !
]$$! "
public%% 

List%% 
<%% 
Wine%% 
.%% 
AromaFlavor%%  
>%%  !
aromasAndFlavors%%" 2
;%%2 3
void)) 
Start))	 
()) 
))) 
{** 

wineHolder++ 
=++ 
new++ 
Wine++ 
(++ 
)++ 
;++  

WineHolder-- 
.-- 
wineType-- 
=-- 
wineType-- &
;--& '

WineHolder.. 
... 
clarity.. 
=.. 
clarity.. $
;..$ %

WineHolder// 
.// 
	condition// 
=// 
	condition// (
;//( )

WineHolder00 
.00 
	intensity00 
=00 
	intensity00 (
;00( )

WineHolder11 
.11 
	sweetness11 
=11 
	sweetness11 (
;11( )

WineHolder22 
.22 
acidity22 
=22 
acidity22 $
;22$ %

WineHolder33 
.33 
tannin33 
=33 
tannin33 "
;33" #

WineHolder44 
.44 
body44 
=44 
body44 
;44 
foreach66 
(66 
Wine66 
.66 
AromaFlavor66 !
af66" $
in66% '
aromasAndFlavors66( 8
)668 9
{77 	

WineHolder88 
.88 
AromasFlavors88 $
.88$ %
Add88% (
(88( )
af88) +
)88+ ,
;88, -
}99 	

WineHolder;; 
.;; 
ComparisonMatrix;; #
=;;$ %

WineHolder;;& 0
.;;0 1
CreateMatrix;;1 =
(;;= >
);;> ?
;;;? @
}<< 
}== ÷
_C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\cpExitButton.cs
public 
class 
cpExitButton 
: 
MonoBehaviour )
,) * 
IPointerClickHandler+ ?
{ 
CustomerPanel 
cp 
; 
void 
Start	 
( 
) 
{ 
cp 

= 

gameObject 
. 
	transform !
.! "
parent" (
.( )
GetComponent) 5
<5 6
CustomerPanel6 C
>C D
(D E
)E F
;F G
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
cp 

.
 
DeactivatePanel 
( 
) 
; 
} 
} ˆ
_C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\cpFarmButton.cs
public 
class 
cpFarmButton 
: 
MonoBehaviour )
,) * 
IPointerClickHandler+ ?
{ 
CustomerPanel 
cp 
; 
void		 
Start			 
(		 
)		 
{

 
cp 

= 

gameObject 
. 
	transform !
.! "
parent" (
.( )
parent) /
./ 0
GetComponent0 <
<< =
CustomerPanel= J
>J K
(K L
)L M
;M N
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
cp 

.
 
AcceptFarmer 
( 
) 
; 
} 
} å
eC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\cpRestaurantButton.cs
public 
class 
cpRestaurantButton 
:  !
MonoBehaviour" /
,/ 0 
IPointerClickHandler1 E
{ 
CustomerPanel 
cp 
; 
void 
Start	 
( 
) 
{ 
cp 

= 

gameObject 
. 
	transform !
.! "
parent" (
.( )
parent) /
./ 0
GetComponent0 <
<< =
CustomerPanel= J
>J K
(K L
)L M
;M N
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
cp 

.
 "
AcceptRestaurantClient !
(! "
)" #
;# $
} 
} Œ
\C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\CustomerSystem\tempTouch.cs
public 
class 
	tempTouch 
: 
MonoBehaviour &
{ 
public 

static 
bool 
hitDetected "
;" #
public 

static 

GameObject 
parentGameObject -
;- .
RuntimePlatform		 
platform		 
=		 
Application		 *
.		* +
platform		+ 3
;		3 4
void 
Update	 
( 
) 
{ 
if 

( 
platform 
== 
RuntimePlatform '
.' (
Android( /
||0 2
platform3 ;
==< >
RuntimePlatform? N
.N O
IPhonePlayerO [
)[ \
{ 	
if 
( 
Input 
. 

touchCount  
>! "
$num# $
)$ %
{ 
if 
( 
Input 
. 
GetTouch "
(" #
$num# $
)$ %
.% &
phase& +
==, .

TouchPhase/ 9
.9 :
Began: ?
)? @
{ 

checkTouch 
( 
Input $
.$ %
GetTouch% -
(- .
$num. /
)/ 0
.0 1
position1 9
)9 :
;: ;
} 
} 
} 	
else 
if 
( 
platform 
== 
RuntimePlatform ,
., -
WindowsEditor- :
): ;
{ 	
if 
( 
Input 
. 
GetMouseButtonUp &
(& '
$num' (
)( )
)) *
{ 

checkTouch 
( 
Input  
.  !
mousePosition! .
). /
;/ 0
} 
} 	
} 
void!! 

checkTouch!!	 
(!! 
Vector2!! 
pos!! 
)!!  
{"" 
Vector3## 
wp## 
=## 
Camera## 
.## 
main##  
.##  !
ScreenToWorldPoint##! 3
(##3 4
pos##4 7
)##7 8
;##8 9
Vector2$$ 
touchPos$$ 
=$$ 
new$$ 
Vector2$$ &
($$& '
wp$$' )
.$$) *
x$$* +
,$$+ ,
wp$$- /
.$$/ 0
y$$0 1
)$$1 2
;$$2 3

Collider2D%% 
hit%% 
=%% 
	Physics2D%% "
.%%" #
OverlapPoint%%# /
(%%/ 0
touchPos%%0 8
)%%8 9
;%%9 :
if'' 

('' 
hit'' 
)'' 
{(( 	
parentGameObject)) 
=)) 
hit)) "
.))" #

gameObject))# -
;))- .
MethodCallerHandler** 
mch**  #
;**# $
mch++ 
=++ 
parentGameObject++ "
.++" #
GetComponent++# /
<++/ 0
MethodCallerHandler++0 C
>++C D
(++D E
)++E F
;++F G
mch,, 
.,, 

CallMethod,, 
(,, 
),, 
;,, 
}.. 	
}// 
}00 ‡'
pC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\Scene transitionit ja kamera\CurtainControls.cs
public 
class 
CurtainControls 
: 
MonoBehaviour ,
{- .
bool 
IsClear	 
= 
true 
; 
public 

bool 

transition 
= 
true !
;! "
Color 	
curtainColor
 
; 
Camera 


fromCamera 
, 
toCamera 
;  
public 

float 
transitionSpeed  
=! "
$num# %
;% &
void 
Start	 
( 
) 
{ 

fromCamera 
= 
Camera 
. 
current #
;# $
curtainColor 
= 

gameObject !
.! "
GetComponent" .
<. /
SpriteRenderer/ =
>= >
(> ?
)? @
.@ A
colorA F
;F G
} 
public 

void 
FadeToBlack 
( 
Camera #
from$ (
,( )
Camera* 0
to1 3
)3 4
{ 

fromCamera 
= 
from 
; 
toCamera   
=   
to   
;   
IsClear!! 
=!! 
false!! 
;!! 

transition"" 
="" 
true"" 
;"" 
}## 
public(( 

void(( 
FadeToClear(( 
((( 
)(( 
{)) 
IsClear** 
=** 
true** 
;** 

transition++ 
=++ 
true++ 
;++ 
},, 
void11 
transitionToBlack11	 
(11 
)11 
{22 
if33 

(33 
curtainColor33 
.33 
a33 
<33 
$num33 
)33 
{44 	
curtainColor55 
.55 
a55 
+=55 
transitionSpeed55 -
*55. /
Time550 4
.554 5
	deltaTime555 >
;55> ?

gameObject66 
.66 
GetComponent66 #
<66# $
SpriteRenderer66$ 2
>662 3
(663 4
)664 5
.665 6
color666 ;
=66< =
curtainColor66> J
;66J K
}77 	
else88 
{99 	

transition:: 
=:: 
false:: 
;:: 
cameraADisable<< 
(<< 
)<< 
;<< 
cameraBEnable== 
(== 
)== 
;== 
FadeToClear>> 
(>> 
)>> 
;>> 
}?? 	
}@@ 
voidEE 
transitionToClearEE	 
(EE 
)EE 
{FF 
ifGG 

(GG 
curtainColorGG 
.GG 
aGG 
>GG 
$numGG 
)GG 
{HH 	
curtainColorII 
.II 
aII 
-=II 
transitionSpeedII -
*II. /
TimeII0 4
.II4 5
	deltaTimeII5 >
;II> ?

gameObjectJJ 
.JJ 
GetComponentJJ #
<JJ# $
SpriteRendererJJ$ 2
>JJ2 3
(JJ3 4
)JJ4 5
.JJ5 6
colorJJ6 ;
=JJ< =
curtainColorJJ> J
;JJJ K
}KK 	
elseLL 
{MM 	

transitionNN 
=NN 
falseNN 
;NN 
}OO 	
}PP 
voidVV 
UpdateVV	 
(VV 
)VV 
{VV 
ifWW 

(WW 

transitionWW 
)WW 
{XX 	
switchYY 
(YY 
IsClearYY 
)YY 
{ZZ 
case[[ 
true[[ 
:[[ 
transitionToClear\\ %
(\\% &
)\\& '
;\\' (
break]] 
;]] 
case^^ 
false^^ 
:^^ 
transitionToBlack__ %
(__% &
)__& '
;__' (
break`` 
;`` 
}aa 
}bb 	
}cc 
privateee 
voidee 
cameraADisableee 
(ee  !
)ee! "
{ff 
ifgg 

(gg 

fromCameragg 
!=gg 
nullgg 
)gg 

fromCameraii 
.ii 
enabledii 
=ii  
falseii! &
;ii& '
}jj 
privatell 
voidll 
cameraBEnablell 
(ll 
)ll  
{mm 
ifnn 

(nn 
toCamerann 
!=nn 
nullnn 
)nn 
toCamerapp 
.pp 
enabledpp 
=pp 
truepp #
;pp# $
}qq 
}rr ã
pC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\Scene transitionit ja kamera\kameracontrolli.cs
public 
class 
kameracontrolli 
: 
MonoBehaviour ,
{- .
public 

Camera 

farmCamera 
, 
breweryCamera +
,+ ,

townCamera- 7
;7 8

GameObject		 
go		 
;		 
void 
Start	 
( 
) 
{ 
go 

= 

GameObject 
. !
FindGameObjectWithTag -
(- .
$str. 7
)7 8
;8 9
} 
private 
void 
OnGUI 
( 
) 
{ 
	GUILayout 
. 
	BeginArea 
( 
new 
Rect  $
($ %
Screen% +
.+ ,
width, 1
-1 2
$num2 5
,5 6
$num7 9
,9 :
$num; >
,> ?
$num@ C
)C D
)D E
;E F
if 

( 
	GUILayout 
. 
Button 
( 
$str '
)' (
)( )
{ 	
go 
. 
GetComponent 
< 
CurtainControls +
>+ ,
(, -
)- .
.. /
FadeToBlack/ :
(: ;
Camera; A
.A B
mainB F
,F G

farmCameraH R
)R S
;S T
} 	
if 

( 
	GUILayout 
. 
Button 
( 
$str *
)* +
)+ ,
{ 	
go 
. 
GetComponent 
< 
CurtainControls +
>+ ,
(, -
)- .
.. /
FadeToBlack/ :
(: ;
Camera; A
.A B
mainB F
,F G
breweryCameraH U
)U V
;V W
} 	
if 

( 
	GUILayout 
. 
Button 
( 
$str '
)' (
)( )
{ 	
go 
. 
GetComponent 
< 
CurtainControls +
>+ ,
(, -
)- .
.. /
FadeToBlack/ :
(: ;
Camera; A
.A B
mainB F
,F G

townCameraH R
)R S
;S T
}   	
	GUILayout"" 
."" 
EndArea"" 
("" 
)"" 
;"" 
}## 
}$$ ß
\C:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\ShopSystem\InventoryGrid.cs
public 
class 
InventoryGrid 
: 
MonoBehaviour *
{+ ,
void 
Start 
( 
) 
{ 
}

 
void 
Update 
( 
) 
{ 
} 
} ﬁW
SC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\ShopSystem\Shop.cs
public		 
class		 
Shop		 
:		 
MonoBehaviour		 !
{		" #
public 


GameObject 
shop 
; 
public 


GameObject 
ShopSlot 
; 
public 


SortedList 
< 
string 
, 
Item "
>" #
items$ )
=* +
new, /

SortedList0 :
<: ;
string; A
,A B
ItemC G
>G H
(H I
)I J
;J K
public 

List 
< 

GameObject 
> 
slots !
=" #
new$ '
List( ,
<, -

GameObject- 7
>7 8
(8 9
)9 :
;: ;
public 

bool 
bought 
; 
private 

GameObject 
ContentPanel #
;# $
private 

GameObject 
	InfoPanel  
;  !
private 
GridLayoutGroup 
glg 
;  
public 

Item !
currentlySelectedItem %
;% &
private 
void 
Start 
( 
) 
{ 
foreach 
( 
KeyValuePair 
< 
string $
,$ %
Item& *
>* +
pair, 0
in1 3

GameObject4 >
.> ?!
FindGameObjectWithTag? T
(T U
$strU b
)b c
.c d
GetComponentd p
<p q
Databaseq y
>y z
(z {
){ |
.| }
Items	} Ç
)
Ç É
{ 	
if 
( 
pair 
. 
Value 
. 
CanBuy !
==" $
true% )
)) *
items 
. 
Add 
( 
pair 
. 
Key "
," #
pair$ (
.( )
Value) .
). /
;/ 0
} 	
	InfoPanel"" 
="" 
shop"" 
."" 
	transform"" "
.""" #
Find""# '
(""' (
$str""( .
)"". /
.""/ 0

gameObject""0 :
;"": ;
ContentPanel## 
=## 
shop## 
.## 
	transform## %
.##% &
Find##& *
(##* +
$str##+ 8
)##8 9
.##9 :
Find##: >
(##> ?
$str##? I
)##I J
.##J K
Find##K O
(##O P
$str##P Y
)##Y Z
.##Z [

gameObject##[ e
;##e f
for&& 
(&& 
int&& 
i&& 
=&& 
$num&& 
;&& 
i&& 
<&& 
items&& !
.&&! "
Count&&" '
;&&' (
i&&) *
++&&* ,
)&&, -
{'' 	

GameObject(( 
temp(( 
=(( 
Instantiate(( )
((() *
ShopSlot((* 2
)((2 3
;((3 4
temp)) 
.)) 
	transform)) 
.)) 
	SetParent)) $
())$ %
ContentPanel))% 1
.))1 2
	transform))2 ;
))); <
;))< =
temp** 
.** 
name** 
=** 
items** 
.** 
Keys** "
[**" #
i**# $
]**$ %
;**% &
temp++ 
.++ 
GetComponent++ 
<++ 
Image++ #
>++# $
(++$ %
)++% &
.++& '
sprite++' -
=++. /
	Resources++0 9
.++9 :
Load++: >
<++> ?
Sprite++? E
>++E F
(++F G
items++G L
[++L M
temp++M Q
.++Q R
name++R V
]++V W
.++W X

SpriteName++X b
)++b c
;++c d
slots,, 
.,, 
Add,, 
(,, 
temp,, 
),, 
;,, 
}-- 	

SelectItem00 
(00 
items00 
.00 
Keys00 
[00 
$num00 
]00  
)00  !
;00! "
refreshInfo11 
(11 
)11 
;11 
glg44 
=44 
ContentPanel44 
.44 
GetComponent44 '
<44' (
GridLayoutGroup44( 7
>447 8
(448 9
)449 :
;44: ;
scaleContent55 
(55 
)55 
;55 
}66 
private88 
void88 
Update88 
(88 
)88 
{99 
bought:: 
=:: 
false:: 
;:: 
};; 
private@@ 
void@@ 
scaleContent@@ 
(@@ 
)@@  
{AA 
floatBB 
yBB 
=BB 
(BB 
ContentPanelBB 
.BB  
	transformBB  )
.BB) *

childCountBB* 4
+BB4 5
$numBB5 6
)BB6 7
/BB8 9
glgBB: =
.BB= >
constraintCountBB> M
*BBN O
glgBBP S
.BBS T
cellSizeBBT \
.BB\ ]
yBB] ^
+BB_ `
(BBa b
glgBBb e
.BBe f
cellSizeBBf n
.BBn o
yBBo p
*BBp q
$numBBq r
)BBr s
;BBs t
ContentPanelCC 
.CC 
GetComponentCC !
<CC! "
RectTransformCC" /
>CC/ 0
(CC0 1
)CC1 2
.CC2 3
	sizeDeltaCC3 <
=CC= >
newCC? B
Vector2CCC J
(CCJ K
ContentPanelCCK W
.CCW X
GetComponentCCX d
<CCd e
RectTransformCCe r
>CCr s
(CCs t
)CCt u
.CCu v
	sizeDeltaCCv 
.	CC Ä
x
CCÄ Å
,
CCÅ Ç
y
CCÉ Ñ
)
CCÑ Ö
;
CCÖ Ü
}DD 
publicJJ 

voidJJ 

SelectItemJJ 
(JJ 
stringJJ !
keyJJ" %
)JJ% &
{KK !
currentlySelectedItemMM 
=MM 
itemsMM  %
[MM% &
keyMM& )
]MM) *
;MM* +
refreshInfoOO 
(OO 
)OO 
;OO 
}PP 
privateUU 
voidUU 
refreshInfoUU 
(UU 
)UU 
{VV 

GameObjectWW 
go1WW 
=WW 
	InfoPanelWW "
.WW" #
	transformWW# ,
.WW, -
FindWW- 1
(WW1 2
$strWW2 D
)WWD E
.WWE F

gameObjectWWF P
;WWP Q

GameObjectXX 
go2XX 
=XX 
	InfoPanelXX "
.XX" #
	transformXX# ,
.XX, -
FindXX- 1
(XX1 2
$strXX2 E
)XXE F
.XXF G

gameObjectXXG Q
;XXQ R

GameObjectYY 
go3YY 
=YY 
	InfoPanelYY "
.YY" #
	transformYY# ,
.YY, -
FindYY- 1
(YY1 2
$strYY2 E
)YYE F
.YYF G

gameObjectYYG Q
;YYQ R
go1[[ 
.[[ 
GetComponent[[ 
<[[ 
Text[[ 
>[[ 
([[ 
)[[  
.[[  !
text[[! %
=[[& '!
currentlySelectedItem[[( =
.[[= >
Name[[> B
;[[B C
go2\\ 
.\\ 
GetComponent\\ 
<\\ 
Text\\ 
>\\ 
(\\ 
)\\  
.\\  !
text\\! %
=\\& '!
currentlySelectedItem\\( =
.\\= >
Description\\> I
;\\I J
go3]] 
.]] 
GetComponent]] 
<]] 
Image]] 
>]] 
(]]  
)]]  !
.]]! "
sprite]]" (
=]]) *
	Resources]]+ 4
.]]4 5
Load]]5 9
<]]9 :
Sprite]]: @
>]]@ A
(]]A B!
currentlySelectedItem]]B W
.]]W X

SpriteName]]X b
)]]b c
;]]c d
}^^ 
publiccc 

voidcc 
BuyItemcc 
(cc 
)cc 
{dd !
currentlySelectedItemee 
.ee 
AddItemee %
(ee% &
)ee& '
;ee' (
boughtff 
=ff 
trueff 
;ff 
}gg 
publicll 

voidll 
OpenShopll 
(ll 
)ll 
{mm 

GameObjectnn 
.nn !
FindGameObjectWithTagnn (
(nn( )
$strnn) 6
)nn6 7
.nn7 8
GetComponentnn8 D
<nnD E

GameMasternnE O
>nnO P
(nnP Q
)nnQ R
.nnR S
IsInventoryOpennnS b
=nnc d
truenne i
;nni j
shopoo 
.oo 
	SetActiveoo 
(oo 
trueoo 
)oo 
;oo 
}pp 
publicuu 

voiduu 
	CloseShopuu 
(uu 
)uu 
{vv 

GameObjectww 
.ww !
FindGameObjectWithTagww (
(ww( )
$strww) 6
)ww6 7
.ww7 8
GetComponentww8 D
<wwD E

GameMasterwwE O
>wwO P
(wwP Q
)wwQ R
.wwR S
IsInventoryOpenwwS b
=wwc d
falsewwe j
;wwj k
shopxx 
.xx 
	SetActivexx 
(xx 
falsexx 
)xx 
;xx 
}yy 
private}} 
void}} 
OnGUI}} 
(}} 
)}} 
{~~ 
	GUILayout 
. 
	BeginArea 
( 
new 
Rect  $
($ %
Screen% +
.+ ,
width, 1
-1 2
$num2 5
,5 6
Screen6 <
.< =
height= C
-D E
$numF I
,I J
$numJ M
,M N
$numN Q
)Q R
)R S
;S T
if
ÄÄ 

(
ÄÄ 
	GUILayout
ÄÄ 
.
ÄÄ 
Button
ÄÄ 
(
ÄÄ 
$str
ÄÄ (
)
ÄÄ( )
)
ÄÄ) *
{
ÅÅ 	
OpenShop
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
if
ÑÑ 

(
ÑÑ 
	GUILayout
ÑÑ 
.
ÑÑ 
Button
ÑÑ 
(
ÑÑ 
$str
ÑÑ )
)
ÑÑ) *
)
ÑÑ* +
{
ÖÖ 	
	CloseShop
ÜÜ 
(
ÜÜ 
)
ÜÜ 
;
ÜÜ 
}
áá 	
	GUILayout
àà 
.
àà 
EndArea
àà 
(
àà 
)
àà 
;
àà 
}
ââ 
}ää —
WC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\ShopSystem\ShopExit.cs
public 
class 
ShopExit 
: 
MonoBehaviour %
,% & 
IPointerClickHandler' ;
{ 
Shop 
shop	 
; 
void		 
Start			 
(		 
)		 
{

 
shop 
= 

GameObject 
. !
FindGameObjectWithTag /
(/ 0
$str0 =
)= >
.> ?
GetComponent? K
<K L
ShopL P
>P Q
(Q R
)R S
;S T
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
shop 
. 
	CloseShop 
( 
) 
; 
} 
} ô

WC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\ShopSystem\ShopSlot.cs
public 
class 
ShopSlot 
: 
MonoBehaviour %
,% & 
IPointerClickHandler' ;
{ 
private 
Shop 
shop 
; 
void 
Start	 
( 
) 
{ 
shop 
= 

GameObject 
. !
FindGameObjectWithTag /
(/ 0
$str0 =
)= >
.> ?
GetComponent? K
<K L
ShopL P
>P Q
(Q R
)R S
;S T
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
if 

( 
shop 
. 
items 
[ 

gameObject !
.! "
name" &
]& '
!=( *
null+ /
)/ 0
{ 	
shop 
. 

SelectItem 
( 

gameObject &
.& '
name' +
)+ ,
;, -
} 	
} 
} —
XC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\ShopSystem\buyButton.cs
public 
class 
	buyButton 
: 
MonoBehaviour &
,& ' 
IPointerClickHandler( <
{ 
Shop 
shop	 
; 
void 
Start	 
( 
) 
{ 
shop 
= 

GameObject 
. !
FindGameObjectWithTag /
(/ 0
$str0 =
)= >
.> ?
GetComponent? K
<K L
ShopL P
>P Q
(Q R
)R S
;S T
} 
public 

void 
OnPointerClick 
( 
PointerEventData /
data0 4
)4 5
{ 
shop 
. 
BuyItem 
( 
) 
; 
} 
} π#
gC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\AA_Rami\testi scriptej√§\MainAltCamControls.cs
public

 
class

 
MainAltCamControls

 
:

  !
MonoBehaviour

" /
{

0 1
public 

Camera 
Camera 
; 
public 

	Transform 
CamPos1 
, 
CamPos2 %
;% &
public 

bool 

transition 
= 
false "
;" #
public 

bool 
cam1 
= 
true 
; 
float 	
transitionTime
 
= 
$num  
;  !
private 
void 
Start 
( 
) 
{ 
Camera 
. 
	transform 
. 
position !
=" #
CamPos1$ +
.+ ,
position, 4
;4 5
} 
public 

void 
Update 
( 
) 
{ 
if 

( 

transition 
== 
true 
) 
{ 	
	ChangePos 
( 
) 
; 
} 	
} 
public## 

void## 
	ChangePos## 
(## 
)## 
{$$ 
if%% 

(%% 
cam1%% 
!=%% 
true%% 
)%% 
{&& 	
Camera'' 
.'' 
	transform'' 
.'' 
position'' %
=''& '
new''( +
Vector3'', 3
(''3 4
Mathf''4 9
.''9 :
Lerp'': >
(''> ?
Camera''? E
.''E F
	transform''F O
.''O P
position''P X
.''X Y
x''Y Z
,''Z [
CamPos1''\ c
.''c d
position''d l
.''l m
x''m n
,''n o
transitionTime''p ~
)''~ 
,	'' Ä
Camera
''Å á
.
''á à
	transform
''à ë
.
''ë í
position
''í ö
.
''ö õ
y
''õ ú
,
''ú ù
Camera
''û §
.
''§ •
	transform
''• Æ
.
''Æ Ø
position
''Ø ∑
.
''∑ ∏
z
''∏ π
)
''π ∫
;
''∫ ª
if)) 
()) 
()) 
int)) 
))) 
Camera)) 
.)) 
	transform)) %
.))% &
position))& .
.)). /
x))/ 0
<=))1 3
())4 5
int))5 8
)))8 9
CamPos1))9 @
.))@ A
	transform))A J
.))J K
position))K S
.))S T
x))T U
)))U V
{** 

transition++ 
=++ 
false++ "
;++" #
cam1,, 
=,, 
true,, 
;,, 
}-- 
}.. 	
else// 
{00 	
Camera11 
.11 
	transform11 
.11 
position11 %
=11& '
new11( +
Vector311, 3
(113 4
Mathf114 9
.119 :
Lerp11: >
(11> ?
Camera11? E
.11E F
	transform11F O
.11O P
position11P X
.11X Y
x11Y Z
,11Z [
CamPos211\ c
.11c d
position11d l
.11l m
x11m n
,11n o
transitionTime11p ~
)11~ 
,	11 Ä
Camera
11Å á
.
11á à
	transform
11à ë
.
11ë í
position
11í ö
.
11ö õ
y
11õ ú
,
11ú ù
Camera
11û §
.
11§ •
	transform
11• Æ
.
11Æ Ø
position
11Ø ∑
.
11∑ ∏
z
11∏ π
)
11π ∫
;
11∫ ª
if33 
(33 
(33 
int33 
)33 
Camera33 
.33 
	transform33 %
.33% &
position33& .
.33. /
x33/ 0
>=331 3
(334 5
int335 8
)338 9
CamPos2339 @
.33@ A
	transform33A J
.33J K
position33K S
.33S T
x33T U
)33U V
{44 

transition55 
=55 
false55 "
;55" #
cam166 
=66 
false66 
;66 
}77 
}88 	
}99 
}:: ¡‰
XC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\RPGTALK\Editor\RPGTalkEditor.cs
[ 
CustomEditor 
( 
typeof 
( 
RPGTalk 
) 
) 
] 
public 
class 
RPGTalkEditor 
: 
Editor #
{		 
override 	
public
 
void 
OnInspectorGUI $
($ %
)% &
{ 
serializedObject 
. 
Update 
( 
) 
; 
RPGTalk 	
rpgTalk
 
= 
( 
RPGTalk 
) 
target #
;# $
EditorGUIUtility 
. 
LookLikeInspector $
($ %
)% &
;& '
	EditorGUI 
. 
BeginChangeCheck 
( 
) 
; 
EditorGUILayout 
. 

LabelField 
( 
$str Y
)Y Z
;Z [
EditorGUILayout 
. 
PropertyField 
(  !
serializedObject! 1
.1 2
FindProperty2 >
(> ?
$str? K
)K L
,L M

GUIContentM W
.W X
noneX \
)\ ]
;] ^
if 
( 
serializedObject 
. 
FindProperty "
(" #
$str# /
)/ 0
.0 1 
objectReferenceValue1 E
==F H
nullI M
)M N
{N O
EditorGUILayout 
. 
HelpBox 
( 
$str P
,P Q
MessageTypeR ]
.] ^
Error^ c
,c d
truee i
)i j
;j k
} 
EditorGUILayout 
. 
PropertyField 
(  !
serializedObject! 1
.1 2
FindProperty2 >
(> ?
$str? O
)O P
,P Q
trueQ U
)U V
;V W
if 
( 
serializedObject 
. 
FindProperty "
(" #
$str# 3
)3 4
.4 5
	arraySize5 >
==? A
$numB C
)C D
{D E
EditorGUILayout 
. 
HelpBox 
( 
$str a
+b c
$str 1
,1 2
MessageType3 >
.> ?
Warning? F
,F G
trueH L
)L M
;M N
} 
EditorGUILayout!! 
.!! 
BeginVertical!! 
(!!  
(!!! "
GUIStyle!!" *
)!!* +
$str!!, 5
)!!5 6
;!!6 7
EditorGUILayout## 
.## 

LabelField## 
(## 
$str## /
,##/ 0
EditorStyles##0 <
.##< =
	boldLabel##= F
)##F G
;##G H
rpgTalk$$ 	
.$$	 

startOnAwake$$
 
=$$ 
	GUILayout$$ "
.$$" #
Toggle$$# )
($$) *
rpgTalk$$* 1
.$$1 2
startOnAwake$$2 >
,$$> ?
$str$$@ Q
)$$Q R
;$$R S
rpgTalk%% 	
.%%	 

dialoger%%
 
=%% 
	GUILayout%% 
.%% 
Toggle%% %
(%%% &
rpgTalk%%& -
.%%- .
dialoger%%. 6
,%%6 7
$str%%8 ]
)%%] ^
;%%^ _
rpgTalk&& 	
.&&	 

shouldUsePhotos&&
 
=&& 
	GUILayout&& %
.&&% &
Toggle&&& ,
(&&, -
rpgTalk&&- 4
.&&4 5
shouldUsePhotos&&5 D
,&&D E
$str&&F p
)&&p q
;&&q r
rpgTalk'' 	
.''	 

shouldStayOnScreen''
 
='' 
	GUILayout'' (
.''( )
Toggle'') /
(''/ 0
rpgTalk''0 7
.''7 8
shouldStayOnScreen''8 J
,''J K
$str	''L Ñ
)
''Ñ Ö
;
''Ö Ü
rpgTalk(( 	
.((	 

shouldFollow((
 
=(( 
	GUILayout(( "
.((" #
Toggle((# )
((() *
rpgTalk((* 1
.((1 2
shouldFollow((2 >
,((> ?
$str((@ c
)((c d
;((d e
if)) 
()) 
rpgTalk)) 
.)) 
shouldFollow)) 
))) 
{)) 
	EditorGUI** 
.** 
indentLevel** 
++** 
;** 
EditorGUILayout++ 
.++ 

LabelField++ 
(++ 
$str++ P
)++P Q
;++Q R
EditorGUILayout,, 
.,, 
BeginHorizontal,, "
(,," #
),,# $
;,,$ %
EditorGUILayout-- 
.-- 
PropertyField--  
(--! "
serializedObject--" 2
.--2 3
FindProperty--3 ?
(--? @
$str--@ H
)--H I
,--I J

GUIContent--J T
.--T U
none--U Y
)--Y Z
;--Z [
EditorGUILayout.. 
... 
PropertyField..  
(..! "
serializedObject.." 2
...2 3
FindProperty..3 ?
(..? @
$str..@ N
)..N O
,..O P

GUIContent..P Z
...Z [
none..[ _
).._ `
;..` a
EditorGUILayout// 
.// 
EndHorizontal//  
(//  !
)//! "
;//" #
if11 
(11 
rpgTalk11 
.11 
shouldFollow11 
&&11 
serializedObject11 .
.11. /
FindProperty11/ ;
(11; <
$str11< D
)11D E
.11E F 
objectReferenceValue11F Z
==11[ ]
null11^ b
)11b c
{11c d
EditorGUILayout22 
.22 
HelpBox22 
(22 
$str22 >
,22> ?
MessageType22@ K
.22K L
Error22L Q
,22Q R
true22S W
)22W X
;22X Y
}33 
EditorGUILayout55 
.55 

LabelField55 
(55 
$str55 c
)55c d
;55d e
EditorGUILayout66 
.66 
BeginHorizontal66 "
(66" #
)66# $
;66$ %
rpgTalk77 

.77
 
	billboard77 
=77 
	GUILayout77  
.77  !
Toggle77! '
(77' (
rpgTalk77( /
.77/ 0
	billboard770 9
,779 :
$str77: F
)77F G
;77G H
if88 
(88 
rpgTalk88 
.88 
	billboard88 
)88 
{88 
rpgTalk99 
.99 

mainCamera99 
=99 
	GUILayout99 "
.99" #
Toggle99# )
(99* +
rpgTalk99+ 2
.992 3

mainCamera993 =
,99= >
$str99? V
)99V W
;99W X
}:: 
EditorGUILayout;; 
.;; 
EndHorizontal;;  
(;;  !
);;! "
;;;" #
if<< 
(<< 
rpgTalk<< 
.<< 
	billboard<< 
&&<< 
!<< 
rpgTalk<< $
.<<$ %

mainCamera<<% /
)<</ 0
{<<1 2
EditorGUILayout== 
.== 

LabelField== 
(== 
$str== N
)==N O
;==O P
EditorGUILayout>> 
.>> 
PropertyField>> !
(>>" #
serializedObject>># 3
.>>3 4
FindProperty>>4 @
(>>@ A
$str>>A N
)>>N O
,>>O P

GUIContent>>P Z
.>>Z [
none>>[ _
)>>_ `
;>>` a
}?? 
	EditorGUI@@ 
.@@ 
indentLevel@@ 
--@@ 
;@@ 
}AA 
rpgTalkBB 	
.BB	 

enableQuickSkipBB
 
=BB 
	GUILayoutBB %
.BB% &
ToggleBB& ,
(BB, -
rpgTalkBB- 4
.BB4 5
enableQuickSkipBB5 D
,BBD E
$strBBF }
)BB} ~
;BB~ 
EditorGUILayoutCC 
.CC 
PropertyFieldCC 
(CC  !
serializedObjectCC! 1
.CC1 2
FindPropertyCC2 >
(CC> ?
$strCC? J
)CCJ K
)CCK L
;CCL M
rpgTalkEE 	
.EE	 

passWithMouseEE
 
=EE 
	GUILayoutEE #
.EE# $
ToggleEE$ *
(EE* +
rpgTalkEE+ 2
.EE2 3
passWithMouseEE3 @
,EE@ A
$strEEB c
)EEc d
;EEd e
EditorGUILayoutFF 
.FF 

LabelFieldFF 
(FF 
$strFF l
)FFl m
;FFm n
EditorGUILayoutGG 
.GG 
PropertyFieldGG 
(GG  !
serializedObjectGG! 1
.GG1 2
FindPropertyGG2 >
(GG> ?
$strGG? T
)GGT U
,GGU V

GUIContentGGV `
.GG` a
noneGGa e
)GGe f
;GGf g
ifHH 
(HH 
!HH 
rpgTalkHH 
.HH 
passWithMouseHH 
&&HH 
serializedObjectHH /
.HH/ 0
FindPropertyHH0 <
(HH< =
$strHH= R
)HHR S
.HHS T
stringValueHHT _
==HH` b
$strHHc e
)HHe f
{HHf g
EditorGUILayoutII 
.II 
HelpBoxII 
(II 
$strII i
,IIi j
MessageTypeIIk v
.IIv w
WarningIIw ~
,II~ 
true
IIÄ Ñ
)
IIÑ Ö
;
IIÖ Ü
}JJ 
EditorGUILayoutLL 
.LL 
SpaceLL 
(LL 
)LL 
;LL 
EditorGUILayoutMM 
.MM 

LabelFieldMM 
(MM 
$strMM c
)MMc d
;MMd e
rpgTalkNN 	
.NN	 

wordWrapNN
 
=NN 
	GUILayoutNN 
.NN 
ToggleNN %
(NN% &
rpgTalkNN& -
.NN- .
wordWrapNN. 6
,NN6 7
$strNN8 D
)NND E
;NNE F
ifOO 
(OO 
rpgTalkOO 
.OO 
wordWrapOO 
)OO 
{OO 
EditorGUILayoutPP 
.PP 

LabelFieldPP 
(PP 
$strPP g
)PPg h
;PPh i
	EditorGUIQQ 
.QQ 
indentLevelQQ 
++QQ 
;QQ 
EditorGUILayoutRR 
.RR 
PropertyFieldRR  
(RR! "
serializedObjectRR" 2
.RR2 3
FindPropertyRR3 ?
(RR@ A
$strRRA Q
)RRQ R
)RRR S
;RRS T
EditorGUILayoutSS 
.SS 
PropertyFieldSS  
(SS! "
serializedObjectSS" 2
.SS2 3
FindPropertySS3 ?
(SS@ A
$strSSA R
)SSR S
)SSS T
;SST U
	EditorGUITT 
.TT 
indentLevelTT 
--TT 
;TT 
}VV 
EditorGUILayoutXX 
.XX 
EndVerticalXX 
(XX 
)XX  
;XX  !
EditorGUILayout\\ 
.\\ 
BeginVertical\\ 
(\\  
(\\! "
GUIStyle\\" *
)\\* +
$str\\, 5
)\\5 6
;\\6 7
EditorGUILayout]] 
.]] 

LabelField]] 
(]] 
$str]] )
,]]) *
EditorStyles]]* 6
.]]6 7
	boldLabel]]7 @
)]]@ A
;]]A B
EditorGUILayout^^ 
.^^ 

LabelField^^ 
(^^ 
$str^^ D
)^^D E
;^^E F
EditorGUILayout__ 
.__ 
PropertyField__ 
(__  !
serializedObject__! 1
.__1 2
FindProperty__2 >
(__> ?
$str__? G
)__G H
)__H I
;__I J
if`` 
(`` 
serializedObject`` 
.`` 
FindProperty`` "
(``" #
$str``# +
)``+ ,
.``, - 
objectReferenceValue``- A
==``B D
null``E I
)``I J
{``J K
EditorGUILayoutaa 
.aa 
HelpBoxaa 
(aa 
$straa Z
,aaZ [
MessageTypeaa\ g
.aag h
Erroraah m
,aam n
trueaao s
)aas t
;aat u
}bb 
ifcc 
(cc 
rpgTalkcc 
.cc 
dialogercc 
)cc 
{cc 
EditorGUILayoutdd 
.dd 

LabelFielddd 
(dd 
$strdd L
)ddL M
;ddM N
EditorGUILayoutee 
.ee 
PropertyFieldee  
(ee! "
serializedObjectee" 2
.ee2 3
FindPropertyee3 ?
(ee? @
$stree@ L
)eeL M
)eeM N
;eeN O
ifff 
(ff 
serializedObjectff 
.ff 
FindPropertyff #
(ff# $
$strff$ 0
)ff0 1
.ff1 2 
objectReferenceValueff2 F
==ffG I
nullffJ N
)ffN O
{ffO P
EditorGUILayoutgg 
.gg 
HelpBoxgg 
(gg 
$strgg d
,ggd e
MessageTypeggf q
.ggq r
Errorggr w
,ggw x
trueggy }
)gg} ~
;gg~ 
}hh 
}ii 
ifjj 
(jj 
rpgTalkjj 
.jj 
shouldUsePhotosjj 
)jj 
{jj  
EditorGUILayoutkk 
.kk 

LabelFieldkk 
(kk 
$strkk M
)kkM N
;kkN O
EditorGUILayoutll 
.ll 
PropertyFieldll  
(ll! "
serializedObjectll" 2
.ll2 3
FindPropertyll3 ?
(ll? @
$strll@ I
)llI J
)llJ K
;llK L
ifmm 
(mm 
serializedObjectmm 
.mm 
FindPropertymm #
(mm# $
$strmm$ -
)mm- .
.mm. / 
objectReferenceValuemm/ C
==mmD F
nullmmG K
)mmK L
{mmL M
EditorGUILayoutnn 
.nn 
HelpBoxnn 
(nn 
$strnn f
,nnf g
MessageTypennh s
.nns t
Errornnt y
,nny z
truenn{ 
)	nn Ä
;
nnÄ Å
}oo 
}pp 
EditorGUILayoutqq 
.qq 

LabelFieldqq 
(qq 
$strqq P
)qqP Q
;qqQ R
EditorGUILayoutrr 
.rr 
PropertyFieldrr 
(rr  !
serializedObjectrr! 1
.rr1 2
FindPropertyrr2 >
(rr> ?
$strrr? O
)rrO P
,rrP Q

GUIContentrrQ [
.rr[ \
nonerr\ `
)rr` a
;rra b
EditorGUILayoutss 
.ss 
EndVerticalss 
(ss 
)ss  
;ss  !
EditorGUILayoutvv 
.vv 
BeginVerticalvv 
(vv  
(vv! "
GUIStylevv" *
)vv* +
$strvv, 5
)vv5 6
;vv6 7
EditorGUILayoutww 
.ww 

LabelFieldww 
(ww 
$strww <
,ww< =
EditorStylesww= I
.wwI J
	boldLabelwwJ S
)wwS T
;wwT U
EditorGUILayoutxx 
.xx 

LabelFieldxx 
(xx 
$strxx Q
)xxQ R
;xxR S
EditorGUILayoutyy 
.yy 
PropertyFieldyy 
(yy  !
serializedObjectyy! 1
.yy1 2
FindPropertyyy2 >
(yy> ?
$stryy? O
)yyO P
,yyP Q

GUIContentyyQ [
.yy[ \
noneyy\ `
)yy` a
;yya b
ifzz 
(zz 
serializedObjectzz 
.zz 
FindPropertyzz "
(zz" #
$strzz# 3
)zz3 4
.zz4 5 
objectReferenceValuezz5 I
!=zzJ L
nullzzM Q
)zzQ R
{zzR S
EditorGUILayout{{ 
.{{ 

LabelField{{ 
({{ 
$str{{ N
){{N O
;{{O P
EditorGUILayout|| 
.|| 
PropertyField||  
(||! "
serializedObject||" 2
.||2 3
FindProperty||3 ?
(||? @
$str||@ R
)||R S
,||S T

GUIContent||T ^
.||^ _
none||_ c
)||c d
;||d e
if}} 
(}} 
serializedObject}} 
.}} 
FindProperty}} #
(}}# $
$str}}$ 6
)}}6 7
.}}7 8
stringValue}}8 C
==}}D F
$str}}G I
)}}I J
{}}J K
EditorGUILayout~~ 
.~~ 
HelpBox~~ 
(~~ 
$str	~~ ó
,
~~ó ò
MessageType
~~ô §
.
~~§ •
Error
~~• ™
,
~~™ ´
true
~~¨ ∞
)
~~∞ ±
;
~~± ≤
} 
}
ÄÄ 
EditorGUILayout
ÇÇ 
.
ÇÇ 
Space
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
EditorGUILayout
ÉÉ 
.
ÉÉ 

LabelField
ÉÉ 
(
ÉÉ 
$str
ÉÉ k
)
ÉÉk l
;
ÉÉl m
EditorGUILayout
ÑÑ 
.
ÑÑ 
BeginHorizontal
ÑÑ !
(
ÑÑ" #
)
ÑÑ# $
;
ÑÑ$ %
EditorGUILayout
ÖÖ 
.
ÖÖ 
PropertyField
ÖÖ 
(
ÖÖ  !
serializedObject
ÖÖ! 1
.
ÖÖ1 2
FindProperty
ÖÖ2 >
(
ÖÖ> ?
$str
ÖÖ? L
)
ÖÖL M
,
ÖÖM N

GUIContent
ÖÖN X
.
ÖÖX Y
none
ÖÖY ]
)
ÖÖ] ^
;
ÖÖ^ _
EditorGUILayout
ÜÜ 
.
ÜÜ 
PropertyField
ÜÜ 
(
ÜÜ  !
serializedObject
ÜÜ! 1
.
ÜÜ1 2
FindProperty
ÜÜ2 >
(
ÜÜ> ?
$str
ÜÜ? L
)
ÜÜL M
,
ÜÜM N

GUIContent
ÜÜN X
.
ÜÜX Y
none
ÜÜY ]
)
ÜÜ] ^
;
ÜÜ^ _
EditorGUILayout
áá 
.
áá 
EndHorizontal
áá 
(
áá  !
)
áá! "
;
áá" #
if
àà 
(
àà 
serializedObject
àà 
.
àà 
FindProperty
àà "
(
àà" #
$str
àà# 0
)
àà0 1
.
àà1 2
intValue
àà2 :
<
àà; <
$num
àà= >
)
àà> ?
{
àà? @
EditorGUILayout
ââ 
.
ââ 
HelpBox
ââ 
(
ââ 
$str
ââ V
,
ââV W
MessageType
ââX c
.
ââc d
Error
ââd i
,
ââi j
true
ââk o
)
ââo p
;
ââp q
}
ää 
if
ãã 
(
ãã 
serializedObject
ãã 
.
ãã 
FindProperty
ãã "
(
ãã" #
$str
ãã# 0
)
ãã0 1
.
ãã1 2
intValue
ãã2 :
!=
ãã; =
-
ãã> ?
$num
ãã? @
&&
ããA C
serializedObject
åå 
.
åå 
FindProperty
åå  
(
åå  !
$str
åå! .
)
åå. /
.
åå/ 0
intValue
åå0 8
<
åå9 :
serializedObject
åå; K
.
ååK L
FindProperty
ååL X
(
ååX Y
$str
ååY f
)
ååf g
.
ååg h
intValue
ååh p
)
ååp q
{
ååq r
EditorGUILayout
çç 
.
çç 
HelpBox
çç 
(
çç 
$str
çç x
+
ççy z
$str
éé k
,
éék l
MessageType
éém x
.
ééx y
Error
ééy ~
,
éé~ 
trueééÄ Ñ
)ééÑ Ö
;ééÖ Ü
}
èè 
EditorGUILayout
ëë 
.
ëë 
Space
ëë 
(
ëë 
)
ëë 
;
ëë 
EditorGUILayout
íí 
.
íí 

LabelField
íí 
(
íí 
$str
íí S
)
ííS T
;
ííT U
	EditorGUI
ìì 
.
ìì 
indentLevel
ìì 
++
ìì 
;
ìì 
EditorGUILayout
îî 
.
îî 
PropertyField
îî 
(
îî  !
serializedObject
îî! 1
.
îî1 2
FindProperty
îî2 >
(
îî> ?
$str
îî? J
)
îîJ K
,
îîK L
true
îîL P
)
îîP Q
;
îîQ R
	EditorGUI
ïï 
.
ïï 
indentLevel
ïï 
--
ïï 
;
ïï 
if
óó 
(
óó 
rpgTalk
óó 
.
óó 
shouldUsePhotos
óó 
)
óó 
{
óó  
EditorGUILayout
òò 
.
òò 
Space
òò 
(
òò 
)
òò 
;
òò 
EditorGUILayout
ôô 
.
ôô 

LabelField
ôô 
(
ôô 
$str
ôô H
)
ôôH I
;
ôôI J
	EditorGUI
öö 
.
öö 
indentLevel
öö 
++
öö 
;
öö 
EditorGUILayout
õõ 
.
õõ 
PropertyField
õõ  
(
õõ! "
serializedObject
õõ" 2
.
õõ2 3
FindProperty
õõ3 ?
(
õõ@ A
$str
õõA I
)
õõI J
,
õõJ K
true
õõL P
)
õõP Q
;
õõQ R
	EditorGUI
úú 
.
úú 
indentLevel
úú 
--
úú 
;
úú 
}
ùù 
EditorGUILayout
†† 
.
†† 
EndVertical
†† 
(
†† 
)
††  
;
††  !
EditorGUILayout
¢¢ 
.
¢¢ 
BeginVertical
¢¢ 
(
¢¢  
(
¢¢! "
GUIStyle
¢¢" *
)
¢¢* +
$str
¢¢, 5
)
¢¢5 6
;
¢¢6 7
EditorGUILayout
££ 
.
££ 

LabelField
££ 
(
££ 
$str
££ )
,
££) *
EditorStyles
££* 6
.
££6 7
	boldLabel
££7 @
)
££@ A
;
££A B
EditorGUILayout
§§ 
.
§§ 

LabelField
§§ 
(
§§ 
$str
§§ J
)
§§J K
;
§§K L
EditorGUILayout
•• 
.
•• 
PropertyField
•• 
(
••  !
serializedObject
••! 1
.
••1 2
FindProperty
••2 >
(
••> ?
$str
••? T
)
••T U
,
••U V

GUIContent
••V `
.
••` a
none
••a e
)
••e f
;
••f g
if
¶¶ 
(
¶¶ 
serializedObject
¶¶ 
.
¶¶ 
FindProperty
¶¶ "
(
¶¶" #
$str
¶¶# 8
)
¶¶8 9
.
¶¶9 :"
objectReferenceValue
¶¶: N
!=
¶¶O Q
null
¶¶R V
)
¶¶V W
{
¶¶W X
EditorGUILayout
ßß 
.
ßß 

LabelField
ßß 
(
ßß 
$str
ßß W
)
ßßW X
;
ßßX Y
EditorGUILayout
®® 
.
®® 
PropertyField
®®  
(
®®! "
serializedObject
®®" 2
.
®®2 3
FindProperty
®®3 ?
(
®®? @
$str
®®@ U
)
®®U V
,
®®V W

GUIContent
®®W a
.
®®a b
none
®®b f
)
®®f g
;
®®g h
EditorGUILayout
©© 
.
©© 

LabelField
©© 
(
©© 
$str
©© l
)
©©l m
;
©©m n
EditorGUILayout
™™ 
.
™™ 
PropertyField
™™  
(
™™! "
serializedObject
™™" 2
.
™™2 3
FindProperty
™™3 ?
(
™™? @
$str
™™@ Q
)
™™Q R
,
™™R S

GUIContent
™™S ]
.
™™] ^
none
™™^ b
)
™™b c
;
™™c d
}
≤≤ 
EditorGUILayout
≥≥ 
.
≥≥ 
EndVertical
≥≥ 
(
≥≥ 
)
≥≥  
;
≥≥  !
EditorGUILayout
µµ 
.
µµ 
BeginVertical
µµ 
(
µµ  
(
µµ! "
GUIStyle
µµ" *
)
µµ* +
$str
µµ, 5
)
µµ5 6
;
µµ6 7
EditorGUILayout
∂∂ 
.
∂∂ 

LabelField
∂∂ 
(
∂∂ 
$str
∂∂ %
,
∂∂% &
EditorStyles
∂∂& 2
.
∂∂2 3
	boldLabel
∂∂3 <
)
∂∂< =
;
∂∂= >
EditorGUILayout
∑∑ 
.
∑∑ 

LabelField
∑∑ 
(
∑∑ 
$str
∑∑ E
)
∑∑E F
;
∑∑F G
EditorGUILayout
∏∏ 
.
∏∏ 
PropertyField
∏∏ 
(
∏∏  !
serializedObject
∏∏! 1
.
∏∏1 2
FindProperty
∏∏2 >
(
∏∏> ?
$str
∏∏? J
)
∏∏J K
,
∏∏K L

GUIContent
∏∏L V
.
∏∏V W
none
∏∏W [
)
∏∏[ \
;
∏∏\ ]
EditorGUILayout
ππ 
.
ππ 

LabelField
ππ 
(
ππ 
$str
ππ V
)
ππV W
;
ππW X
EditorGUILayout
∫∫ 
.
∫∫ 
PropertyField
∫∫ 
(
∫∫  !
serializedObject
∫∫! 1
.
∫∫1 2
FindProperty
∫∫2 >
(
∫∫> ?
$str
∫∫? J
)
∫∫J K
,
∫∫K L

GUIContent
∫∫L V
.
∫∫V W
none
∫∫W [
)
∫∫[ \
;
∫∫\ ]
EditorGUILayout
ªª 
.
ªª 
EndVertical
ªª 
(
ªª 
)
ªª  
;
ªª  !
EditorGUILayout
ΩΩ 
.
ΩΩ 
	Separator
ΩΩ 
(
ΩΩ 
)
ΩΩ 
;
ΩΩ 
EditorGUILayout
øø 
.
øø 
BeginVertical
øø 
(
øø  
(
øø! "
GUIStyle
øø" *
)
øø* +
$str
øø, 5
)
øø5 6
;
øø6 7
EditorGUILayout
¿¿ 
.
¿¿ 

LabelField
¿¿ 
(
¿¿ 
$str
¿¿ D
,
¿¿D E
EditorStyles
¿¿E Q
.
¿¿Q R
	boldLabel
¿¿R [
)
¿¿[ \
;
¿¿\ ]
GUIStyle
¡¡ 

style
¡¡ 
=
¡¡ 
new
¡¡ 
GUIStyle
¡¡ 
(
¡¡  !
)
¡¡! "
;
¡¡" #
style
¬¬ 
.
¬¬ 
richText
¬¬ 
=
¬¬ 
true
¬¬ 
;
¬¬ 
string
√√ 
color
√√	 
=
√√ 
$str
√√ 
;
√√ 
	GUILayout
ƒƒ 
.
ƒƒ 
Label
ƒƒ 
(
ƒƒ 
string
ƒƒ 
.
ƒƒ 
Format
ƒƒ 
(
ƒƒ  
$strƒƒ  Ö
,ƒƒÖ Ü
colorƒƒá å
)ƒƒå ç
,ƒƒç é
styleƒƒè î
)ƒƒî ï
;ƒƒï ñ
EditorGUILayout
≈≈ 
.
≈≈ 
BeginHorizontal
≈≈ !
(
≈≈" #
)
≈≈# $
;
≈≈$ %
if
∆∆ 
(
∆∆ 
	GUILayout
∆∆ 
.
∆∆ 
Button
∆∆ 
(
∆∆ 
$str
∆∆ 4
)
∆∆4 5
)
∆∆5 6
{
∆∆7 8
Application
«« 
.
«« 
OpenURL
«« 
(
«« 
$str
«« @
)
««@ A
;
««A B
}
»» 
if
…… 
(
…… 
	GUILayout
…… 
.
…… 
Button
…… 
(
…… 
$str
…… /
)
……/ 0
)
……0 1
{
……2 3
Application
   
.
   
OpenURL
   
(
   
$str
   :
)
  : ;
;
  ; <
}
ÀÀ 
EditorGUILayout
ÃÃ 
.
ÃÃ 
EndHorizontal
ÃÃ 
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
GUIStyle
ÕÕ 

centeredStyle
ÕÕ 
=
ÕÕ 
GUI
ÕÕ 
.
ÕÕ 
skin
ÕÕ #
.
ÕÕ# $
GetStyle
ÕÕ$ ,
(
ÕÕ, -
$str
ÕÕ- 4
)
ÕÕ4 5
;
ÕÕ5 6
centeredStyle
ŒŒ 
.
ŒŒ 
	alignment
ŒŒ 
=
ŒŒ 

TextAnchor
ŒŒ &
.
ŒŒ& '
UpperCenter
ŒŒ' 2
;
ŒŒ2 3
EditorGUILayout
œœ 
.
œœ 

LabelField
œœ 
(
œœ 
$str
œœ 3
,
œœ3 4
centeredStyle
œœ4 A
)
œœA B
;
œœB C
EditorGUILayout
–– 
.
–– 
EndVertical
–– 
(
–– 
)
––  
;
––  !
if
‘‘ 
(
‘‘ 
	EditorGUI
‘‘ 
.
‘‘ 
EndChangeCheck
‘‘ 
(
‘‘ 
)
‘‘ 
)
‘‘  
serializedObject
’’ 
.
’’ %
ApplyModifiedProperties
’’ +
(
’’+ ,
)
’’, -
;
’’- .
EditorGUIUtility
÷÷ 
.
÷÷ 
LookLikeControls
÷÷ #
(
÷÷# $
)
÷÷$ %
;
÷÷% &
}
ÿÿ 
}ŸŸ ±Œ
KC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\RPGTALK\RPGTalk.cs
[		 
AddComponentMenu		 
(		 
$str		 *
)		* +
]		+ ,
public

 
class

 
RPGTalk

 
:

 
MonoBehaviour

 $
{

% &
[ 
Tooltip 	
(	 

$str
 ?
)? @
]@ A
public 
bool 
startOnAwake 
= 
true  
;  !
[ 
Tooltip 	
(	 

$str
 C
)C D
]D E
public 

GameObject 
[ 
] 
showWithDialog #
;# $
[ 
Tooltip 	
(	 

$str
 
) 
] 
public 
Text 
textUI 
; 
[ 
Tooltip 	
(	 

$str
 0
)0 1
]1 2
public 
bool 
dialoger 
; 
[ 
Tooltip 	
(	 

$str
 #
)# $
]$ %
public 
Text 

dialogerUI 
; 
[ 
Tooltip 	
(	 

$str
 .
). /
]/ 0
public 
bool 
shouldFollow 
; 
[ 
Tooltip 	
(	 

$str
 
) 
] 
public 

GameObject 
follow 
; 
[!! 
Tooltip!! 	
(!!	 

$str!!
 <
)!!< =
]!!= >
public"" 
Vector3"" 
followOffset"" 
;"" 
[$$ 
Tooltip$$ 	
($$	 

$str$$
 6
)$$6 7
]$$7 8
public%% 
bool%% 
	billboard%% 
=%% 
true%% 
;%% 
['' 
Tooltip'' 	
(''	 

$str''
 +
)''+ ,
]'', -
public(( 
bool(( 

mainCamera(( 
=(( 
true(( 
;(( 
[** 
Tooltip** 	
(**	 

$str**
 +
)**+ ,
]**, -
public++ 
Camera++ 
otherCamera++ 
;++ 
[-- 
Tooltip-- 	
(--	 

$str--
 $
)--$ %
]--% &
public.. 
	TextAsset.. 

txtToParse.. 
;.. 
[11 
Tooltip11 	
(11	 

$str11
 <
)11< =
]11= >
public22 
bool22 
enableQuickSkip22 
=22 
true22 #
;22# $
[44 
Tooltip44 	
(44	 

$str44
 n
)44n o
]44o p
public55 
MonoBehaviour55 
callbackScript55 $
;55$ %
[77 
Tooltip77 	
(77	 

$str77
 6
)776 7
]777 8
public88 
string88 
callbackFunction88 
;88  
[:: 
Tooltip:: 	
(::	 

$str::
 H
)::H I
]::I J
public;; 
Animator;; 
animatorWhenTalking;; $
;;;$ %
[== 
Tooltip== 	
(==	 

$str==
 4
)==4 5
]==5 6
public>> 
string>> 
animatorBooleanName>> "
;>>" #
[@@ 
Tooltip@@ 	
(@@	 

$str@@
 C
)@@C D
]@@D E
publicAA 
stringAA 
animatorIntNameAA 
;AA 
privateLL 
intLL	 
cutscenePositionLL 
=LL 
$numLL  !
;LL! "
[NN 
TooltipNN 	
(NN	 

$strNN
 7
)NN7 8
]NN8 9
publicOO 
floatOO 
	textSpeedOO 
=OO 
$numOO 
;OO  
privateQQ 
floatQQ	 
currentCharQQ 
=QQ 
$numQQ !
;QQ! "
privateTT 
ListTT	 
<TT 
RpgtalkElementTT 
>TT 
rpgtalkElementsTT -
;TT- .
[VV 
TooltipVV 	
(VV	 

$strVV
 ;
)VV; <
]VV< =
publicWW 

GameObjectWW 
blinkWhenReadyWW !
;WW! "
[YY 
TooltipYY 	
(YY	 

$strYY
 .
)YY. /
]YY/ 0
publicZZ 
RPGTalkVariableZZ 
[ZZ 
]ZZ 
	variablesZZ #
;ZZ# $
[\\ 
Tooltip\\ 	
(\\	 

$str\\
 #
)\\# $
]\\$ %
public]] 
bool]] 
shouldUsePhotos]] 
;]] 
[__ 
Tooltip__ 	
(__	 

$str__
 2
)__2 3
]__3 4
public`` 
RPGTalkPhoto`` 
[`` 
]`` 
photos`` 
;`` 
[bb 
Tooltipbb 	
(bb	 

$strbb
 6
)bb6 7
]bb7 8
publiccc 
Imagecc 
UIPhotocc 
;cc 
[ee 
Tooltipee 	
(ee	 

$stree
 J
)eeJ K
]eeK L
publicff 
boolff 
shouldStayOnScreenff 
;ff  
publichh 
boolhh 
lookForClickhh 
=hh 
truehh  
;hh  !
[jj 
Tooltipjj 	
(jj	 

$strjj
 =
)jj= >
]jj> ?
publickk 
	AudioClipkk 
	textAudiokk 
;kk 
[ll 
Tooltipll 	
(ll	 

$strll
 :
)ll: ;
]ll; <
publicmm 
	AudioClipmm 
	passAudiomm 
;mm 
AudioSourcenn 
rpgAudioSorcenn 
;nn 
[qq 
Tooltipqq 	
(qq	 

$strqq
 !
)qq! "
]qq" #
publicrr 
boolrr 
passWithMouserr 
=rr 
truerr !
;rr! "
[tt 
Tooltiptt 	
(tt	 

$strtt
 A
)ttA B
]ttB C
publicuu 
stringuu 
passWithInputButtonuu "
;uu" #
[ww 
Tooltipww 	
(ww	 

$strww
 *
)ww* +
]ww+ ,
publicxx 
intxx 
lineToStartxx 
=xx 
$numxx 
;xx 
[yy 
Tooltipyy 	
(yy	 

$stryy
 Q
)yyQ R
]yyR S
publiczz 
intzz 
lineToBreakzz 
=zz 
-zz 
$numzz 
;zz 
private|| 
int||	 
actualLineToStart|| 
;|| 
private}} 
int}}	 
actualLineToBreak}} 
;}} 
[ 
Tooltip 	
(	 

$str
 8
)8 9
]9 :
public
ÄÄ 
bool
ÄÄ 
wordWrap
ÄÄ 
=
ÄÄ 
true
ÄÄ 
;
ÄÄ 
public
ÅÅ 
int
ÅÅ 
maxCharInWidth
ÅÅ 
=
ÅÅ 
$num
ÅÅ 
;
ÅÅ  
public
ÇÇ 
int
ÇÇ 
maxCharInHeight
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
;
ÇÇ  
public
ÑÑ 

bool
ÑÑ 
dialogueFinished
ÑÑ  
;
ÑÑ  !
void
áá 
Awake
áá 
(
áá 
)
áá 
{
áá 
if
àà 
(
àà 
startOnAwake
àà 
)
àà 
{
àà 
NewTalk
ââ 

(
ââ 
)
ââ 
;
ââ 
}
ää 
}
ãã 
public
êê 
void
êê 
NewTalk
êê 
(
êê 
)
êê 
{
ëë 
if
ìì 
(
ìì 
lineToBreak
ìì 
==
ìì 
-
ìì 
$num
ìì 
)
ìì 
{
ìì 
actualLineToBreak
îî 
=
îî 
lineToBreak
îî "
;
îî" #
}
ïï 
else
ïï 
{
ïï 
actualLineToBreak
ññ 
=
ññ 
lineToBreak
ññ "
-
ññ" #
$num
ññ# $
;
ññ$ %
}
óó 
actualLineToStart
òò 
=
òò 
lineToStart
òò !
-
òò! "
$num
òò" #
;
òò# $
if
öö 
(
öö 
	textAudio
öö 
!=
öö 
null
öö 
)
öö 
{
öö 
if
õõ 
(
õõ 
rpgAudioSorce
õõ 
==
õõ 
null
õõ 
)
õõ 
{
õõ 
rpgAudioSorce
úú 
=
úú 

gameObject
úú 
.
úú 
AddComponent
úú +
<
úú+ ,
AudioSource
úú, 7
>
úú7 8
(
úú9 :
)
úú: ;
;
úú; <
}
ùù 
}
ûû 
lookForClick
†† 
=
†† 
true
†† 
;
†† 
CancelInvoke
££ 
(
££ 
$str
££ 
)
££ 
;
££ 
if
§§ 
(
§§ 
blinkWhenReady
§§ 
)
§§ 
{
§§ 
blinkWhenReady
•• 
.
•• 
	SetActive
•• 
(
•• 
false
•• "
)
••" #
;
••# $
}
¶¶ 
cutscenePosition
™™ 
=
™™ 
$num
™™ 
;
™™ 
currentChar
´´ 
=
´´ 
$num
´´ 
;
´´ 
rpgtalkElements
ØØ 
=
ØØ 
new
ØØ 
List
ØØ 
<
ØØ 
RpgtalkElement
ØØ +
>
ØØ+ ,
(
ØØ, -
)
ØØ- .
;
ØØ. /
if
≤≤ 
(
≤≤ 

txtToParse
≤≤ 
!=
≤≤ 
null
≤≤ 
)
≤≤ 
{
≤≤ 
StringReader
¥¥ 
reader
¥¥ 
=
¥¥ 
new
¥¥ 
StringReader
¥¥ )
(
¥¥* +

txtToParse
¥¥+ 5
.
¥¥5 6
text
¥¥6 :
)
¥¥: ;
;
¥¥; <
string
∂∂ 	
line
∂∂
 
=
∂∂ 
reader
∂∂ 
.
∂∂ 
ReadLine
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
int
∑∑ 
currentLine
∑∑ 
=
∑∑ 
$num
∑∑ 
;
∑∑ 
while
ππ 
(
ππ	 

line
ππ
 
!=
ππ 
null
ππ 
)
ππ 
{
ππ 
if
ªª 
(
ªª 
currentLine
ªª 
>=
ªª 
actualLineToStart
ªª (
)
ªª( )
{
ªª* +
if
ºº 
(
ºº 	
actualLineToBreak
ºº	 
==
ºº 
-
ºº 
$num
ºº  
||
ºº! #
currentLine
ºº$ /
<=
ºº0 2
actualLineToBreak
ºº3 D
)
ººD E
{
ººF G
if
ææ 
(
ææ	 

wordWrap
ææ
 
)
ææ 
{
ææ  
CheckIfTheTextFits
øø 
(
øø 
line
øø 
)
øø  
;
øø  !
}
¿¿ 
else
¿¿ 
{
¿¿ 
rpgtalkElements
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
readSceneElement
¡¡ ,
(
¡¡- .
line
¡¡. 2
)
¡¡2 3
)
¡¡3 4
;
¡¡4 5
}
¬¬ 
}
√√ 
}
ƒƒ 
line
∆∆ 
=
∆∆	 

reader
∆∆ 
.
∆∆ 
ReadLine
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆ 
currentLine
«« 
++
«« 
;
«« 
}
»» 
if
ÀÀ 
(
ÀÀ 
rpgtalkElements
ÀÀ 
.
ÀÀ 
Count
ÀÀ 
==
ÀÀ 
$num
ÀÀ  
)
ÀÀ  !
{
ÀÀ! "
Debug
ÃÃ 	
.
ÃÃ	 

LogError
ÃÃ
 
(
ÃÃ 
$str
ÃÃ [
)
ÃÃ[ \
;
ÃÃ\ ]
return
ÕÕ 

;
ÕÕ
 
}
ŒŒ 
}
œœ 
if
÷÷ 
(
÷÷ 
dialoger
÷÷ 
)
÷÷ 
{
÷÷ 

dialogerUI
◊◊ 
.
◊◊ 
text
◊◊ 
=
◊◊ 
rpgtalkElements
◊◊ $
[
◊◊% &
$num
◊◊& '
]
◊◊' (
.
◊◊( )
speakerName
◊◊) 4
;
◊◊4 5
if
ÿÿ 
(
ÿÿ 
shouldUsePhotos
ÿÿ 
)
ÿÿ 
{
ÿÿ 
for
ŸŸ 
(
ŸŸ 	
int
ŸŸ	 
i
ŸŸ 
=
ŸŸ 
$num
ŸŸ 
;
ŸŸ 
i
ŸŸ 
<
ŸŸ 
photos
ŸŸ 
.
ŸŸ 
Length
ŸŸ %
;
ŸŸ% &
i
ŸŸ' (
++
ŸŸ( *
)
ŸŸ* +
{
ŸŸ, -
if
⁄⁄ 
(
⁄⁄ 	
photos
⁄⁄	 
[
⁄⁄ 
i
⁄⁄ 
]
⁄⁄ 
.
⁄⁄ 
name
⁄⁄ 
==
⁄⁄ 
rpgtalkElements
⁄⁄ +
[
⁄⁄, -
$num
⁄⁄- .
]
⁄⁄. /
.
⁄⁄/ 0!
originalSpeakerName
⁄⁄0 C
)
⁄⁄C D
{
⁄⁄E F
UIPhoto
€€ 
.
€€ 
sprite
€€ 
=
€€ 
photos
€€ 
[
€€ 
i
€€  
]
€€  !
.
€€! "
photo
€€" '
;
€€' (
if
‹‹ 
(
‹‹ 	!
animatorWhenTalking
‹‹	 
&&
‹‹ 
animatorIntName
‹‹  /
!=
‹‹0 2
$str
‹‹3 5
)
‹‹5 6
{
‹‹6 7!
animatorWhenTalking
›› 
.
›› 

SetInteger
›› %
(
››& '
animatorIntName
››' 6
,
››6 7
i
››8 9
)
››9 :
;
››: ;
}
ﬁﬁ 
}
ﬂﬂ 
}
‡‡ 
}
·· 
}
‚‚ 
textUI
ÂÂ 
.
ÂÂ 	
enabled
ÂÂ	 
=
ÂÂ 
true
ÂÂ 
;
ÂÂ 
if
ÊÊ 
(
ÊÊ 
dialoger
ÊÊ 
)
ÊÊ 
{
ÊÊ 

dialogerUI
ÁÁ 
.
ÁÁ 
enabled
ÁÁ 
=
ÁÁ 
true
ÁÁ 
;
ÁÁ 
}
ËË 
for
ÈÈ 
(
ÈÈ 
int
ÈÈ 

i
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
;
ÈÈ 
i
ÈÈ 
<
ÈÈ 
showWithDialog
ÈÈ $
.
ÈÈ$ %
Length
ÈÈ% +
;
ÈÈ+ ,
i
ÈÈ- .
++
ÈÈ. 0
)
ÈÈ0 1
{
ÈÈ2 3
showWithDialog
ÍÍ 
[
ÍÍ 
i
ÍÍ 
]
ÍÍ 
.
ÍÍ 
	SetActive
ÍÍ 
(
ÍÍ 
true
ÍÍ #
)
ÍÍ# $
;
ÍÍ$ %
}
ÎÎ 
if
ÔÔ 
(
ÔÔ !
animatorWhenTalking
ÔÔ 
!=
ÔÔ 
null
ÔÔ !
)
ÔÔ! "
{
ÔÔ# $!
animatorWhenTalking
 
.
 
SetBool
 
(
  !
animatorBooleanName
  3
,
3 4
true
5 9
)
9 :
;
: ;
}
ÒÒ 
}
ÚÚ 
private
ÙÙ 
RpgtalkElement
ÙÙ	 
readSceneElement
ÙÙ (
(
ÙÙ( )
string
ÙÙ) /
line
ÙÙ0 4
)
ÙÙ4 5
{
ÙÙ6 7
RpgtalkElement
ˆˆ 

newElement
ˆˆ 
=
ˆˆ 
new
ˆˆ !
RpgtalkElement
ˆˆ" 0
(
ˆˆ0 1
)
ˆˆ1 2
;
ˆˆ2 3

newElement
¯¯ 
.
¯¯ !
originalSpeakerName
¯¯  
=
¯¯! "
line
¯¯# '
;
¯¯' (
for
˚˚ 
(
˚˚ 
int
˚˚ 

i
˚˚ 
=
˚˚ 
$num
˚˚ 
;
˚˚ 
i
˚˚ 
<
˚˚ 
	variables
˚˚ 
.
˚˚  
Length
˚˚  &
;
˚˚& '
i
˚˚( )
++
˚˚) +
)
˚˚+ ,
{
˚˚- .
if
¸¸ 
(
¸¸ 
line
¸¸ 
.
¸¸ 
Contains
¸¸ 
(
¸¸ 
	variables
¸¸ 
[
¸¸  
i
¸¸  !
]
¸¸! "
.
¸¸" #
variableName
¸¸# /
)
¸¸/ 0
)
¸¸0 1
{
¸¸2 3
line
˝˝ 
=
˝˝	 

line
˝˝ 
.
˝˝ 
Replace
˝˝ 
(
˝˝ 
	variables
˝˝ "
[
˝˝" #
i
˝˝# $
]
˝˝$ %
.
˝˝% &
variableName
˝˝& 2
,
˝˝2 3
	variables
˝˝4 =
[
˝˝= >
i
˝˝> ?
]
˝˝? @
.
˝˝@ A
variableValue
˝˝A N
)
˝˝N O
;
˝˝O P
}
˛˛ 
}
ˇˇ 
if
ÇÇ 
(
ÇÇ 
dialoger
ÇÇ 
)
ÇÇ 
{
ÇÇ 
if
ÑÑ 
(
ÑÑ 
line
ÑÑ 
.
ÑÑ 
IndexOf
ÑÑ 
(
ÑÑ 
$char
ÑÑ 
)
ÑÑ 
!=
ÑÑ 
-
ÑÑ 
$num
ÑÑ 
)
ÑÑ  
{
ÑÑ! "
string
ÜÜ 

[
ÜÜ
 
]
ÜÜ 
	splitLine
ÜÜ 
=
ÜÜ 
line
ÜÜ 
.
ÜÜ 
Split
ÜÜ #
(
ÜÜ$ %
new
ÜÜ% (
char
ÜÜ) -
[
ÜÜ- .
]
ÜÜ. /
{
ÜÜ0 1
$char
ÜÜ2 5
}
ÜÜ6 7
,
ÜÜ7 8
$num
ÜÜ9 :
)
ÜÜ: ;
;
ÜÜ; <

newElement
àà 
.
àà 
speakerName
àà 
=
àà 
	splitLine
àà &
[
àà' (
$num
àà( )
]
àà) *
.
àà* +
Trim
àà+ /
(
àà0 1
)
àà1 2
;
àà2 3

newElement
ää 
.
ää 

dialogText
ää 
=
ää 
	splitLine
ää %
[
ää& '
$num
ää' (
]
ää( )
.
ää) *
Trim
ää* .
(
ää/ 0
)
ää0 1
;
ää1 2
string
åå 

[
åå
 
]
åå 
originalSplitLine
åå 
=
åå  

newElement
åå! +
.
åå+ ,!
originalSpeakerName
åå, ?
.
åå? @
Split
åå@ E
(
ååF G
new
ååG J
char
ååK O
[
ååO P
]
ååP Q
{
ååR S
$char
ååT W
}
ååX Y
,
ååY Z
$num
ååZ [
)
åå[ \
;
åå\ ]

newElement
éé 
.
éé !
originalSpeakerName
éé "
=
éé# $
originalSplitLine
éé% 6
[
éé7 8
$num
éé8 9
]
éé9 :
.
éé: ;
Trim
éé; ?
(
éé@ A
)
ééA B
;
ééB C
}
êê 
else
êê 	
{
êê
 

newElement
ëë 
.
ëë 

dialogText
ëë 
=
ëë 
line
ëë  
;
ëë  !
}
íí 
}
ìì 
else
ìì 
{
ìì	 


newElement
îî 
.
îî 

dialogText
îî 
=
îî 
line
îî 
;
îî  
}
ïï 

newElement
óó 
.
óó 
	hasDialog
óó 
=
óó 
true
óó 
;
óó 
return
õõ 

newElement
õõ	 
;
õõ 
}
ùù 
void
†† 
Update
†† 
(
†† 
)
†† 
{
†† 
if
°° 
(
°° 
!
°° 
textUI
°° 
.
°° 

gameObject
°° 
.
°° 
activeInHierarchy
°° *
)
°°* +
{
°°, -
dialogueFinished
¢¢ 
=
¢¢ 
false
¢¢ $
;
¢¢$ %
return
££ 
;
££ 
}
§§ 
if
ßß 
(
ßß 
follow
ßß 
!=
ßß 
null
ßß 
)
ßß 
{
ßß 
Vector3
®® 

newPos
®® 
=
®® 
follow
®® 
.
®® 
	transform
®® $
.
®®$ %
position
®®% -
-
®®. /
followOffset
®®0 <
;
®®< =

Quaternion
©© 
newRotation
©© 
=
©© 
follow
©© "
.
©©" #
	transform
©©# ,
.
©©, -
rotation
©©- 5
;
©©5 6
if
™™ 
(
™™ 
	billboard
™™ 
)
™™ 
{
™™ 
if
´´ 
(
´´ 

mainCamera
´´ 
)
´´ 
{
´´ 
newRotation
¨¨ 
=
¨¨ 
Camera
¨¨ 
.
¨¨ 
main
¨¨ 
.
¨¨ 
	transform
¨¨ (
.
¨¨( )
rotation
¨¨) 1
;
¨¨1 2
}
≠≠ 
else
≠≠ 

{
≠≠ 
newRotation
ÆÆ 
=
ÆÆ 
otherCamera
ÆÆ 
.
ÆÆ 
	transform
ÆÆ (
.
ÆÆ( )
rotation
ÆÆ) 1
;
ÆÆ1 2
}
ØØ 
}
∞∞ 
for
≤≤ 
(
≤≤ 
int
≤≤ 
i
≤≤ 
=
≤≤ 
$num
≤≤ 
;
≤≤ 
i
≤≤ 
<
≤≤ 
showWithDialog
≤≤ %
.
≤≤% &
Length
≤≤& ,
;
≤≤, -
i
≤≤. /
++
≤≤/ 1
)
≤≤1 2
{
≤≤3 4
showWithDialog
≥≥ 
[
≥≥ 
i
≥≥ 
]
≥≥ 
.
≥≥ 
	transform
≥≥ 
.
≥≥  
position
≥≥  (
=
≥≥) *
newPos
≥≥+ 1
;
≥≥1 2
showWithDialog
¥¥ 
[
¥¥ 
i
¥¥ 
]
¥¥ 
.
¥¥ 
	transform
¥¥  
.
¥¥  !
rotation
¥¥! )
=
¥¥* +
newRotation
¥¥, 7
;
¥¥7 8
}
µµ 
}
∫∫ 
if
ΩΩ 
(
ΩΩ 
textUI
ΩΩ 
.
ΩΩ 
enabled
ΩΩ 
&&
ΩΩ 
currentChar
ææ 
>=
ææ 
rpgtalkElements
ææ !
[
ææ" #
cutscenePosition
ææ# 3
-
ææ4 5
$num
ææ6 7
]
ææ7 8
.
ææ8 9

dialogText
ææ9 C
.
ææC D
Length
ææD J
)
ææJ K
{
ææL M
if
¬¬ 
(
¬¬ 
cutscenePosition
¬¬ 
>=
¬¬ 
rpgtalkElements
¬¬ *
.
¬¬* +
Count
¬¬+ 0
&&
¬¬1 3 
shouldStayOnScreen
¬¬4 F
)
¬¬F G
{
¬¬H I
if
√√ 
(
√√ 
lookForClick
√√ 
&&
√√ 
(
√√ 
(
ƒƒ 
passWithMouse
ƒƒ 
&&
ƒƒ 
Input
ƒƒ 
.
ƒƒ  
GetMouseButtonDown
ƒƒ /
(
ƒƒ0 1
$num
ƒƒ1 2
)
ƒƒ2 3
)
ƒƒ3 4
||
ƒƒ5 7
(
≈≈ !
passWithInputButton
≈≈ 
!=
≈≈ 
$str
≈≈ 
&&
≈≈  "
Input
≈≈# (
.
≈≈( )
GetButtonDown
≈≈) 6
(
≈≈6 7!
passWithInputButton
≈≈7 J
)
≈≈J K
)
≈≈K L
)
∆∆ 
)
∆∆ 
{
∆∆ 
if
»» 
(
»» 	
	passAudio
»»	 
!=
»» 
null
»» 
&&
»» 
!
»» 
rpgAudioSorce
»» ,
.
»», -
	isPlaying
»»- 6
)
»»6 7
{
»»8 9
rpgAudioSorce
…… 
.
…… 
clip
…… 
=
…… 
	passAudio
…… $
;
……$ %
rpgAudioSorce
   
.
   
Play
   
(
   
)
   
;
   
}
ÀÀ 
if
ÃÃ 
(
ÃÃ 
callbackScript
ÃÃ 
!=
ÃÃ 
null
ÃÃ 
)
ÃÃ 
{
ÃÃ  
callbackScript
ÕÕ 
.
ÕÕ 
Invoke
ÕÕ 
(
ÕÕ 
callbackFunction
ÕÕ ,
,
ÕÕ, -
$num
ÕÕ- /
)
ÕÕ/ 0
;
ÕÕ0 1
CancelInvoke
œœ 
(
œœ 
$str
œœ 
)
œœ 
;
œœ 
if
–– 
(
––	 

blinkWhenReady
––
 
)
–– 
{
–– 
blinkWhenReady
—— 
.
—— 
	SetActive
—— 
(
——  !
false
——! &
)
——& '
;
——' (
}
““ 
}
”” 
lookForClick
‘‘ 
=
‘‘ 
false
‘‘ 
;
‘‘ 
}
’’ 
CancelInvoke
◊◊ 
(
◊◊ 
$str
◊◊ 
)
◊◊ 
;
◊◊ 
if
ÿÿ 
(
ÿÿ 
blinkWhenReady
ÿÿ 
)
ÿÿ 
{
ÿÿ 
blinkWhenReady
ŸŸ 
.
ŸŸ 
	SetActive
ŸŸ 
(
ŸŸ 
false
ŸŸ $
)
ŸŸ$ %
;
ŸŸ% &
}
⁄⁄ 
return
€€ 

;
€€
 
}
‹‹ 
if
ﬂﬂ 
(
ﬂﬂ 
(
‡‡ 
passWithMouse
‡‡ 
&&
‡‡ 
Input
‡‡ 
.
‡‡  
GetMouseButtonDown
‡‡ .
(
‡‡/ 0
$num
‡‡0 1
)
‡‡1 2
)
‡‡2 3
||
‡‡4 6
(
·· !
passWithInputButton
·· 
!=
·· 
$str
·· 
&&
·· !
Input
··" '
.
··' (
GetButtonDown
··( 5
(
··5 6!
passWithInputButton
··6 I
)
··I J
)
··J K
)
‚‚ 
{
‚‚ 
if
„„ 
(
„„ 
	passAudio
„„ 
!=
„„ 
null
„„ 
)
„„ 
{
„„ 
rpgAudioSorce
‰‰ 
.
‰‰ 
clip
‰‰ 
=
‰‰ 
	passAudio
‰‰ #
;
‰‰# $
rpgAudioSorce
ÂÂ 
.
ÂÂ 
Play
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÊÊ 
textUI
ÁÁ 

.
ÁÁ
 
enabled
ÁÁ 
=
ÁÁ 
false
ÁÁ 
;
ÁÁ 
PlayNext
ËË 
(
ËË 
)
ËË 
;
ËË 
}
ÍÍ 
return
ÎÎ 	
;
ÎÎ	 

}
ÏÏ 
if
ÚÚ 
(
ÚÚ 
textUI
ÚÚ 
.
ÚÚ 
enabled
ÚÚ 
)
ÚÚ 
{
ÚÚ 
if
ÙÙ 
(
ÙÙ 
currentChar
ÙÙ 
<
ÙÙ 
rpgtalkElements
ÙÙ #
[
ÙÙ# $
cutscenePosition
ÙÙ$ 4
-
ÙÙ5 6
$num
ÙÙ7 8
]
ÙÙ8 9
.
ÙÙ9 :

dialogText
ÙÙ: D
.
ÙÙD E
Length
ÙÙE K
)
ÙÙK L
{
ÙÙM N
currentChar
˜˜ 
=
˜˜ 
Mathf
˜˜ 
.
˜˜ 
Min
˜˜ 
(
˜˜ 
currentChar
¯¯ 
+
¯¯ 
	textSpeed
¯¯ 
*
¯¯ 
Time
¯¯ #
.
¯¯# $
	deltaTime
¯¯$ -
,
¯¯- .
rpgtalkElements
˘˘ 
[
˘˘ 
cutscenePosition
˘˘ %
-
˘˘& '
$num
˘˘( )
]
˘˘) *
.
˘˘* +

dialogText
˘˘+ 5
.
˘˘5 6
Length
˘˘6 <
)
˘˘< =
;
˘˘= >
textUI
˚˚ 

.
˚˚
 
text
˚˚ 
=
˚˚ 
rpgtalkElements
¸¸ 
[
¸¸ 
cutscenePosition
¸¸ %
-
¸¸& '
$num
¸¸( )
]
¸¸) *
.
¸¸* +

dialogText
¸¸+ 5
.
¸¸5 6
	Substring
¸¸6 ?
(
¸¸? @
$num
¸¸@ A
,
¸¸A B
(
¸¸C D
int
¸¸D G
)
¸¸G H
currentChar
¸¸H S
)
¸¸S T
;
˝˝ 
if
ÅÅ 
(
ÅÅ 
	textAudio
ÅÅ 
!=
ÅÅ 
null
ÅÅ 
&&
ÅÅ 
!
ÅÅ 
rpgAudioSorce
ÅÅ +
.
ÅÅ+ ,
	isPlaying
ÅÅ, 5
)
ÅÅ5 6
{
ÅÅ7 8
rpgAudioSorce
ÇÇ 
.
ÇÇ 
clip
ÇÇ 
=
ÇÇ 
	textAudio
ÇÇ #
;
ÇÇ# $
rpgAudioSorce
ÉÉ 
.
ÉÉ 
Play
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 
}
ÜÜ 
if
àà 
(
àà 
enableQuickSkip
àà 
==
àà 
true
àà 
&&
àà  
(
ââ 
(
ää 
passWithMouse
ää 
&&
ää 
Input
ää 
.
ää  
GetMouseButtonDown
ää /
(
ää0 1
$num
ää1 2
)
ää2 3
)
ää3 4
||
ää5 7
(
ãã !
passWithInputButton
ãã 
!=
ãã 
$str
ãã 
&&
ãã  "
Input
ãã# (
.
ãã( )
GetButtonDown
ãã) 6
(
ãã6 7!
passWithInputButton
ãã7 J
)
ããJ K
)
ããK L
)
åå 
&&
çç 
currentChar
çç 
>
çç 
$num
çç 
)
çç 
{
çç 
textUI
éé 

.
éé
 
text
éé 
=
éé 
rpgtalkElements
éé !
[
éé! "
cutscenePosition
éé" 2
-
éé3 4
$num
éé5 6
]
éé6 7
.
éé7 8

dialogText
éé8 B
;
ééB C
currentChar
èè 
=
èè 
rpgtalkElements
èè !
[
èè! "
cutscenePosition
èè" 2
-
èè3 4
$num
èè5 6
]
èè6 7
.
èè7 8

dialogText
èè8 B
.
èèB C
Length
èèC I
;
èèI J
}
êê 
if
íí 
(
íí 
currentChar
íí 
>=
íí 
rpgtalkElements
íí $
[
íí$ %
cutscenePosition
íí% 5
-
íí6 7
$num
íí8 9
]
íí9 :
.
íí: ;

dialogText
íí; E
.
ííE F
Length
ííF L
)
ííL M
{
ííM N
blink
ìì 	
(
ìì	 

)
ìì
 
;
ìì 
if
ññ 
(
ññ !
animatorWhenTalking
ññ 
!=
ññ 
null
ññ #
)
ññ# $
{
ññ% &!
animatorWhenTalking
óó 
.
óó 
SetBool
óó  
(
óó! "!
animatorBooleanName
óó" 5
,
óó5 6
false
óó7 <
)
óó< =
;
óó= >
}
òò 
if
öö 
(
öö 
cutscenePosition
öö 
>=
öö 
rpgtalkElements
öö *
.
öö* +
Count
öö+ 0
&&
öö1 3
callbackScript
öö4 B
==
ööC E
null
ööF J
)
ööJ K
{
ööK L
}
†† 
}
°° 
}
ßß 
}
™™ 
void
¨¨ 
blink
¨¨ 
(
¨¨ 
)
¨¨ 
{
¨¨ 
if
≠≠ 
(
≠≠ 
blinkWhenReady
≠≠ 
)
≠≠ 
{
≠≠ 
blinkWhenReady
ÆÆ 
.
ÆÆ 
	SetActive
ÆÆ 
(
ÆÆ 
!
ÆÆ 
blinkWhenReady
ÆÆ ,
.
ÆÆ, -
activeInHierarchy
ÆÆ- >
)
ÆÆ> ?
;
ÆÆ? @
Invoke
ØØ 	
(
ØØ
 
$str
ØØ 
,
ØØ 
$num
ØØ 
)
ØØ 
;
ØØ 
}
∞∞ 
}
±± 
void
≥≥  
CheckIfTheTextFits
≥≥ 
(
≥≥ 
string
≥≥ 
line
≥≥  $
)
≥≥$ %
{
≥≥% &
int
ºº 
maxCharsOnUI
ºº 
=
ºº 
maxCharInWidth
ºº #
*
ºº$ %
maxCharInHeight
ºº& 5
;
ºº5 6
if
ΩΩ 
(
ΩΩ 
line
ΩΩ 

.
ΩΩ
 
Length
ΩΩ 
>
ΩΩ 
maxCharsOnUI
ΩΩ  
)
ΩΩ  !
{
ΩΩ" #
int
¿¿ 
howMuchMore
¿¿ 
=
¿¿ 
Mathf
¿¿ 
.
¿¿ 
	CeilToInt
¿¿ $
(
¿¿$ %
(
¿¿% &
float
¿¿& +
)
¿¿+ ,
line
¿¿, 0
.
¿¿0 1
Length
¿¿1 7
/
¿¿8 9
(
¿¿: ;
float
¿¿; @
)
¿¿@ A
maxCharsOnUI
¿¿A M
)
¿¿M N
;
¿¿N O
string
¡¡ 	
newLine
¡¡
 
=
¡¡ 
$str
¡¡ 
;
¡¡ 
int
¬¬ 
cuttedInSpace
¬¬ 
=
¬¬ 
-
¬¬ 
$num
¬¬ 
;
¬¬ 
for
ƒƒ 
(
ƒƒ 
int
ƒƒ 
i
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
;
ƒƒ 
i
ƒƒ 
<
ƒƒ 
howMuchMore
ƒƒ "
;
ƒƒ" #
i
ƒƒ$ %
++
ƒƒ% '
)
ƒƒ' (
{
ƒƒ) *
int
∆∆ 
	startChar
∆∆ 
=
∆∆ 
i
∆∆ 
*
∆∆ 
maxCharsOnUI
∆∆ $
;
∆∆$ %
if
«« 
(
«« 
cuttedInSpace
«« 
!=
«« 
-
«« 
$num
«« 
)
«« 
{
«« 
	startChar
»» 
=
»» 
cuttedInSpace
»» 
;
»» 
cuttedInSpace
…… 
=
…… 
-
…… 
$num
…… 
;
…… 
}
   
if
ŒŒ 
(
ŒŒ 
line
ŒŒ 
.
ŒŒ 
	Substring
ŒŒ 
(
ŒŒ 
	startChar
ŒŒ !
,
ŒŒ! "
line
œœ 	
.
œœ	 

Length
œœ
 
-
œœ 
(
œœ 
	startChar
œœ 
)
œœ 
)
œœ 
.
œœ  
Length
œœ  &
<
œœ' (
maxCharsOnUI
œœ) 5
)
œœ5 6
{
œœ7 8
newLine
–– 
=
–– 
line
–– 
.
–– 
	Substring
–– 
(
–– 
	startChar
–– (
,
––( )
line
—— 

.
——
 
Length
—— 
-
—— 
(
—— 
	startChar
—— 
)
—— 
)
——  
;
——  !
}
““ 
else
““ 

{
““ 
cuttedInSpace
‘‘ 
=
‘‘ 
line
‘‘ 
.
‘‘ 
IndexOf
‘‘ !
(
‘‘" #
$str
‘‘# &
,
‘‘& '
	startChar
‘‘( 1
+
‘‘1 2
(
‘‘3 4
maxCharsOnUI
‘‘4 @
-
‘‘A B
$num
‘‘C E
)
‘‘E F
)
‘‘F G
;
‘‘G H
if
’’ 
(
’’ 
cuttedInSpace
’’ 
!=
’’ 
-
’’ 
$num
’’ 
)
’’ 
{
’’ 
newLine
÷÷ 
=
÷÷ 
line
÷÷ 
.
÷÷ 
	Substring
÷÷ 
(
÷÷  
	startChar
÷÷  )
,
÷÷) *
cuttedInSpace
÷÷+ 8
-
÷÷8 9
	startChar
÷÷9 B
)
÷÷B C
;
÷÷C D
}
◊◊ 
else
◊◊ 

{
◊◊
 
newLine
ÿÿ 
=
ÿÿ 
line
ÿÿ 
.
ÿÿ 
	Substring
ÿÿ 
(
ÿÿ  
	startChar
ÿÿ  )
,
ÿÿ) *
maxCharsOnUI
ÿÿ+ 7
)
ÿÿ7 8
;
ÿÿ8 9
}
ŸŸ 
}
⁄⁄ 
rpgtalkElements
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
readSceneElement
‹‹ )
(
‹‹* +
newLine
‹‹+ 2
)
‹‹2 3
)
‹‹3 4
;
‹‹4 5
}
›› 
}
ﬁﬁ 
else
ﬁﬁ 
{
ﬁﬁ	 

rpgtalkElements
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
readSceneElement
‡‡ (
(
‡‡) *
line
‡‡* .
)
‡‡. /
)
‡‡/ 0
;
‡‡0 1
}
·· 
}
‚‚ 
public
ËË 
void
ËË 
EndTalk
ËË 
(
ËË 
)
ËË 
{
ËË 
if
ÈÈ 
(
ÈÈ 
textUI
ÈÈ 
.
ÈÈ 

gameObject
ÈÈ 
.
ÈÈ 
activeInHierarchy
ÈÈ )
)
ÈÈ) *
{
ÈÈ+ ,
if
ÍÍ 
(
ÍÍ  
shouldStayOnScreen
ÍÍ 
)
ÍÍ 
{
ÍÍ 
cutscenePosition
ÎÎ 
=
ÎÎ 
rpgtalkElements
ÎÎ &
.
ÎÎ& '
Count
ÎÎ' ,
-
ÎÎ, -
$num
ÎÎ- .
;
ÎÎ. /
}
ÏÏ 
else
ÏÏ 	
{
ÏÏ
 
cutscenePosition
ÌÌ 
=
ÌÌ 
rpgtalkElements
ÌÌ &
.
ÌÌ& '
Count
ÌÌ' ,
;
ÌÌ, -
}
ÓÓ 
PlayNext
ÔÔ 
(
ÔÔ 
)
ÔÔ 
;
ÔÔ 
}
 
}
ÒÒ 
public
¯¯ 
void
¯¯ 
PlayNext
¯¯ 
(
¯¯ 
)
¯¯ 
{
¯¯ 
cutscenePosition
˙˙ 
++
˙˙ 
;
˙˙ 
currentChar
˚˚ 
=
˚˚ 
$num
˚˚ 
;
˚˚ 
CancelInvoke
ÇÇ 
(
ÇÇ 
$str
ÇÇ 
)
ÇÇ 
;
ÇÇ 
if
ÉÉ 
(
ÉÉ 
blinkWhenReady
ÉÉ 
)
ÉÉ 
{
ÉÉ 
blinkWhenReady
ÑÑ 
.
ÑÑ 
	SetActive
ÑÑ 
(
ÑÑ 
false
ÑÑ "
)
ÑÑ" #
;
ÑÑ# $
}
ÖÖ 
if
áá 
(
áá 
cutscenePosition
áá 
<=
áá 
rpgtalkElements
áá (
.
áá( )
Count
áá) .
)
áá. /
{
áá0 1
textUI
ââ 	
.
ââ	 

enabled
ââ
 
=
ââ 
true
ââ 
;
ââ 
RpgtalkElement
ãã #
currentRpgtalkElement
ãã '
=
ãã( )
rpgtalkElements
ãã* 9
[
ãã9 :
cutscenePosition
ãã: J
-
ããK L
$num
ããM N
]
ããN O
;
ããO P
if
çç 
(
çç 
dialoger
çç 
)
çç 
{
çç 

dialogerUI
éé 
.
éé 
enabled
éé 
=
éé 
true
éé 
;
éé 

dialogerUI
êê 
.
êê 
text
êê 
=
êê #
currentRpgtalkElement
êê +
.
êê+ ,
speakerName
êê, 7
;
êê7 8
if
ëë 
(
ëë 
shouldUsePhotos
ëë 
)
ëë 
{
ëë 
for
íí 
(
íí	 

int
íí
 
i
íí 
=
íí 
$num
íí 
;
íí 
i
íí 
<
íí 
photos
íí 
.
íí  
Length
íí  &
;
íí& '
i
íí( )
++
íí) +
)
íí+ ,
{
íí- .
if
ìì 
(
ìì	 

photos
ìì
 
[
ìì 
i
ìì 
]
ìì 
.
ìì 
name
ìì 
==
ìì #
currentRpgtalkElement
ìì 2
.
ìì2 3!
originalSpeakerName
ìì3 F
)
ììF G
{
ììH I
UIPhoto
îî 
.
îî 
sprite
îî 
=
îî 
photos
îî 
[
îî  
i
îî  !
]
îî! "
.
îî" #
photo
îî# (
;
îî( )
if
ïï 	
(
ïï	 
!
animatorWhenTalking
ïï
 
&&
ïï  
animatorIntName
ïï! 0
!=
ïï1 3
$str
ïï4 6
)
ïï6 7
{
ïï7 8!
animatorWhenTalking
ññ 
.
ññ 

SetInteger
ññ &
(
ññ' (
animatorIntName
ññ( 7
,
ññ7 8
i
ññ9 :
)
ññ: ;
;
ññ; <
}
òò 
}
ôô 
}
öö 
}
õõ 
}
úú 
if
°° 
(
°° !
animatorWhenTalking
°° 
!=
°° 
null
°° "
)
°°" #
{
°°$ %!
animatorWhenTalking
¢¢ 
.
¢¢ 
SetBool
¢¢ 
(
¢¢  !!
animatorBooleanName
¢¢! 4
,
¢¢4 5
true
¢¢6 :
)
¢¢: ;
;
¢¢; <
}
££ 
}
®® 
else
®® 
{
®®	 

dialogueFinished
©© 
=
©© 
true
©© #
;
©©# $
if
™™ 
(
™™ 
!
™™  
shouldStayOnScreen
™™ #
)
™™# $
{
™™% &
textUI
´´ 

.
´´
 
enabled
´´ 
=
´´ 
false
´´ 
;
´´ 
textUI
¨¨ 
.
¨¨ 
text
¨¨ 
=
¨¨ 
$str
¨¨  
;
¨¨  !
if
≠≠ 
(
≠≠ 
dialoger
≠≠ 
)
≠≠ 
{
≠≠ 

dialogerUI
ÆÆ 
.
ÆÆ 
enabled
ÆÆ 
=
ÆÆ 
false
ÆÆ 
;
ÆÆ  
}
ØØ 
for
∞∞ 
(
∞∞ 	
int
∞∞	 
i
∞∞ 
=
∞∞ 
$num
∞∞ 
;
∞∞ 
i
∞∞ 
<
∞∞ 
showWithDialog
∞∞ &
.
∞∞& '
Length
∞∞' -
;
∞∞- .
i
∞∞/ 0
++
∞∞0 2
)
∞∞2 3
{
∞∞4 5
showWithDialog
±± 
[
±± 
i
±± 
]
±± 
.
±± 
	SetActive
±± !
(
±±" #
false
±±# (
)
±±( )
;
±±) *
}
≤≤ 
}
≥≥ 
if
∑∑ 
(
∑∑ 
callbackScript
∑∑ 
!=
∑∑ 
null
∑∑ 
)
∑∑ 
{
∑∑ 
callbackScript
∏∏ 
.
∏∏ 
Invoke
∏∏ 
(
∏∏ 
callbackFunction
∏∏ *
,
∏∏* +
$num
∏∏+ -
)
∏∏- .
;
∏∏. /
}
ππ 
}
∫∫ 
}
ΩΩ 
private
¡¡ 
class
¡¡	 
RpgtalkElement
¡¡ 
{
¡¡ 
public
¬¬ 
bool
¬¬	 
	hasDialog
¬¬ 
=
¬¬ 
false
¬¬ 
;
¬¬  
public
√√ 
bool
√√	  
allowPlayerAdvance
√√  
=
√√! "
true
√√# '
;
√√' (
public
ƒƒ 
string
ƒƒ	 
speakerName
ƒƒ 
;
ƒƒ 
public
≈≈ 
string
≈≈	 !
originalSpeakerName
≈≈ #
;
≈≈# $
public
∆∆ 
string
∆∆	 

dialogText
∆∆ 
;
∆∆ 
public
»» 
override
»»	 
string
»» 
ToString
»» !
(
»»" #
)
»»# $
{
»»% &
return
…… 	
$str
…… 
+
…… 
this
…… 
.
…… 
	hasDialog
…… 
+
……  !
$str
……" %
+
……& '
this
……( ,
.
……, -
speakerName
……- 8
+
……9 :
$str
……; ?
+
……@ A
this
……B F
.
……F G

dialogText
……G Q
+
……R S
$str
……T X
;
……X Y
}
   
}
ÀÀ 
}ÕÕ 
[–– 
System
–– 
.
–– 
Serializable
–– 
]
–– 
public—— 
class
—— 
RPGTalkVariable
—— 
{
—— 
public
““ 
string
““ 
variableName
““ 
;
““ 
public
”” 
string
”” 
variableValue
”” 
;
”” 
}‘‘ 
[◊◊ 
System
◊◊ 
.
◊◊ 
Serializable
◊◊ 
]
◊◊ 
publicÿÿ 
class
ÿÿ 
RPGTalkPhoto
ÿÿ 
{
ÿÿ 
public
ŸŸ 
string
ŸŸ 
name
ŸŸ 
;
ŸŸ 
public
⁄⁄ 
Sprite
⁄⁄ 
photo
⁄⁄ 
;
⁄⁄ 
}€€ ¶
RC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\BottlingScript.cs
public 
class 
BottlingScript 
: 
MonoBehaviour +
{ 
public

 


GameMaster

 
.

 
BottlingState

 #
BottlingState

$ 1
{

2 3
get

4 7
;

7 8
set

9 <
;

< =
}

> ?
public 

string 
NiceTime 
{ 
get  
;  !
private" )
set* -
;- .
}/ 0
public 

string 
WineName 
{ 
get  
;  !
set" %
;% &
}' (
public 

float 
Timer 
{ 
get 
; 
set !
;! "
}# $
private 
bool 
isTimerRunning 
;  
private 
System 
. 
DateTime 

timePaused &
;& '
private 
System 
. 
DateTime 
timeUnpaused (
;( )
private 
void 
Start 
( 
) 
{ 
isTimerRunning 
= 
false 
; 
} 
void 
Update	 
( 
) 
{ 
if 

( 
BottlingState 
!= 

GameMaster '
.' (
BottlingState( 5
.5 6
NotBottling6 A
&&B D
BottlingStateE R
!=S U

GameMasterV `
.` a
BottlingStatea n
.n o
Bottledo v
)v w
{ 	
if 
( 
Timer 
>= 
$num 
) 
{ 
isTimerRunning 
=  
true! %
;% &
Timer   
-=   
Time   
.   
	deltaTime   '
;  ' (
int!! 
bottlingTimeMinutes!! '
=!!( )
Mathf!!* /
.!!/ 0

FloorToInt!!0 :
(!!: ;
Timer!!; @
/!!A B
$num!!C F
)!!F G
;!!G H
int"" 
bottlingTimeSeconds"" '
=""( )
Mathf""* /
.""/ 0

FloorToInt""0 :
("": ;
Timer""; @
-""A B
bottlingTimeMinutes""C V
*""W X
$num""Y [
)""[ \
;""\ ]
NiceTime## 
=## 
string## !
.##! "
Format##" (
(##( )
$str##) 7
,##7 8
bottlingTimeMinutes##9 L
,##L M
bottlingTimeSeconds##N a
)##a b
;##b c
}$$ 
if&& 
(&& 
Timer&& 
<=&& 
$num&& 
)&& 
{'' 
isTimerRunning(( 
=((  
false((! &
;((& '
BottlingState)) 
=)) 

GameMaster))  *
.))* +
BottlingState))+ 8
.))8 9
Bottled))9 @
;))@ A
}** 
}++ 	
else,, 
NiceTime-- 
=-- 
string-- 
.-- 
Format-- $
(--$ %
$str--% +
)--+ ,
;--, -
}.. 
}WW ¡
WC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\ClarificationScript.cs
public 
class 
ClarificationScript  
:! "
MonoBehaviour# 0
{ 
public 


GameMaster 
. 
ClarificationState (
ClarificationState) ;
{< =
get> A
;A B
setC F
;F G
}H I
[		 
SerializeField		 
]		 
public

 

float

 
Timer

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

string 
NiceTime 
{ 
get  
;  !
private" )
set* -
;- .
}/ 0
public 

string 
WineName 
{ 
get  
;  !
set" %
;% &
}' (
private 
bool 
isTimerRunning 
;  
private 
System 
. 
DateTime 

timePaused &
;& '
private 
System 
. 
DateTime 
timeUnpaused (
;( )
private 
void 
Start 
( 
) 
{ 
isTimerRunning 
= 
false 
; 
} 
void 
Update	 
( 
) 
{ 
if 

( 
ClarificationState 
!= !

GameMaster" ,
., -
ClarificationState- ?
.? @
NotClarificating@ P
&&Q S
ClarificationStateT f
!=g i

GameMasterj t
.t u
ClarificationState	u á
.
á à
Clarificated
à î
)
î ï
{ 	
if 
( 
Timer 
>= 
$num 
) 
{ 
isTimerRunning 
=  
true! %
;% &
Timer   
-=   
Time   
.   
	deltaTime   '
;  ' (
int!! $
clarificationTimeMinutes!! ,
=!!- .
Mathf!!/ 4
.!!4 5

FloorToInt!!5 ?
(!!? @
Timer!!@ E
/!!F G
$num!!H K
)!!K L
;!!L M
int"" $
clarificationTimeSeconds"" ,
=""- .
Mathf""/ 4
.""4 5

FloorToInt""5 ?
(""? @
Timer""@ E
-""F G$
clarificationTimeMinutes""H `
*""a b
$num""c e
)""e f
;""f g
NiceTime## 
=## 
string## !
.##! "
Format##" (
(##( )
$str##) 7
,##7 8$
clarificationTimeMinutes##9 Q
,##Q R$
clarificationTimeSeconds##S k
)##k l
;##l m
}$$ 
if'' 
('' 
Timer'' 
<='' 
$num'' 
)'' 
{(( 
isTimerRunning)) 
=))  
false))! &
;))& '
ClarificationState** "
=**# $

GameMaster**% /
.**/ 0
ClarificationState**0 B
.**B C
Clarificated**C O
;**O P
}++ 
},, 	
else-- 
NiceTime.. 
=.. 
string.. 
... 
Format.. $
(..$ %
$str..% +
)..+ ,
;.., -
}// 
}XX Ú6
SC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\ColliderHandler.cs
public 
class 
ColliderHandler 
: 
MonoBehaviour ,
{ 
public 


GameObject 
ParentGameObject &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
private

 

GameMaster

 
gm

 
;

 
private 
	LayerMask 
	layerMask 
;  
private 
RuntimePlatform 
platform $
;$ %
void 
Awake	 
( 
) 
{ 

GameObject 

gameMaster 
= 

GameObject  *
.* +!
FindGameObjectWithTag+ @
(@ A
$strA N
)N O
;O P
gm 

= 

gameMaster 
. 
GetComponent $
<$ %

GameMaster% /
>/ 0
(0 1
)1 2
;2 3
} 
void 
Start	 
( 
) 
{ 
	layerMask 
= 
$num 
; 
platform 
= 
Application 
. 
platform '
;' (
} 
void 
Update	 
( 
) 
{ 
if 

( 
platform 
== 
RuntimePlatform '
.' (
Android( /
||0 2
platform3 ;
==< >
RuntimePlatform? N
.N O
IPhonePlayerO [
)[ \
{ 	
if 
( 
Input 
. 

touchCount  
>! "
$num# $
&&% '
Input( -
.- .
GetTouch. 6
(6 7
$num7 8
)8 9
.9 :
phase: ?
==@ B

TouchPhaseC M
.M N
BeganN S
)S T
{   

checkTouch!! 
(!! 
Input!!  
.!!  !
GetTouch!!! )
(!!) *
$num!!* +
)!!+ ,
.!!, -
position!!- 5
)!!5 6
;!!6 7
}"" 
}## 	
else$$ 
if$$ 
($$ 
platform$$ 
==$$ 
RuntimePlatform$$ ,
.$$, -
WindowsEditor$$- :
&&$$; =
Input$$> C
.$$C D
GetMouseButtonUp$$D T
($$T U
$num$$U V
)$$V W
)$$W X
{%% 	

checkTouch&& 
(&& 
Input&& 
.&& 
mousePosition&& *
)&&* +
;&&+ ,
}'' 	
if)) 

()) 
gm)) 
.)) 
IsInventoryOpen)) 
))) 
{** 	
	layerMask++ 
.++ 
value++ 
=++ 
$num++ 
;++  
},, 	
else-- 
if-- 
(-- 
gm-- 
.-- 
State-- 
==-- 

GameMaster-- '
.--' (
	GameState--( 1
.--1 2
Farm--2 6
)--6 7
{.. 	
	layerMask// 
.// 
value// 
=// 
$num// !
;//! "
}00 	
else11 
if11 
(11 
gm11 
.11 
State11 
==11 

GameMaster11 '
.11' (
	GameState11( 1
.111 2
Brewery112 9
)119 :
{22 	
	layerMask33 
.33 
value33 
=33 
$num33 !
;33! "
}44 	
else55 
if55 
(55 
gm55 
.55 
State55 
==55 

GameMaster55 '
.55' (
	GameState55( 1
.551 2
Town552 6
)556 7
{66 	
	layerMask77 
.77 
value77 
=77 
$num77 "
;77" #
}88 	
else99 
if99 
(99 
gm99 
.99 
State99 
==99 

GameMaster99 '
.99' (
	GameState99( 1
.991 2

GrapeCrush992 <
)99< =
{:: 	
	layerMask;; 
.;; 
value;; 
=;; 
$num;; "
;;;" #
}<< 	
else== 
	layerMask>> 
.>> 
value>> 
=>> 
$num>> 
;>>  
}?? 
voidAA 

checkTouchAA	 
(AA 
Vector2AA 
posAA 
)AA  
{BB 
ifDD 

(DD 
	layerMaskDD 
.DD 
valueDD 
==DD 
$numDD "
)DD" #
{EE 	
hitterMethodFF 
(FF 
posFF 
)FF 
;FF 
}GG 	
ifHH 

(HH 
	layerMaskHH 
.HH 
valueHH 
==HH 
$numHH "
)HH" #
{II 	
hitterMethodJJ 
(JJ 
posJJ 
)JJ 
;JJ 
}KK 	
ifLL 

(LL 
	layerMaskLL 
.LL 
valueLL 
==LL 
$numLL #
)LL# $
{MM 	
hitterMethodNN 
(NN 
posNN 
)NN 
;NN 
}OO 	
}PP 
publicRR 

voidRR 
hitterMethodRR 
(RR 
Vector2RR $
posRR% (
)RR( )
{SS 
Vector3TT 
wpTT 
=TT 
CameraTT 
.TT 
mainTT  
.TT  !
ScreenToWorldPointTT! 3
(TT3 4
posTT4 7
)TT7 8
;TT8 9
Vector2UU 
touchPosUU 
=UU 
newUU 
Vector2UU &
(UU& '
wpUU' )
.UU) *
xUU* +
,UU+ ,
wpUU- /
.UU/ 0
yUU0 1
)UU1 2
;UU2 3

Collider2DVV 
hitVV 
=VV 
	Physics2DVV "
.VV" #
OverlapPointVV# /
(VV/ 0
touchPosVV0 8
,VV8 9
	layerMaskVV: C
)VVC D
;VVD E
ifXX 

(XX 
hitXX 
)XX 
{YY 	
ParentGameObjectZZ 
=ZZ 
hitZZ "
.ZZ" #

gameObjectZZ# -
;ZZ- .
MethodCallerHandler[[ 
mch[[  #
;[[# $
mch\\ 
=\\ 
ParentGameObject\\ "
.\\" #
GetComponent\\# /
<\\/ 0
MethodCallerHandler\\0 C
>\\C D
(\\D E
)\\E F
;\\F G
mch]] 
.]] 

CallMethod]] 
(]] 
)]] 
;]] 
}__ 	
}`` 
}aa Ës
OC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\CrushScript.cs
public

 
class

 
CrushScript

 
:

 
MonoBehaviour

 (
{ 
public 

int 
MissedGrapes 
{ 
get !
;! "
set# &
;& '
}( )
public 

static 
bool 
DidWin 
{ 
get  #
;# $
set% (
;( )
}* +
public 


GameObject 
Grape 
; 
public 

	LayerMask 
	LayerMask 
; 
public 

Image 
FillBar 
; 
public 

Text 
FillText 
; 
public 

Text 
GameOverText 
; 
public 

Text 

MissedText 
; 
public 

Text 
GameStartText 
; 
private 
float 

grapeScore 
; 
private 
const 
int 
maxMissedGrapes %
=& '
$num( *
;* +
private 
float 
	startTime 
; 
private 
readonly 
float 
refire !
=" #
$num$ (
;( )
private 

GameObject 
grapeSplash "
;" #
private 
MethodCallerHandler 
mch  #
;# $
private 
bool 
	isStarted 
; 
private 
bool 
instructionsDone !
;! "
private 

GameObject 
[ 
] 

spawnpoint #
;# $
private 
RuntimePlatform 
platform $
;$ %
private   

SlotScript   

slotScript   !
;  ! "
void## 
Awake##	 
(## 
)## 
{$$ 
mch&& 
=&& 
GetComponent&& 
<&& 
MethodCallerHandler&& .
>&&. /
(&&/ 0
)&&0 1
;&&1 2
grapeSplash'' 
='' 
	Resources'' 
.''  
Load''  $
<''$ %

GameObject''% /
>''/ 0
(''0 1
$str''1 @
)''@ A
;''A B

spawnpoint(( 
=(( 

GameObject(( 
.((  "
FindGameObjectsWithTag((  6
(((6 7
$str((7 @
)((@ A
;((A B
mch)) 
=)) 
GetComponent)) 
<)) 
MethodCallerHandler)) .
>)). /
())/ 0
)))0 1
;))1 2

slotScript** 
=** 

GameObject** 
.**  !
FindGameObjectWithTag**  5
(**5 6
$str**6 C
)**C D
.**D E
GetComponent**E Q
<**Q R

SlotScript**R \
>**\ ]
(**] ^
)**^ _
;**_ `
}++ 
void-- 
Start--	 
(-- 
)-- 
{.. 
platform00 
=00 
Application00 
.00 
platform00 '
;00' (
DidWin11 
=11 
false11 
;11 
	isStarted22 
=22 
false22 
;22 
instructionsDone33 
=33 
false33  
;33  !
FillBar44 
.44 

fillAmount44 
=44 
$num44 
;44 
FillText55 
.55 
text55 
=55 
$str55 
;55 
GameOverText66 
.66 
text66 
=66 
$str66 
;66 

MissedText77 
.77 
text77 
=77 
$str77  
;77  !
	startTime88 
=88 
Time88 
.88 
time88 
;88 
StartCoroutine99 
(99 
$str99 )
)99) *
;99* +
}:: 
void>> 
Update>>	 
(>> 
)>> 
{?? 
ifAA 

(AA 
instructionsDoneAA 
)AA 
{BB 	
handleUIDD 
(DD 
)DD 
;DD 
ifFF 
(FF 
platformFF 
==FF 
RuntimePlatformFF +
.FF+ ,
AndroidFF, 3
||FF4 6
platformFF7 ?
==FF@ B
RuntimePlatformFFC R
.FFR S
IPhonePlayerFFS _
)FF_ `
{GG 
ifHH 
(HH 
InputHH 
.HH 

touchCountHH $
>HH% &
$numHH' (
&&HH) +
InputHH, 1
.HH1 2
GetTouchHH2 :
(HH: ;
$numHH; <
)HH< =
.HH= >
phaseHH> C
==HHD F

TouchPhaseHHG Q
.HHQ R
BeganHHR W
)HHW X
{II 

checkTouchJJ 
(JJ 
InputJJ $
.JJ$ %
GetTouchJJ% -
(JJ- .
$numJJ. /
)JJ/ 0
.JJ0 1
positionJJ1 9
)JJ9 :
;JJ: ;
}KK 
}LL 
elseMM 
ifMM 
(MM 
platformMM 
==MM  
RuntimePlatformMM! 0
.MM0 1
WindowsEditorMM1 >
&&MM? A
InputMMB G
.MMG H
GetMouseButtonUpMMH X
(MMX Y
$numMMY Z
)MMZ [
)MM[ \
{NN 

checkTouchOO 
(OO 
InputOO  
.OO  !
mousePositionOO! .
)OO. /
;OO/ 0
}PP 
ifSS 
(SS 
	startTimeSS 
+SS 
refireSS "
<=SS# %
TimeSS& *
.SS* +
timeSS+ /
)SS/ 0
{TT 

GameObjectUU 
tempUU 
=UU  !
InstantiateUU" -
(UU- .
GrapeUU. 3
)UU3 4
;UU4 5
tempVV 
.VV 
	transformVV 
.VV 
	SetParentVV (
(VV( )

gameObjectVV) 3
.VV3 4
	transformVV4 =
)VV= >
;VV> ?
tempWW 
.WW 
	transformWW 
.WW 
positionWW '
=WW( )

spawnpointWW* 4
[WW4 5
RandomWW5 ;
.WW; <
RangeWW< A
(WWA B
$numWWB C
,WWC D

spawnpointWWE O
.WWO P
LengthWWP V
)WWV W
]WWW X
.WWX Y
	transformWWY b
.WWb c
positionWWc k
;WWk l
	startTimeXX 
=XX 
TimeXX  
.XX  !
timeXX! %
;XX% &
}YY 
if\\ 
(\\ 
FillBar\\ 
.\\ 

fillAmount\\ "
==\\# %
$num\\& '
)\\' (
{]] 
DidWin^^ 
=^^ 
true^^ 
;^^ 
GameOverText__ 
.__ 
text__ !
=__" #
$str__$ /
;__/ 0
GameOverText`` 
.`` 
text`` !
+=``" $
$str``% D
;``D E
gameOveraa 
(aa 
)aa 
;aa 
}bb 
elsecc 
ifcc 
(cc 
MissedGrapescc !
==cc" $
maxMissedGrapescc% 4
)cc4 5
{dd 
DidWinee 
=ee 
falseee 
;ee 
GameOverTextff 
.ff 
textff !
=ff" #
$strff$ ;
;ff; <
gameOvergg 
(gg 
)gg 
;gg 
}hh 
}ii 	
}jj 
voidmm 

checkTouchmm	 
(mm 
Vector2mm 
posmm 
)mm  
{nn 
ifoo 

(oo 
	LayerMaskoo 
.oo 
valueoo 
==oo 
$numoo #
)oo# $
{pp 	
Vector3qq 
wpqq 
=qq 
Cameraqq 
.qq  
mainqq  $
.qq$ %
ScreenToWorldPointqq% 7
(qq7 8
posqq8 ;
)qq; <
;qq< =
Vector2ss 
touchPosss 
=ss 
newss "
Vector2ss# *
(ss* +
wpss+ -
.ss- .
xss. /
,ss/ 0
wpss1 3
.ss3 4
yss4 5
)ss5 6
;ss6 7

Collider2Duu 
hituu 
=uu 
	Physics2Duu &
.uu& '
OverlapPointuu' 3
(uu3 4
touchPosuu4 <
,uu< =
	LayerMaskuu> G
)uuG H
;uuH I
ifww 
(ww 
hitww 
&&ww 
hitww 
.ww 
tagww 
==ww !
$strww" )
)ww) *
{xx 
Destroyyy 
(yy 
hityy 
.yy 

gameObjectyy &
)yy& '
;yy' (
Instantiatezz 
(zz 
grapeSplashzz '
,zz' (
touchPoszz) 1
,zz1 2

Quaternionzz3 =
.zz= >
identityzz> F
)zzF G
;zzG H

grapeScore{{ 
++{{ 
;{{ 
}|| 
}}} 	
}~~ 
void
ÅÅ 
handleUI
ÅÅ	 
(
ÅÅ 
)
ÅÅ 
{
ÇÇ 
FillText
ÉÉ 
.
ÉÉ 
text
ÉÉ 
=
ÉÉ 
Mathf
ÉÉ 
.
ÉÉ 

FloorToInt
ÉÉ (
(
ÉÉ( )

grapeScore
ÉÉ) 3
*
ÉÉ4 5
$num
ÉÉ6 :
)
ÉÉ: ;
+
ÉÉ< =
$str
ÉÉ> A
;
ÉÉA B
FillBar
ÑÑ 
.
ÑÑ 

fillAmount
ÑÑ 
=
ÑÑ 
(
ÑÑ 

grapeScore
ÑÑ (
*
ÑÑ) *
$num
ÑÑ+ /
)
ÑÑ/ 0
;
ÑÑ0 1

MissedText
ÖÖ 
.
ÖÖ 
text
ÖÖ 
=
ÖÖ 
MissedGrapes
ÖÖ &
+
ÖÖ' (
$str
ÖÖ) ,
+
ÖÖ- .
maxMissedGrapes
ÖÖ/ >
;
ÖÖ> ?
}
ÜÜ 
void
ââ 
gameOver
ââ	 
(
ââ 
)
ââ 
{
ää 

GameObject
ãã 
[
ãã 
]
ãã 

grapesLeft
ãã 
=
ãã  !

GameObject
ãã" ,
.
ãã, -$
FindGameObjectsWithTag
ãã- C
(
ããC D
$str
ããD K
)
ããK L
;
ããL M

GameObject
åå 
[
åå 
]
åå 
grapeSplashLeft
åå $
=
åå% &

GameObject
åå' 1
.
åå1 2$
FindGameObjectsWithTag
åå2 H
(
ååH I
$str
ååI V
)
ååV W
;
ååW X
foreach
çç 
(
çç 

GameObject
çç 
grapes
çç "
in
çç# %

grapesLeft
çç& 0
)
çç0 1
{
éé 	
Destroy
èè 
(
èè 
grapes
èè 
)
èè 
;
èè 
foreach
êê 
(
êê 

GameObject
êê 
splash
êê  &
in
êê' )
grapeSplashLeft
êê* 9
)
êê9 :
{
ëë 
Destroy
íí 
(
íí 
splash
íí 
)
íí 
;
íí  
}
ìì 
}
îî 	
GameOverText
ïï 
.
ïï 
GetComponent
ïï !
<
ïï! "
Animator
ïï" *
>
ïï* +
(
ïï+ ,
)
ïï, -
.
ïï- .
SetBool
ïï. 5
(
ïï5 6
$str
ïï6 @
,
ïï@ A
true
ïïB F
)
ïïF G
;
ïïG H
if
ññ 

(
ññ 
!
ññ 
	isStarted
ññ 
)
ññ 
{
óó 	
	isStarted
òò 
=
òò 
true
òò 
;
òò 
StartCoroutine
ôô 
(
ôô 
$str
ôô !
)
ôô! "
;
ôô" #
}
öö 	
}
õõ 
IEnumerator
ûû 
Wait
ûû 
(
ûû 
)
ûû 
{
üü 
if
°° 

(
°°
 
DidWin
°° 
)
°° 
{
¢¢ 	

slotScript
££ 
.
££ 
Ferment
££ 
(
££ 
)
££  
;
££  !
}
§§ 	
DidWin
•• 
=
•• 
false
•• 
;
•• 

GameObject
¶¶ 
canvas
¶¶ 
=
¶¶ 

GameObject
¶¶ &
.
¶¶& '
Find
¶¶' +
(
¶¶+ ,
$str
¶¶, 4
)
¶¶4 5
;
¶¶5 6
yield
ßß 
return
ßß 
new
ßß 
WaitForSeconds
ßß '
(
ßß' (
$num
ßß( )
)
ßß) *
;
ßß* +
mch
®® 
.
®® 

CallMethod
®® 
(
®® 
)
®® 
;
®® 
yield
©© 
return
©© 
new
©© 
WaitForSeconds
©© '
(
©©' (
$num
©©( )
)
©©) *
;
©©* +
canvas
™™ 
.
™™ 
	SetActive
™™ 
(
™™ 
false
™™ 
)
™™ 
;
™™  

gameObject
´´ 
.
´´ 
GetComponent
´´ 
<
´´  
CrushScript
´´  +
>
´´+ ,
(
´´, -
)
´´- .
.
´´. /
enabled
´´/ 6
=
´´7 8
false
´´9 >
;
´´> ?
yield
¨¨ 
return
¨¨ 
new
¨¨ 
WaitForSeconds
¨¨ '
(
¨¨' (
$num
¨¨( )
)
¨¨) *
;
¨¨* +
Destroy
≠≠ 
(
≠≠ 

gameObject
≠≠ 
)
≠≠ 
;
≠≠ 

GameObject
ÆÆ 
.
ÆÆ 
Find
ÆÆ 
(
ÆÆ 
$str
ÆÆ %
)
ÆÆ% &
.
ÆÆ& '
GetComponent
ÆÆ' 3
<
ÆÆ3 4

GameMaster
ÆÆ4 >
>
ÆÆ> ?
(
ÆÆ? @
)
ÆÆ@ A
.
ÆÆA B
CrushisActive
ÆÆB O
=
ÆÆP Q
false
ÆÆR W
;
ÆÆW X
}
ØØ 
IEnumerator
±± 
WaitInstructions
±±  
(
±±  !
)
±±! "
{
≤≤ 
GameStartText
≥≥ 
.
≥≥ 
text
≥≥ 
=
≥≥ 
$str
≥≥ d
;
≥≥d e
yield
¥¥ 
return
¥¥ 
new
¥¥ 
WaitForSeconds
¥¥ '
(
¥¥' (
$num
¥¥( )
)
¥¥) *
;
¥¥* +
GameStartText
µµ 
.
µµ 
text
µµ 
=
µµ 
$str
µµ 
;
µµ  
instructionsDone
∂∂ 
=
∂∂ 
true
∂∂ 
;
∂∂  
}
∑∑ 
}∏∏ Ó
QC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\DestroySplash.cs
public 
class 
DestroySplash 
: 
MonoBehaviour *
{ 
private 
const 
float 
delay 
= 
-  !
$num! %
;% &
void		 
Start			 
(		 
)		 
{

 
Destroy 
( 

gameObject 
, 

gameObject &
.& '
GetComponent' 3
<3 4
Animator4 <
>< =
(= >
)> ?
.? @'
GetCurrentAnimatorStateInfo@ [
([ \
$num\ ]
)] ^
.^ _
length_ e
+f g
delayh m
)m n
;n o
} 
} ∞–
PC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\DialogueTest.cs
public 
class 
DialogueTest 
: 
MonoBehaviour )
{		 
private 
RPGTalk 
rpgTalk 
; 
private 
MainAltCamControls 
altCam %
;% &
private 

GameMaster 
gm 
; 
private 
CurtainControls 
	cControls %
;% &
private 
Shop 

shopScript 
; 
private 
	GUIScript 
	guiScript 
;  
private 
ColliderHandler 
colliderHandler +
;+ ,
private 

SlotScript 

slotScript !
;! "
private 
FermentorScript 
fermentorScript +
;+ ,
bool 
tutorial2done	 
, 
tutorial3done %
,% &
tutorial4done' 4
,4 5
tutorial5done6 C
,C D
tutorial6doneE R
,R S
tutorial7doneT a
,a b
tutorial8donec p
,p q
tutorial9doner 
,	 Ä
tutorial10done	 
, 
tutorial11done '
,' (
tutorial12done) 7
,7 8
tutorial13done9 G
,G H
tutorial14doneI W
,W X
tutorial15doneY g
,g h
tutorial16donei w
,w x
tutorial17done	y á
,
á à
tutorial18done	 
, 
tutorial19done '
,' (
tutorial20done) 7
,7 8
tutorial21done9 G
,G H
tutorial22doneI W
,W X
tutorial23doneY g
,g h
tutorial24donei w
,w x
tutorial25done	y á
,
á à
tutorial26done	 
, 
tutorial27done '
,' (
tutorial28done) 7
;7 8
private 
void 
Awake 
( 
) 
{ 
gm 

= 

GameObject 
. 
Find 
( 
$str *
)* +
.+ ,
GetComponent, 8
<8 9

GameMaster9 C
>C D
(D E
)E F
;F G

shopScript 
= 
gm 
. 
GetComponent $
<$ %
Shop% )
>) *
(* +
)+ ,
;, -
rpgTalk 
= 
gm 
. 
GetComponent !
<! "
RPGTalk" )
>) *
(* +
)+ ,
;, -
altCam   
=   

GameObject   
.   
Find    
(    !
$str  ! 1
)  1 2
.  2 3
GetComponent  3 ?
<  ? @
MainAltCamControls  @ R
>  R S
(  S T
)  T U
;  U V
	cControls!! 
=!! 

GameObject!! 
.!! 
Find!! #
(!!# $
$str!!$ 5
)!!5 6
.!!6 7
GetComponent!!7 C
<!!C D
CurtainControls!!D S
>!!S T
(!!T U
)!!U V
;!!V W
	guiScript"" 
="" 

GameObject"" 
."" 
Find"" #
(""# $
$str""$ 5
)""5 6
.""6 7
GetComponent""7 C
<""C D
	GUIScript""D M
>""M N
(""N O
)""O P
;""P Q
colliderHandler## 
=## 
gm## 
.## 
GetComponent## )
<##) *
ColliderHandler##* 9
>##9 :
(##: ;
)##; <
;##< =

slotScript$$ 
=$$ 
gm$$ 
.$$ 
GetComponent$$ $
<$$$ %

SlotScript$$% /
>$$/ 0
($$0 1
)$$1 2
;$$2 3
}%% 
void(( 
Start((	 
((( 
)(( 
{)) 
tutorial2done** 
=** 
tutorial3done** %
=**& '
tutorial4done**( 5
=**6 7
tutorial5done**8 E
=**F G
tutorial6done**H U
=**V W
tutorial7done**X e
=**f g
tutorial8done**h u
=**v w
tutorial9done	**x Ö
=++ 	
tutorial10done++
 
=++ 
tutorial11done++ )
=++* +
tutorial12done++, :
=++; <
tutorial13done++= K
=++L M
tutorial14done++N \
=++] ^
tutorial15done++_ m
=++n o
tutorial16done++p ~
=,, 	
tutorial17done,,
 
=,, 
tutorial18done,, )
=,,* +
tutorial19done,,, :
=,,; <
tutorial20done,,= K
=,,L M
tutorial21done,,N \
=,,] ^
tutorial22done,,_ m
=,,n o
tutorial23done,,p ~
=	,, Ä
tutorial24done
,,Å è
=-- 	
tutorial25done--
 
=-- 
tutorial26done-- )
=--* +
tutorial27done--, :
=--; <
tutorial28done--= K
=--L M
false--N S
;--S T
rpgTalk// 
.// 
	variables// 
[// 
$num// 
]// 
.// 
variableValue// *
=//+ ,
Player//- 3
.//3 4
Name//4 8
;//8 9
StartCoroutine00 
(00 
Wait00 
(00 
$num00 
,00 
$num00  
,00  !
$num00" $
)00$ %
)00% &
;00& '
}11 
void44 
Update44	 
(44 
)44 
{55 
rpgTalk66 
.66 
	variables66 
[66 
$num66 
]66 
.66 
variableValue66 *
=66+ ,

shopScript66- 7
.667 8!
currentlySelectedItem668 M
.66M N
Name66N R
;66R S
rpgTalk77 
.77 
	variables77 
[77 
$num77 
]77 
.77 
variableValue77 *
=77+ ,

slotScript77- 7
.777 8!
CurrentlySelectedName778 M
;77M N

GameMaster99 
.99 
	GameState99 
	GameState99 &
=99' (
gm99) +
.99+ ,
State99, 1
;991 2
if<< 

(<< 
!<< 
tutorial2done<< 
&&<< 
	GameState<< '
==<<( *

GameMaster<<+ 5
.<<5 6
	GameState<<6 ?
.<<? @
Town<<@ D
&&<<E G
!<<H I
	cControls<<I R
.<<R S

transition<<S ]
)<<] ^
{== 	
StartCoroutine>> 
(>> 
Wait>> 
(>>  
$num>>  !
,>>! "
$num>># $
,>>$ %
$num>>& *
)>>* +
)>>+ ,
;>>, -
tutorial2done?? 
=?? 
true??  
;??  !
}@@ 	
ifBB 

(BB 
!BB 
tutorial3doneBB 
&&BB 
tutorial2doneBB +
&&BB, .

shopScriptBB/ 9
.BB9 :
shopBB: >
.BB> ?
activeInHierarchyBB? P
)BBP Q
{CC 	
StartCoroutineDD 
(DD 
WaitDD 
(DD  
$numDD  !
,DD! "
$numDD# %
,DD% &
$numDD' +
)DD+ ,
)DD, -
;DD- .
tutorial3doneEE 
=EE 
trueEE  
;EE  !
}FF 	
ifHH 

(HH 
!HH 
tutorial4doneHH 
&&HH 
tutorial3doneHH +
&&HH, .

shopScriptHH/ 9
.HH9 :
boughtHH: @
)HH@ A
{II 	

shopScriptJJ 
.JJ 
	CloseShopJJ  
(JJ  !
)JJ! "
;JJ" #
StartCoroutineKK 
(KK 
WaitKK 
(KK  
$numKK  "
,KK" #
$numKK$ &
,KK& '
$numKK( ,
)KK, -
)KK- .
;KK. /
tutorial4doneLL 
=LL 
trueLL  
;LL  !
}MM 	
ifOO 

(OO 
!OO 
tutorial5doneOO 
&&OO 
tutorial4doneOO +
&&OO, .
	GameStateOO/ 8
==OO9 ;

GameMasterOO< F
.OOF G
	GameStateOOG P
.OOP Q
FarmOOQ U
&&OOV X
!OOY Z
	cControlsOOZ c
.OOc d

transitionOOd n
)OOn o
{PP 	
StartCoroutineQQ 
(QQ 
WaitQQ 
(QQ  
$numQQ  "
,QQ" #
$numQQ$ &
,QQ& '
$numQQ( ,
)QQ, -
)QQ- .
;QQ. /
tutorial5doneRR 
=RR 
trueRR  
;RR  !
}SS 	
ifUU 

(UU 
!UU 
tutorial6doneUU 
&&UU 
tutorial5doneUU +
&&UU, .
!UU/ 0
altCamUU0 6
.UU6 7
cam1UU7 ;
)UU; <
{VV 	
StartCoroutineWW 
(WW 
WaitWW 
(WW  
$numWW  "
,WW" #
$numWW$ &
,WW& '
$numWW( ,
)WW, -
)WW- .
;WW. /
tutorial6doneXX 
=XX 
trueXX  
;XX  !
}YY 	
if[[ 

([[ 
![[ 
tutorial7done[[ 
&&[[ 
tutorial6done[[ +
&&[[, .
colliderHandler[[/ >
.[[> ?
ParentGameObject[[? O
.[[O P
tag[[P S
==[[T V
$str[[W c
&&[[d f
gm[[g i
.[[i j
IsInventoryOpen[[j y
)[[y z
{\\ 	
StartCoroutine]] 
(]] 
Wait]] 
(]]  
$num]]  "
,]]" #
$num]]$ &
,]]& '
$num]]( *
)]]* +
)]]+ ,
;]], -
tutorial7done^^ 
=^^ 
true^^  
;^^  !
}__ 	
ifaa 

(aa 
!aa 
tutorial8doneaa 
&&aa 
tutorial7doneaa +
&&aa, .

SlotScriptaa/ 9
.aa9 :
didPlantaa: B
)aaB C
{bb 	
StartCoroutinecc 
(cc 
Waitcc 
(cc  
$numcc  "
,cc" #
$numcc$ &
,cc& '
$numcc( ,
)cc, -
)cc- .
;cc. /
tutorial8donedd 
=dd 
truedd  
;dd  !
}ee 	
ifgg 

(gg 
!gg 
tutorial9donegg 
&&gg 
tutorial8donegg +
&&gg, .
colliderHandlergg/ >
.gg> ?
ParentGameObjectgg? O
.ggO P
tagggP S
==ggT V
$strggW `
&&gga c
gmggd f
.ggf g
IsInventoryOpenggg v
)ggv w
{hh 	
StartCoroutineii 
(ii 
Waitii 
(ii  
$numii  "
,ii" #
$numii$ &
,ii& '
$numii( ,
)ii, -
)ii- .
;ii. /
tutorial9donejj 
=jj 
truejj  
;jj  !
}kk 	
ifmm 

(mm 
!mm 
tutorial10donemm 
&&mm 
tutorial9donemm ,
&&mm- /
	guiScriptmm0 9
.mm9 :
Buttonmm: @
==mmA C
$strmmD M
)mmM N
{nn 	
StartCoroutineoo 
(oo 
Waitoo 
(oo  
$numoo  "
,oo" #
$numoo$ &
,oo& '
$numoo( -
)oo- .
)oo. /
;oo/ 0
tutorial10donepp 
=pp 
truepp !
;pp! "
}qq 	
ifss 

(ss 
!ss 
tutorial11doness 
&&ss 
tutorial10doness -
&&ss. 0
altCamss1 7
.ss7 8
cam1ss8 <
&&ss= ?
tutorial5doness@ M
)ssM N
{tt 	
StartCoroutineuu 
(uu 
Waituu 
(uu  
$numuu  "
,uu" #
$numuu$ &
,uu& '
$numuu( ,
)uu, -
)uu- .
;uu. /
tutorial11donevv 
=vv 
truevv !
;vv! "
}ww 	
ifyy 

(yy 
!yy 
tutorial12doneyy 
&&yy 
tutorial11doneyy -
&&yy. 0
	GameStateyy1 :
==yy; =

GameMasteryy> H
.yyH I
	GameStateyyI R
.yyR S
BreweryyyS Z
&&yy[ ]
!yy^ _
	cControlsyy_ h
.yyh i

transitionyyi s
)yys t
{zz 	
StartCoroutine{{ 
({{ 
Wait{{ 
({{  
$num{{  "
,{{" #
$num{{$ &
,{{& '
$num{{( ,
){{, -
){{- .
;{{. /
tutorial12done|| 
=|| 
true|| !
;||! "
}}} 	
if 

( 
! 
tutorial13done 
&& 
tutorial12done -
&&. 0
colliderHandler1 @
.@ A
ParentGameObjectA Q
.Q R
tagR U
==V X
$strY h
&&i k
gml n
.n o
IsInventoryOpeno ~
)~ 
{
ÄÄ 	
StartCoroutine
ÅÅ 
(
ÅÅ 
Wait
ÅÅ 
(
ÅÅ  
$num
ÅÅ  "
,
ÅÅ" #
$num
ÅÅ$ &
,
ÅÅ& '
$num
ÅÅ( *
)
ÅÅ* +
)
ÅÅ+ ,
;
ÅÅ, -
tutorial13done
ÇÇ 
=
ÇÇ 
true
ÇÇ !
;
ÇÇ! "
}
ÉÉ 	
if
ÖÖ 

(
ÖÖ 
!
ÖÖ 
tutorial14done
ÖÖ 
&&
ÖÖ 
tutorial13done
ÖÖ -
&&
ÖÖ. 0
CrushScript
ÖÖ1 <
.
ÖÖ< =
DidWin
ÖÖ= C
&&
ÖÖD F
!
ÖÖG H
gm
ÖÖH J
.
ÖÖJ K
CrushisActive
ÖÖK X
)
ÖÖX Y
{
ÜÜ 	
StartCoroutine
áá 
(
áá 
Wait
áá 
(
áá  
$num
áá  "
,
áá" #
$num
áá$ &
,
áá& '
$num
áá( ,
)
áá, -
)
áá- .
;
áá. /
tutorial14done
àà 
=
àà 
true
àà !
;
àà! "
}
ââ 	
if
ãã 

(
ãã 
!
ãã 
tutorial15done
ãã 
&&
ãã 
tutorial14done
ãã -
&&
ãã. 0
colliderHandler
ãã1 @
.
ãã@ A
ParentGameObject
ããA Q
.
ããQ R
tag
ããR U
==
ããV X
$str
ããY e
&&
ããf h
gm
ããi k
.
ããk l
IsInventoryOpen
ããl {
)
ãã{ |
{
åå 	
StartCoroutine
çç 
(
çç 
Wait
çç 
(
çç  
$num
çç  "
,
çç" #
$num
çç$ &
,
çç& '
$num
çç( ,
)
çç, -
)
çç- .
;
çç. /
tutorial15done
éé 
=
éé 
true
éé !
;
éé! "
}
èè 	
if
ëë 

(
ëë 
!
ëë 
tutorial16done
ëë 
&&
ëë 
tutorial15done
ëë -
&&
ëë. 0
	guiScript
ëë1 :
.
ëë: ;
Button
ëë; A
==
ëëB D
$str
ëëE N
)
ëëN O
{
íí 	
fermentorScript
ìì 
=
ìì 
colliderHandler
ìì -
.
ìì- .
ParentGameObject
ìì. >
.
ìì> ?
GetComponent
ìì? K
<
ììK L
FermentorScript
ììL [
>
ìì[ \
(
ìì\ ]
)
ìì] ^
;
ìì^ _
rpgTalk
îî 
.
îî 
	variables
îî 
[
îî 
$num
îî 
]
îî  
.
îî  !
variableValue
îî! .
=
îî/ 0
gm
îî1 3
.
îî3 4
GetDescription
îî4 B
(
îîB C
fermentorScript
îîC R
.
îîR S
WineType
îîS [
)
îî[ \
;
îî\ ]
StartCoroutine
ïï 
(
ïï 
Wait
ïï 
(
ïï  
$num
ïï  "
,
ïï" #
$num
ïï$ &
,
ïï& '
$num
ïï( ,
)
ïï, -
)
ïï- .
;
ïï. /
tutorial16done
ññ 
=
ññ 
true
ññ !
;
ññ! "
}
óó 	
if
ôô 

(
ôô 
!
ôô 
tutorial17done
ôô 
&&
ôô 
tutorial16done
ôô -
&&
ôô. 0
colliderHandler
ôô1 @
.
ôô@ A
ParentGameObject
ôôA Q
.
ôôQ R
tag
ôôR U
==
ôôV X
$str
ôôY k
&&
ôôl n
gm
ôôo q
.
ôôq r
IsInventoryOpenôôr Å
)ôôÅ Ç
{
öö 	
StartCoroutine
õõ 
(
õõ 
Wait
õõ 
(
õõ  
$num
õõ  "
,
õõ" #
$num
õõ$ &
,
õõ& '
$num
õõ( *
)
õõ* +
)
õõ+ ,
;
õõ, -
tutorial17done
úú 
=
úú 
true
úú !
;
úú! "
}
ùù 	
if
üü 

(
üü 
!
üü 
tutorial18done
üü 
&&
üü 
tutorial17done
üü -
&&
üü. 0
	guiScript
üü1 :
.
üü: ;
Button
üü; A
==
üüB D
$str
üüE R
)
üüR S
{
†† 	
StartCoroutine
°° 
(
°° 
Wait
°° 
(
°°  
$num
°°  "
,
°°" #
$num
°°$ &
,
°°& '
$num
°°( ,
)
°°, -
)
°°- .
;
°°. /
tutorial18done
¢¢ 
=
¢¢ 
true
¢¢ !
;
¢¢! "
}
££ 	
if
•• 

(
•• 
!
•• 
tutorial19done
•• 
&&
•• 
tutorial18done
•• -
&&
••. 0
colliderHandler
••1 @
.
••@ A
ParentGameObject
••A Q
.
••Q R
tag
••R U
==
••V X
$str
••Y h
&&
••i k
gm
••l n
.
••n o
IsInventoryOpen
••o ~
)
••~ 
{
¶¶ 	
StartCoroutine
ßß 
(
ßß 
Wait
ßß 
(
ßß  
$num
ßß  "
,
ßß" #
$num
ßß$ &
,
ßß& '
$num
ßß( ,
)
ßß, -
)
ßß- .
;
ßß. /
tutorial19done
®® 
=
®® 
true
®® !
;
®®! "
}
©© 	
if
´´ 

(
´´ 
!
´´ 
tutorial20done
´´ 
&&
´´ 
tutorial19done
´´ -
&&
´´. 0
	guiScript
´´1 :
.
´´: ;
Button
´´; A
==
´´B D
$str
´´E N
)
´´N O
{
¨¨ 	
StartCoroutine
≠≠ 
(
≠≠ 
Wait
≠≠ 
(
≠≠  
$num
≠≠  "
,
≠≠" #
$num
≠≠$ &
,
≠≠& '
$num
≠≠( ,
)
≠≠, -
)
≠≠- .
;
≠≠. /
tutorial20done
ÆÆ 
=
ÆÆ 
true
ÆÆ !
;
ÆÆ! "
}
ØØ 	
if
±± 

(
±± 
!
±± 
tutorial21done
±± 
&&
±± 
tutorial20done
±± -
&&
±±. 0
colliderHandler
±±1 @
.
±±@ A
ParentGameObject
±±A Q
.
±±Q R
tag
±±R U
==
±±V X
$str
±±Y f
&&
±±g i
gm
±±j l
.
±±l m
IsInventoryOpen
±±m |
)
±±| }
{
≤≤ 	
StartCoroutine
≥≥ 
(
≥≥ 
Wait
≥≥ 
(
≥≥  
$num
≥≥  "
,
≥≥" #
$num
≥≥$ &
,
≥≥& '
$num
≥≥( *
)
≥≥* +
)
≥≥+ ,
;
≥≥, -
tutorial21done
¥¥ 
=
¥¥ 
true
¥¥ !
;
¥¥! "
}
µµ 	
if
∑∑ 

(
∑∑ 
!
∑∑ 
tutorial22done
∑∑ 
&&
∑∑ 
tutorial21done
∑∑ -
&&
∑∑. 0
	guiScript
∑∑1 :
.
∑∑: ;
Button
∑∑; A
==
∑∑B D
$str
∑∑E M
)
∑∑M N
{
∏∏ 	
StartCoroutine
ππ 
(
ππ 
Wait
ππ 
(
ππ  
$num
ππ  "
,
ππ" #
$num
ππ$ &
,
ππ& '
$num
ππ( ,
)
ππ, -
)
ππ- .
;
ππ. /
tutorial22done
∫∫ 
=
∫∫ 
true
∫∫ !
;
∫∫! "
}
ªª 	
if
ΩΩ 

(
ΩΩ 
!
ΩΩ 
tutorial23done
ΩΩ 
&&
ΩΩ 
tutorial22done
ΩΩ -
&&
ΩΩ. 0
colliderHandler
ΩΩ1 @
.
ΩΩ@ A
ParentGameObject
ΩΩA Q
.
ΩΩQ R
tag
ΩΩR U
==
ΩΩV X
$str
ΩΩY c
&&
ΩΩd f
gm
ΩΩg i
.
ΩΩi j
IsInventoryOpen
ΩΩj y
)
ΩΩy z
{
ææ 	
StartCoroutine
øø 
(
øø 
Wait
øø 
(
øø  
$num
øø  "
,
øø" #
$num
øø$ &
,
øø& '
$num
øø( ,
)
øø, -
)
øø- .
;
øø. /
tutorial23done
¿¿ 
=
¿¿ 
true
¿¿ !
;
¿¿! "
}
¡¡ 	
if
√√ 

(
√√ 
!
√√ 
tutorial24done
√√ 
&&
√√ 
tutorial23done
√√ -
&&
√√. 0
	guiScript
√√1 :
.
√√: ;
Button
√√; A
==
√√B D
$str
√√E N
)
√√N O
{
ƒƒ 	
StartCoroutine
≈≈ 
(
≈≈ 
Wait
≈≈ 
(
≈≈  
$num
≈≈  "
,
≈≈" #
$num
≈≈$ &
,
≈≈& '
$num
≈≈( ,
)
≈≈, -
)
≈≈- .
;
≈≈. /
tutorial24done
∆∆ 
=
∆∆ 
true
∆∆ !
;
∆∆! "
}
«« 	
if
…… 

(
…… 
!
…… 
tutorial25done
…… 
&&
…… 
tutorial24done
…… -
&&
……. 0
	GameState
……1 :
==
……; =

GameMaster
……> H
.
……H I
	GameState
……I R
.
……R S
Farm
……S W
&&
……X Z
!
……[ \
	cControls
……\ e
.
……e f

transition
……f p
)
……p q
{
   	
StartCoroutine
ÀÀ 
(
ÀÀ 
Wait
ÀÀ 
(
ÀÀ  
$num
ÀÀ  "
,
ÀÀ" #
$num
ÀÀ$ &
,
ÀÀ& '
$num
ÀÀ( ,
)
ÀÀ, -
)
ÀÀ- .
;
ÀÀ. /
tutorial25done
ÃÃ 
=
ÃÃ 
true
ÃÃ !
;
ÃÃ! "
}
ÕÕ 	
if
œœ 

(
œœ 
!
œœ 
tutorial26done
œœ 
&&
œœ 
tutorial25done
œœ -
&&
œœ. 0
	GameState
œœ1 :
==
œœ; =

GameMaster
œœ> H
.
œœH I
	GameState
œœI R
.
œœR S
Town
œœS W
&&
œœX Z
!
œœ[ \
	cControls
œœ\ e
.
œœe f

transition
œœf p
)
œœp q
{
–– 	
StartCoroutine
—— 
(
—— 
Wait
—— 
(
——  
$num
——  "
,
——" #
$num
——$ &
,
——& '
$num
——( ,
)
——, -
)
——- .
;
——. /
tutorial26done
““ 
=
““ 
true
““ !
;
““! "
}
”” 	
if
’’ 

(
’’ 
!
’’ 
tutorial27done
’’ 
&&
’’ 
tutorial26done
’’ -
&&
’’. 0

GameObject
’’1 ;
.
’’; <
Find
’’< @
(
’’@ A
$str
’’A P
)
’’P Q
.
’’Q R
activeInHierarchy
’’R c
)
’’c d
{
÷÷ 	
StartCoroutine
◊◊ 
(
◊◊ 
Wait
◊◊ 
(
◊◊  
$num
◊◊  "
,
◊◊" #
$num
◊◊$ &
,
◊◊& '
$num
◊◊( ,
)
◊◊, -
)
◊◊- .
;
◊◊. /
tutorial27done
ÿÿ 
=
ÿÿ 
true
ÿÿ !
;
ÿÿ! "
}
ŸŸ 	
if
€€ 

(
€€ 
!
€€ 
tutorial28done
€€ 
&&
€€ 
tutorial27done
€€ -
&&
€€. 0
gm
€€1 3
.
€€3 4
WineSold
€€4 <
)
€€< =
{
‹‹ 	
StartCoroutine
›› 
(
›› 
Wait
›› 
(
››  
$num
››  "
,
››" #
$num
››$ &
,
››& '
$num
››( ,
)
››, -
)
››- .
;
››. /
tutorial28done
ﬁﬁ 
=
ﬁﬁ 
true
ﬁﬁ !
;
ﬁﬁ! "
}
‡‡ 	
if
‚‚ 

(
‚‚ 
tutorial28done
‚‚ 
&&
‚‚ 
rpgTalk
‚‚ %
.
‚‚% &
dialogueFinished
‚‚& 6
)
‚‚6 7
{
„„ 	
Destroy
‰‰ 
(
‰‰ 

gameObject
‰‰ 
.
‰‰ 
GetComponent
‰‰ +
<
‰‰+ ,
DialogueTest
‰‰, 8
>
‰‰8 9
(
‰‰9 :
)
‰‰: ;
)
‰‰; <
;
‰‰< =
}
ÂÂ 	
}
ÁÁ 
void
ÍÍ 
TutorialFunction
ÍÍ	 
(
ÍÍ 
int
ÍÍ 
	startLine
ÍÍ '
,
ÍÍ' (
int
ÍÍ) ,
	breakLine
ÍÍ- 6
)
ÍÍ6 7
{
ÎÎ 
rpgTalk
ÏÏ 
.
ÏÏ 
lineToStart
ÏÏ 
=
ÏÏ 
	startLine
ÏÏ '
;
ÏÏ' (
rpgTalk
ÌÌ 
.
ÌÌ 
lineToBreak
ÌÌ 
=
ÌÌ 
	breakLine
ÌÌ '
;
ÌÌ' (
rpgTalk
ÓÓ 
.
ÓÓ 
NewTalk
ÓÓ 
(
ÓÓ 
)
ÓÓ 
;
ÓÓ 
}
 
IEnumerator
ÛÛ 
Wait
ÛÛ 
(
ÛÛ 
int
ÛÛ 
start
ÛÛ 
,
ÛÛ 
int
ÛÛ  #
end
ÛÛ$ '
,
ÛÛ' (
float
ÛÛ) .
waitTime
ÛÛ/ 7
)
ÛÛ7 8
{
ÙÙ 
yield
ıı 
return
ıı 
new
ıı 
WaitForSeconds
ıı '
(
ıı' (
waitTime
ıı( 0
)
ıı0 1
;
ıı1 2
TutorialFunction
ˆˆ 
(
ˆˆ 
start
ˆˆ 
,
ˆˆ 
end
ˆˆ  #
)
ˆˆ# $
;
ˆˆ$ %
}
˜˜ 
}¯¯ ≈?
SC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\FermentorScript.cs
public 
class 
FermentorScript 
: 
MonoBehaviour ,
{ 
public

 


GameMaster

 
.

 
FermentationState

 '
FermentationState

( 9
{

: ;
get

< ?
;

? @
set

A D
;

D E
}

F G
public 


GameMaster 
. 
Winetype 
WineType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

bool 
IsFermenting 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
	GrapeName 
; 
public 

float 
Timer 
{ 
get 
; 
set !
;! "
}# $
public 

string 
NiceTime 
{ 
get  
;  !
private" )
set* -
;- .
}/ 0
private 

GameMaster 

gameMaster !
;! "
private 

SlotScript 

slotScript !
;! "
private 
bool 
testing 
= 
true 
;  
private 
bool 
isPaused 
= 
false !
;! "
private 
bool 
isTimerRunning 
=  !
false" '
;' (
private 

WinePrefab 
ourWine 
; 
private 
bool 
wineTypeDecided  
=! "
false# (
;( )
System 

.
 
DateTime 

timePaused 
; 
System 

.
 
DateTime 
timeUnpaused  
;  !
private 
void 
Awake 
( 
) 
{ 

gameMaster 
= 

GameObject 
.  
Find  $
($ %
$str% 2
)2 3
.3 4
GetComponent4 @
<@ A

GameMasterA K
>K L
(L M
)M N
;N O

slotScript 
= 

GameObject 
.  
Find  $
($ %
$str% 2
)2 3
.3 4
GetComponent4 @
<@ A

SlotScriptA K
>K L
(L M
)M N
;N O
ourWine   
=   

gameMaster   
.   
OurWine   $
.  $ %
GetComponent  % 1
<  1 2

WinePrefab  2 <
>  < =
(  = >
)  > ?
;  ? @
}!! 
void$$ 
Update$$	 
($$ 
)$$ 
{%% 
if22 

(22 
FermentationState22 
!=22  

GameMaster22! +
.22+ ,
FermentationState22, =
.22= >
NotFermentating22> M
&&22N P
FermentationState22Q b
!=22c e

GameMaster22f p
.22p q
FermentationState	22q Ç
.
22Ç É
	Fermented
22É å
)
22å ç
{33 	
if44 
(44 
Timer44 
>=44 
$num44 
)44 
{55 
isTimerRunning66 
=66  
true66! %
;66% &
Timer77 
-=77 
Time77 
.77 
	deltaTime77 '
;77' (
int88 
fermentTimeMinutes88 &
=88' (
Mathf88) .
.88. /

FloorToInt88/ 9
(889 :
Timer88: ?
/88@ A
$num88B E
)88E F
;88F G
int99 
fermentTimeSeconds99 &
=99' (
Mathf99) .
.99. /

FloorToInt99/ 9
(999 :
Timer99: ?
-99@ A
fermentTimeMinutes99B T
*99U V
$num99W Y
)99Y Z
;99Z [
NiceTime:: 
=:: 
string:: !
.::! "
Format::" (
(::( )
$str::) 7
,::7 8
fermentTimeMinutes::9 K
,::K L
fermentTimeSeconds::M _
)::_ `
;::` a
};; 
if== 
(== 
Timer== 
<== 
$num== 
&&== 

slotScript== (
.==( )

didCollect==) 3
&&==4 6
!==7 8
wineTypeDecided==8 G
)==G H
{>> 
WineType?? 
=?? 

GameMaster?? %
.??% &
Winetype??& .
.??. /
RedWine??/ 6
;??6 7
ourWine@@ 
.@@ 
tannin@@ 
=@@  
Wine@@! %
.@@% &
Tannin@@& ,
.@@, -
High@@- 1
;@@1 2
ourWineAA 
.AA 
wineTypeAA  
=AA! "
(AA# $
WineAA$ (
.AA( )
WineTypeAA) 1
)AA1 2
WineTypeAA2 :
;AA: ;
wineTypeDecidedBB 
=BB  !
trueBB" &
;BB& '
DebugCC 
.CC 
LogCC 
(CC 
WineTypeCC "
)CC" #
;CC# $
}DD 
elseFF 
ifFF 
(FF 
TimerFF 
<FF 
$numFF  
&&FF! #

slotScriptFF$ .
.FF. /

didCollectFF/ 9
&&FF: <
!FF= >
wineTypeDecidedFF> M
)FFM N
{GG 
WineTypeHH 
=HH 

GameMasterHH %
.HH% &
WinetypeHH& .
.HH. /
RoseWineHH/ 7
;HH7 8
ourWineII 
.II 
tanninII 
=II  
WineII! %
.II% &
TanninII& ,
.II, -
MediumII- 3
;II3 4
ourWineJJ 
.JJ 
wineTypeJJ  
=JJ! "
(JJ# $
WineJJ$ (
.JJ( )
WineTypeJJ) 1
)JJ1 2
WineTypeJJ2 :
;JJ: ;
wineTypeDecidedKK 
=KK  !
trueKK" &
;KK& '
DebugLL 
.LL 
LogLL 
(LL 
WineTypeLL "
)LL" #
;LL# $
}MM 
elseOO 
ifOO 
(OO 
TimerOO 
<OO 
$numOO  
&&OO! #

slotScriptOO$ .
.OO. /

didCollectOO/ 9
&&OO: <
!OO= >
wineTypeDecidedOO> M
)OOM N
{PP 
WineTypeQQ 
=QQ 

GameMasterQQ %
.QQ% &
WinetypeQQ& .
.QQ. /
	WhiteWineQQ/ 8
;QQ8 9
ourWineRR 
.RR 
tanninRR 
=RR  
WineRR! %
.RR% &
TanninRR& ,
.RR, -
LowRR- 0
;RR0 1
ourWineSS 
.SS 
wineTypeSS  
=SS! "
(SS# $
WineSS$ (
.SS( )
WineTypeSS) 1
)SS1 2
WineTypeSS2 :
;SS: ;
wineTypeDecidedTT 
=TT  !
trueTT" &
;TT& '
DebugUU 
.UU 
LogUU 
(UU 
WineTypeUU "
)UU" #
;UU# $
}VV 
ifXX 
(XX 
TimerXX 
<=XX 
$numXX 
)XX 
{YY 
FermentationStateZZ !
=ZZ" #

GameMasterZZ$ .
.ZZ. /
FermentationStateZZ/ @
.ZZ@ A
	FermentedZZA J
;ZZJ K
Debug[[ 
.[[ 
Log[[ 
([[ 
WineType[[ "
)[[" #
;[[# $
}\\ 
}]] 	
else^^ 
NiceTime__ 
=__ 
string__ 
.__ 
Format__ $
(__$ %
$str__% +
)__+ ,
;__, -
}`` 
}aa ¯±
MC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\GUIScript.cs
public		 
class		 
	GUIScript		 
:		 
MonoBehaviour		 &
{

 
public 

CanvasGroup 
	Inventory  
;  !
public 

CanvasGroup 
	InfoPanel  
;  !
public 

Text 
InfoPanelText 
; 
public 

Text 
InfoPanelTimer 
; 
public 

Button 
HarvestButton 
;  
public 

Button 
PlantButton 
; 
public 

string 
Button 
; 
private 
Animator 
animator 
; 
private 

SlotScript 

slotScript !
;! "
private 
PlantGround 
groundScript $
;$ %
private 

GameObject 
parent 
; 
private 
Image 
infoPanelSprite !
;! "
private 

GameObject 
gameManager "
;" #
private 
FermentorScript 
fermentorScript +
;+ ,
private 

GameMaster 

gameMaster !
;! "
private 
ClarificationScript 
clarificationScript  3
;3 4
private 
BottlingScript 
bottlingScript )
;) *
private 
ColliderHandler 
colliderHandler +
;+ ,
void"" 
Awake""	 
("" 
)"" 
{## 
gameManager%% 
=%% 

GameObject%%  
.%%  !!
FindGameObjectWithTag%%! 6
(%%6 7
$str%%7 D
)%%D E
;%%E F

gameMaster&& 
=&& 
gameManager&&  
.&&  !
GetComponent&&! -
<&&- .

GameMaster&&. 8
>&&8 9
(&&9 :
)&&: ;
;&&; <
infoPanelSprite'' 
='' 
	InfoPanel'' #
.''# $
	transform''$ -
.''- .
Find''. 2
(''2 3
$str''3 A
)''A B
.''B C
GetComponent''C O
<''O P
Image''P U
>''U V
(''V W
)''W X
;''X Y

slotScript(( 
=(( 
gameManager((  
.((  !
GetComponent((! -
<((- .

SlotScript((. 8
>((8 9
(((9 :
)((: ;
;((; <
animator)) 
=)) 
GetComponent)) 
<))  
Animator))  (
>))( )
())) *
)))* +
;))+ ,
colliderHandler** 
=** 
gameManager** %
.**% &
GetComponent**& 2
<**2 3
ColliderHandler**3 B
>**B C
(**C D
)**D E
;**E F
}++ 
void.. 
Update..	 
(.. 
).. 
{// 
string00 
timer00 
;00 
if22 

(22 
	InfoPanel22 
.22 
alpha22 
==22 
$num22  
)22  !
{33 	
if44 
(44 
parent44 
.44 
tag44 
==44 
$str44 '
)44' (
{55 
timer66 
=66 
groundScript66 $
.66$ %
NiceTime66% -
;66- .
InfoPanelTimer77 
.77 
text77 #
=77$ %
timer77& +
;77+ ,
if88 
(88 
groundScript88  
.88  !
Timer88! &
<=88' )
$num88* +
)88+ ,
{99 
InfoPanelTimer:: "
.::" #
text::# '
=::( )
$str::* 2
;::2 3
};; 
}<< 
else== 
if== 
(== 
parent== 
.== 
tag== 
====  "
$str==# /
)==/ 0
{>> 
timer?? 
=?? 
fermentorScript?? '
.??' (
NiceTime??( 0
;??0 1
InfoPanelTimer@@ 
.@@ 
text@@ #
=@@$ %
timer@@& +
;@@+ ,
ifAA 
(AA 
fermentorScriptAA #
.AA# $
TimerAA$ )
<=AA* ,
$numAA- .
)AA. /
{BB 
InfoPanelTimerCC "
.CC" #
textCC# '
=CC( )
$strCC* 2
;CC2 3
}DD 
}EE 
elseFF 
ifFF 
(FF 
parentFF 
.FF 
tagFF 
==FF  "
$strFF# 2
)FF2 3
{GG 
timerHH 
=HH 
clarificationScriptHH +
.HH+ ,
NiceTimeHH, 4
;HH4 5
InfoPanelTimerII 
.II 
textII #
=II$ %
timerII& +
;II+ ,
ifJJ 
(JJ 
clarificationScriptJJ '
.JJ' (
TimerJJ( -
<=JJ. 0
$numJJ1 2
)JJ2 3
{KK 
InfoPanelTimerLL "
.LL" #
textLL# '
=LL( )
$strLL* 2
;LL2 3
}MM 
}NN 
elseOO 
ifOO 
(OO 
parentOO 
.OO 
tagOO 
==OO  "
$strOO# -
)OO- .
{PP 
timerQQ 
=QQ 
bottlingScriptQQ &
.QQ& '
NiceTimeQQ' /
;QQ/ 0
InfoPanelTimerRR 
.RR 
textRR #
=RR$ %
timerRR& +
;RR+ ,
ifSS 
(SS 
bottlingScriptSS "
.SS" #
TimerSS# (
<=SS) +
$numSS, -
)SS- .
{TT 
InfoPanelTimerUU "
.UU" #
textUU# '
=UU( )
$strUU* 2
;UU2 3
}VV 
}WW 
}XX 	
}YY 
public\\ 

void\\ 
initializeInfoPanel\\ #
(\\# $
string\\$ *
name\\+ /
)\\/ 0
{]] 
if^^ 

(^^ 
parent^^ 
.^^ 
tag^^ 
==^^ 
$str^^ #
)^^# $
{__ 	
InfoPanelText`` 
.`` 
text`` 
=``  
name``! %
+``& '
$str``( 6
;``6 7
infoPanelSpriteaa 
.aa 
spriteaa "
=aa# $
	Resourcesaa% .
.aa. /
Loadaa/ 3
<aa3 4
Spriteaa4 :
>aa: ;
(aa; <
$straa< >
+aa? @
nameaaA E
)aaE F
;aaF G
}bb 	
elsedd 
ifdd 
(dd 
parentdd 
.dd 
tagdd 
==dd 
$strdd +
)dd+ ,
{ee 	
InfoPanelTextff 
.ff 
textff 
=ff  
nameff! %
+ff& '
$strff( 8
;ff8 9
infoPanelSpritegg 
.gg 
spritegg "
=gg# $
	Resourcesgg% .
.gg. /
Loadgg/ 3
<gg3 4
Spritegg4 :
>gg: ;
(gg; <
$strgg< >
+gg? @
nameggA E
)ggE F
;ggF G
}hh 	
elseii 
ifii 
(ii 
parentii 
.ii 
tagii 
==ii 
$strii .
)ii. /
{jj 	
InfoPanelTextkk 
.kk 
textkk 
=kk  
namekk! %
+kk& '
$strkk( @
;kk@ A
infoPanelSpritell 
.ll 
spritell "
=ll# $
	Resourcesll% .
.ll. /
Loadll/ 3
<ll3 4
Spritell4 :
>ll: ;
(ll; <
$strll< >
+ll? @
namellA E
)llE F
;llF G
}mm 	
elsenn 
ifnn 
(nn 
parentnn 
.nn 
tagnn 
==nn 
$strnn )
)nn) *
{oo 	
InfoPanelTextpp 
.pp 
textpp 
=pp  
namepp! %
+pp& '
$strpp( ;
;pp; <
infoPanelSpriteqq 
.qq 
spriteqq "
=qq# $
	Resourcesqq% .
.qq. /
Loadqq/ 3
<qq3 4
Spriteqq4 :
>qq: ;
(qq; <
$strqq< >
+qq? @
nameqqA E
)qqE F
;qqF G
}rr 	
}ss 
publicvv 

voidvv 
ButtonClickedvv 
(vv 
)vv 
{ww 
ifxx 

(xx 
gameManagerxx 
.xx 
GetComponentxx $
<xx$ %

GameMasterxx% /
>xx/ 0
(xx0 1
)xx1 2
.xx2 3
IsInventoryOpenxx3 B
)xxB C
{yy 	
Buttonzz 
=zz 
EventSystemzz  
.zz  !
currentzz! (
.zz( )%
currentSelectedGameObjectzz) B
.zzB C
namezzC G
;zzG H
switch{{ 
({{ 
Button{{ 
){{ 
{|| 
case}} 
$str}} 
:}} 
	InfoPanel~~ 
.~~ 
alpha~~ #
=~~$ %
$num~~& '
;~~' (
animator 
. 
SetBool $
($ %
$str% 4
,4 5
false6 ;
); <
;< =
break
ÄÄ 
;
ÄÄ 
case
ÅÅ 
$str
ÅÅ 
:
ÅÅ 

slotScript
ÇÇ 
.
ÇÇ 
Plant
ÇÇ $
(
ÇÇ$ %
)
ÇÇ% &
;
ÇÇ& '
if
ÉÉ 
(
ÉÉ 

SlotScript
ÉÉ "
.
ÉÉ" #
didPlant
ÉÉ# +
)
ÉÉ+ ,
{
ÑÑ 
animator
ÖÖ  
.
ÖÖ  !
SetBool
ÖÖ! (
(
ÖÖ( )
$str
ÖÖ) 8
,
ÖÖ8 9
false
ÖÖ: ?
)
ÖÖ? @
;
ÖÖ@ A
}
ÜÜ 
else
áá 
return
àà 
;
àà 
break
ââ 
;
ââ 
case
ää 
$str
ää 
:
ää 
if
ãã 
(
ãã 
groundScript
ãã $
.
ãã$ %
Timer
ãã% *
<=
ãã+ -
$num
ãã. /
)
ãã/ 0
{
åå 

slotScript
çç "
.
çç" #
Harvest
çç# *
(
çç* +
)
çç+ ,
;
çç, -
	InfoPanel
éé !
.
éé! "
alpha
éé" '
=
éé( )
$num
éé* +
;
éé+ ,
}
èè 
else
êê 
return
ëë 
;
ëë 
break
íí 
;
íí 
case
ìì 
$str
ìì 
:
ìì 

slotScript
îî 
.
îî 
selectGrape
îî *
(
îî* +
)
îî+ ,
;
îî, -
if
ïï 
(
ïï 

SlotScript
ïï "
.
ïï" #
didPlant
ïï# +
)
ïï+ ,
{
ññ 
animator
óó  
.
óó  !
SetBool
óó! (
(
óó( )
$str
óó) 8
,
óó8 9
false
óó: ?
)
óó? @
;
óó@ A
}
òò 
else
ôô 
return
öö 
;
öö 
break
õõ 
;
õõ 
case
úú 
$str
úú "
:
úú" #

slotScript
ùù 
.
ùù 
Clarificate
ùù *
(
ùù* +
)
ùù+ ,
;
ùù, -
if
ûû 
(
ûû 

SlotScript
ûû "
.
ûû" #
didPlant
ûû# +
)
ûû+ ,
{
üü 
animator
††  
.
††  !
SetBool
††! (
(
††( )
$str
††) 8
,
††8 9
false
††: ?
)
††? @
;
††@ A
}
°° 
else
¢¢ 
return
££ 
;
££ 
break
§§ 
;
§§ 
case
•• 
$str
•• 
:
•• 

slotScript
¶¶ 
.
¶¶ 
Bottling
¶¶ '
(
¶¶' (
)
¶¶( )
;
¶¶) *
if
ßß 
(
ßß 

SlotScript
ßß "
.
ßß" #
didPlant
ßß# +
)
ßß+ ,
{
®® 
animator
©©  
.
©©  !
SetBool
©©! (
(
©©( )
$str
©©) 8
,
©©8 9
false
©©: ?
)
©©? @
;
©©@ A
}
™™ 
else
´´ 
return
¨¨ 
;
¨¨ 
break
≠≠ 
;
≠≠ 
case
ÆÆ 
$str
ÆÆ 
:
ÆÆ 
if
ØØ 
(
ØØ 
(
ØØ 
parent
ØØ 
.
ØØ  
tag
ØØ  #
==
ØØ$ &
$str
ØØ' 3
&&
ØØ4 6
fermentorScript
ØØ7 F
.
ØØF G
Timer
ØØG L
<=
ØØM O
$num
ØØP Q
)
ØØQ R
||
ØØS U
(
ØØV W
parent
ØØW ]
.
ØØ] ^
tag
ØØ^ a
==
ØØb d
$str
ØØe t
&&
ØØu w"
clarificationScriptØØx ã
.ØØã å
TimerØØå ë
<=ØØí î
$numØØï ñ
)ØØñ ó
||ØØò ö
(ØØõ ú
parentØØú ¢
.ØØ¢ £
tagØØ£ ¶
==ØØß ©
$strØØ™ ¥
&&ØØµ ∑
bottlingScriptØØ∏ ∆
.ØØ∆ «
TimerØØ« Ã
<=ØØÕ œ
$numØØ– —
)ØØ— “
)ØØ“ ”
{
∞∞ 

slotScript
±± "
.
±±" #
Collect
±±# *
(
±±* +
)
±±+ ,
;
±±, -
	InfoPanel
≤≤ !
.
≤≤! "
alpha
≤≤" '
=
≤≤( )
$num
≤≤* +
;
≤≤+ ,
}
≥≥ 
else
¥¥ 
if
¥¥ 
(
¥¥ 
parent
¥¥ $
.
¥¥$ %
tag
¥¥% (
==
¥¥) +
$str
¥¥, 8
&&
¥¥9 ;
fermentorScript
¥¥< K
.
¥¥K L
Timer
¥¥L Q
>
¥¥R S
$num
¥¥T U
)
¥¥U V
{
µµ 

slotScript
∂∂ "
.
∂∂" #

didCollect
∂∂# -
=
∂∂. /
true
∂∂0 4
;
∂∂4 5
}
∑∑ 
else
∏∏ 
return
ππ 
;
ππ 
break
∫∫ 
;
∫∫ 
}
ªª 
PlantButton
ΩΩ 
.
ΩΩ 
name
ΩΩ 
=
ΩΩ 
$str
ΩΩ &
;
ΩΩ& '
PlantButton
ææ 
.
ææ $
GetComponentInChildren
ææ .
<
ææ. /
Text
ææ/ 3
>
ææ3 4
(
ææ4 5
)
ææ5 6
.
ææ6 7
text
ææ7 ;
=
ææ< =
$str
ææ> E
;
ææE F
HarvestButton
øø 
.
øø 
name
øø 
=
øø  
$str
øø! *
;
øø* +
HarvestButton
¿¿ 
.
¿¿ $
GetComponentInChildren
¿¿ 0
<
¿¿0 1
Text
¿¿1 5
>
¿¿5 6
(
¿¿6 7
)
¿¿7 8
.
¿¿8 9
text
¿¿9 =
=
¿¿> ?
$str
¿¿@ I
;
¿¿I J

GameObject
¡¡ 
.
¡¡ #
FindGameObjectWithTag
¡¡ ,
(
¡¡, -
$str
¡¡- :
)
¡¡: ;
.
¡¡; <
GetComponent
¡¡< H
<
¡¡H I

GameMaster
¡¡I S
>
¡¡S T
(
¡¡T U
)
¡¡U V
.
¡¡V W
IsInventoryOpen
¡¡W f
=
¡¡g h
false
¡¡i n
;
¡¡n o
}
¬¬ 	
}
√√ 
public
∆∆ 

void
∆∆ 
showInventory
∆∆ 
(
∆∆ 
)
∆∆ 
{
«« 
parent
»» 
=
»» 
colliderHandler
»»  
.
»»  !
ParentGameObject
»»! 1
;
»»1 2
groundScript
…… 
=
…… 
parent
…… 
.
…… 
GetComponent
…… *
<
……* +
PlantGround
……+ 6
>
……6 7
(
……7 8
)
……8 9
;
……9 :
fermentorScript
   
=
   
parent
    
.
    !
GetComponent
  ! -
<
  - .
FermentorScript
  . =
>
  = >
(
  > ?
)
  ? @
;
  @ A!
clarificationScript
ÀÀ 
=
ÀÀ 
parent
ÀÀ $
.
ÀÀ$ %
GetComponent
ÀÀ% 1
<
ÀÀ1 2!
ClarificationScript
ÀÀ2 E
>
ÀÀE F
(
ÀÀF G
)
ÀÀG H
;
ÀÀH I
bottlingScript
ÃÃ 
=
ÃÃ 
parent
ÃÃ 
.
ÃÃ  
GetComponent
ÃÃ  ,
<
ÃÃ, -
BottlingScript
ÃÃ- ;
>
ÃÃ; <
(
ÃÃ< =
)
ÃÃ= >
;
ÃÃ> ?

GameObject
ÕÕ 
.
ÕÕ #
FindGameObjectWithTag
ÕÕ (
(
ÕÕ( )
$str
ÕÕ) 6
)
ÕÕ6 7
.
ÕÕ7 8
GetComponent
ÕÕ8 D
<
ÕÕD E
	Inventory
ÕÕE N
>
ÕÕN O
(
ÕÕO P
)
ÕÕP Q
.
ÕÕQ R
ShowHideSlots
ÕÕR _
(
ÕÕ_ `
)
ÕÕ` a
;
ÕÕa b
switch
œœ 
(
œœ 
parent
œœ 
.
œœ 
tag
œœ 
)
œœ 
{
–– 	
case
—— 
$str
—— 
:
—— 
	Inventory
““ 
.
““ 
alpha
““ 
=
““  !
$num
““" #
;
““# $
animator
”” 
.
”” 
SetBool
””  
(
””  !
$str
””! 0
,
””0 1
true
””2 6
)
””6 7
;
””7 8
break
‘‘ 
;
‘‘ 
case
’’ 
$str
’’ 
:
’’ 
	InfoPanel
÷÷ 
.
÷÷ 
alpha
÷÷ 
=
÷÷  !
$num
÷÷" #
;
÷÷# $!
initializeInfoPanel
◊◊ #
(
◊◊# $
groundScript
◊◊$ 0
.
◊◊0 1
	PlantName
◊◊1 :
)
◊◊: ;
;
◊◊; <
break
ÿÿ 
;
ÿÿ 
case
ŸŸ 
$str
ŸŸ  
:
ŸŸ  !
	Inventory
⁄⁄ 
.
⁄⁄ 
alpha
⁄⁄ 
=
⁄⁄  !
$num
⁄⁄" #
;
⁄⁄# $
animator
€€ 
.
€€ 
SetBool
€€  
(
€€  !
$str
€€! 0
,
€€0 1
true
€€2 6
)
€€6 7
;
€€7 8
PlantButton
‹‹ 
.
‹‹ 
name
‹‹  
=
‹‹! "
$str
‹‹# *
;
‹‹* +
PlantButton
›› 
.
›› $
GetComponentInChildren
›› 2
<
››2 3
Text
››3 7
>
››7 8
(
››8 9
)
››9 :
.
››: ;
text
››; ?
=
››@ A
$str
››B I
;
››I J
break
ﬁﬁ 
;
ﬁﬁ 
case
ﬂﬂ 
$str
ﬂﬂ 
:
ﬂﬂ 
	InfoPanel
‡‡ 
.
‡‡ 
alpha
‡‡ 
=
‡‡  !
$num
‡‡" #
;
‡‡# $!
initializeInfoPanel
·· #
(
··# $

gameMaster
··$ .
.
··. /
GetDescription
··/ =
(
··= >
fermentorScript
··> M
.
··M N
WineType
··N V
)
··V W
)
··W X
;
··X Y
HarvestButton
‚‚ 
.
‚‚ 
name
‚‚ "
=
‚‚# $
$str
‚‚% .
;
‚‚. /
HarvestButton
„„ 
.
„„ $
GetComponentInChildren
„„ 4
<
„„4 5
Text
„„5 9
>
„„9 :
(
„„: ;
)
„„; <
.
„„< =
text
„„= A
=
„„B C
$str
„„D M
;
„„M N
break
‰‰ 
;
‰‰ 
case
ÂÂ 
$str
ÂÂ #
:
ÂÂ# $
	Inventory
ÊÊ 
.
ÊÊ 
alpha
ÊÊ 
=
ÊÊ  !
$num
ÊÊ" #
;
ÊÊ# $
animator
ÁÁ 
.
ÁÁ 
SetBool
ÁÁ  
(
ÁÁ  !
$str
ÁÁ! 0
,
ÁÁ0 1
true
ÁÁ2 6
)
ÁÁ6 7
;
ÁÁ7 8
PlantButton
ËË 
.
ËË 
name
ËË  
=
ËË! "
$str
ËË# 0
;
ËË0 1
PlantButton
ÈÈ 
.
ÈÈ $
GetComponentInChildren
ÈÈ 2
<
ÈÈ2 3
Text
ÈÈ3 7
>
ÈÈ7 8
(
ÈÈ8 9
)
ÈÈ9 :
.
ÈÈ: ;
text
ÈÈ; ?
=
ÈÈ@ A
$str
ÈÈB O
;
ÈÈO P
break
ÍÍ 
;
ÍÍ 
case
ÎÎ 
$str
ÎÎ  
:
ÎÎ  !
	InfoPanel
ÏÏ 
.
ÏÏ 
alpha
ÏÏ 
=
ÏÏ  !
$num
ÏÏ" #
;
ÏÏ# $!
initializeInfoPanel
ÌÌ #
(
ÌÌ# $!
clarificationScript
ÌÌ$ 7
.
ÌÌ7 8
WineName
ÌÌ8 @
)
ÌÌ@ A
;
ÌÌA B
HarvestButton
ÓÓ 
.
ÓÓ 
name
ÓÓ "
=
ÓÓ# $
$str
ÓÓ% .
;
ÓÓ. /
HarvestButton
ÔÔ 
.
ÔÔ $
GetComponentInChildren
ÔÔ 4
<
ÔÔ4 5
Text
ÔÔ5 9
>
ÔÔ9 :
(
ÔÔ: ;
)
ÔÔ; <
.
ÔÔ< =
text
ÔÔ= A
=
ÔÔB C
$str
ÔÔD M
;
ÔÔM N
break
 
;
 
case
ÒÒ 
$str
ÒÒ 
:
ÒÒ 
	Inventory
ÚÚ 
.
ÚÚ 
alpha
ÚÚ 
=
ÚÚ  !
$num
ÚÚ" #
;
ÚÚ# $
animator
ÛÛ 
.
ÛÛ 
SetBool
ÛÛ  
(
ÛÛ  !
$str
ÛÛ! 0
,
ÛÛ0 1
true
ÛÛ2 6
)
ÛÛ6 7
;
ÛÛ7 8
PlantButton
ÙÙ 
.
ÙÙ 
name
ÙÙ  
=
ÙÙ! "
$str
ÙÙ# +
;
ÙÙ+ ,
PlantButton
ıı 
.
ıı $
GetComponentInChildren
ıı 2
<
ıı2 3
Text
ıı3 7
>
ıı7 8
(
ıı8 9
)
ıı9 :
.
ıı: ;
text
ıı; ?
=
ıı@ A
$str
ııB J
;
ııJ K
break
ˆˆ 
;
ˆˆ 
case
˜˜ 
$str
˜˜ 
:
˜˜ 
	InfoPanel
¯¯ 
.
¯¯ 
alpha
¯¯ 
=
¯¯  !
$num
¯¯" #
;
¯¯# $!
initializeInfoPanel
˘˘ #
(
˘˘# $
bottlingScript
˘˘$ 2
.
˘˘2 3
WineName
˘˘3 ;
)
˘˘; <
;
˘˘< =
HarvestButton
˙˙ 
.
˙˙ 
name
˙˙ "
=
˙˙# $
$str
˙˙% .
;
˙˙. /
HarvestButton
˚˚ 
.
˚˚ $
GetComponentInChildren
˚˚ 4
<
˚˚4 5
Text
˚˚5 9
>
˚˚9 :
(
˚˚: ;
)
˚˚; <
.
˚˚< =
text
˚˚= A
=
˚˚B C
$str
˚˚D M
;
˚˚M N
break
¸¸ 
;
¸¸ 
}
˝˝ 	
}
˛˛ 
}ˇˇ •å
NC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\GameMaster.cs
public 
class 

GameMaster 
: 
MonoBehaviour '
{ 
[ 
Header 
( 
$str 
) 
] 
public 


GameObject 

TownCamera  
;  !
public 


GameObject 

FarmCamera  
;  !
public 


GameObject 
BreweryCamera #
;# $
[ 
Header 
( 
$str 
) 
] 
public 

Camera 

GrapeCrush 
; 
public 


GameObject 
PlayGrapeCrushGO &
;& '
[ 
Header 
( 
$str 
) 
] 
public 

Text 
exp 
; 
public 

Text 
	expneeded 
; 
public 

Text 
level 
; 
public 

Text 

playername 
; 
private 
	GUIScript 
	guiScript 
;  
private 
CurtainControls 
curtainControls +
;+ ,
public   

bool   
CrushisActive   
;   
public!! 

bool!! 
WineSold!! 
{!! 
get!! 
;!! 
set!!  #
;!!# $
}!!% &
public## 

	GameState## 
State## 
{## 
get##  
;##  !
set##" %
;##% &
}##' (
public'' 

bool'' 
IsInventoryOpen'' 
{''  !
get''" %
;''% &
set''' *
;''* +
}'', -
public.. 

enum.. 
	GameState.. 
{// 
Farm00 
,00 
Town11 
,11 
Brewery22 
,22 

GrapeCrush33 
}44 
;44 
public66 

enum66 

PlantState66 
{77 

NotPlanted88 
,88 
JustPlanted99 
,99 

Overgrowth:: 
,:: 
Trimmed;; 
,;; 
Grapes<< 
}== 
;== 
public?? 

enum?? 
FermentationState?? !
{@@ 
NotFermentatingAA 
,AA 

FermentingBB 
,BB 
	FermentedCC 
}DD 
publicFF 

enumFF 
ClarificationStateFF "
{GG 
NotClarificatingHH 
,HH 
ClarificatingII 
,II 
ClarificatedJJ 
}KK 
publicMM 

enumMM 
WinetypeMM 
{NN 
[OO 	
DescriptionOO	 
(OO 
$strOO !
)OO! "
]OO" #
	WhiteWinePP 
,PP 
[QQ 	
DescriptionQQ	 
(QQ 
$strQQ  
)QQ  !
]QQ! "
RoseWineRR 
,RR 
[SS 	
DescriptionSS	 
(SS 
$strSS 
)SS  
]SS  !
RedWineTT 
,TT 
}UU 
publicWW 

enumWW 
BottlingStateWW 
{XX 
NotBottlingYY 
,YY 
BottlingZZ 
,ZZ 
Bottled[[ 
}\\ 
void^^ 
Awake^^	 
(^^ 
)^^ 
{__ 
curtainControls`` 
=`` 

GameObject`` $
.``$ %!
FindGameObjectWithTag``% :
(``: ;
$str``; D
)``D E
.``E F
GetComponent``F R
<``R S
CurtainControls``S b
>``b c
(``c d
)``d e
;``e f
	guiScriptaa 
=aa 

GameObjectaa 
.aa !
FindGameObjectWithTagaa 4
(aa4 5
$straa5 F
)aaF G
.aaG H
GetComponentaaH T
<aaT U
	GUIScriptaaU ^
>aa^ _
(aa_ `
)aa` a
;aaa b
}bb 
privatedd 
voiddd 
Startdd 
(dd 
)dd 
{ee 
Stateff 
=ff 
	GameStateff 
.ff 
Farmff 
;ff 
PlayGrapeCrushGOgg 
.gg 
	SetActivegg "
(gg" #
falsegg# (
)gg( )
;gg) *
CrushisActivehh 
=hh 
falsehh 
;hh 
WineSoldii 
=ii 
falseii 
;ii 
IsInventoryOpenjj 
=jj 
falsejj 
;jj  
}kk 
voidvv 
GoToTownvv	 
(vv 
)vv 
{ww 
curtainControlsxx 
.xx 
FadeToBlackxx #
(xx# $
Cameraxx$ *
.xx* +
mainxx+ /
,xx/ 0

TownCameraxx1 ;
.xx; <
	transformxx< E
.xxE F
FindxxF J
(xxJ K
$strxxK T
)xxT U
.xxU V
GetComponentxxV b
<xxb c
Cameraxxc i
>xxi j
(xxj k
)xxk l
)xxl m
;xxm n
Stateyy 
=yy 
	GameStateyy 
.yy 
Townyy 
;yy 
}zz 
void{{ 
GoToFarm{{	 
({{ 
){{ 
{|| 
curtainControls}} 
.}} 
FadeToBlack}} #
(}}# $
Camera}}$ *
.}}* +
main}}+ /
,}}/ 0

FarmCamera}}1 ;
.}}; <
	transform}}< E
.}}E F
Find}}F J
(}}J K
$str}}K T
)}}T U
.}}U V
GetComponent}}V b
<}}b c
Camera}}c i
>}}i j
(}}j k
)}}k l
)}}l m
;}}m n
State~~ 
=~~ 
	GameState~~ 
.~~ 
Farm~~ 
;~~ 
} 
void
ÄÄ 
GoToBrewery
ÄÄ	 
(
ÄÄ 
)
ÄÄ 
{
ÅÅ 
curtainControls
ÇÇ 
.
ÇÇ 
FadeToBlack
ÇÇ #
(
ÇÇ# $
Camera
ÇÇ$ *
.
ÇÇ* +
main
ÇÇ+ /
,
ÇÇ/ 0
BreweryCamera
ÇÇ1 >
.
ÇÇ> ?
	transform
ÇÇ? H
.
ÇÇH I
Find
ÇÇI M
(
ÇÇM N
$str
ÇÇN W
)
ÇÇW X
.
ÇÇX Y
GetComponent
ÇÇY e
<
ÇÇe f
Camera
ÇÇf l
>
ÇÇl m
(
ÇÇm n
)
ÇÇn o
)
ÇÇo p
;
ÇÇp q
State
ÉÉ 
=
ÉÉ 
	GameState
ÉÉ 
.
ÉÉ 
Brewery
ÉÉ !
;
ÉÉ! "
}
ÑÑ 
void
ÜÜ 
PlayGrapeCrush
ÜÜ	 
(
ÜÜ 
)
ÜÜ 
{
áá 
curtainControls
àà 
.
àà 
FadeToBlack
àà #
(
àà# $
Camera
àà$ *
.
àà* +
main
àà+ /
,
àà/ 0

GrapeCrush
àà1 ;
)
àà; <
;
àà< =
State
ââ 
=
ââ 
	GameState
ââ 
.
ââ 

GrapeCrush
ââ $
;
ââ$ %
StartCoroutine
ää 
(
ää 
$str
ää 
,
ää 
$num
ää #
)
ää# $
;
ää$ %
}
ãã 
void
çç 
ViewInventory
çç	 
(
çç 

GameObject
çç !
go
çç" $
)
çç$ %
{
éé 
	guiScript
èè 
.
èè 
showInventory
èè 
(
èè  
)
èè  !
;
èè! "
IsInventoryOpen
êê 
=
êê 
true
êê 
;
êê 
}
ëë 
IEnumerator
ìì 
Wait
ìì 
(
ìì 
float
ìì 
time
ìì 
)
ìì  
{
îî 
yield
ïï 
return
ïï 
new
ïï 
WaitForSeconds
ïï '
(
ïï' (
time
ïï( ,
)
ïï, -
;
ïï- .

GameObject
ññ 
obj
ññ 
=
ññ 
Instantiate
ññ $
(
ññ$ %
PlayGrapeCrushGO
ññ% 5
)
ññ5 6
;
ññ6 7
State
óó 
=
óó 
	GameState
óó 
.
óó 

GrapeCrush
óó $
;
óó$ %
obj
òò 
.
òò 
	SetActive
òò 
(
òò 
true
òò 
)
òò 
;
òò 
CrushisActive
ôô 
=
ôô 
true
ôô 
;
ôô 
}
õõ 
public
ûû 

string
ûû 
GetDescription
ûû  
(
ûû  !
Enum
ûû! %
value
ûû& +
)
ûû+ ,
{
üü 
	FieldInfo
†† 
field
†† 
=
†† 
value
†† 
.
††  
GetType
††  '
(
††' (
)
††( )
.
††) *
GetField
††* 2
(
††2 3
value
††3 8
.
††8 9
ToString
††9 A
(
††A B
)
††B C
)
††C D
;
††D E"
DescriptionAttribute
¢¢ 
	attribute
¢¢ &
=
££ 
	Attribute
££ 
.
££  
GetCustomAttribute
££ .
(
££. /
field
££/ 4
,
££4 5
typeof
££6 <
(
££< ="
DescriptionAttribute
££= Q
)
££Q R
)
££R S
as
§§ "
DescriptionAttribute
§§ +
;
§§+ ,
return
¶¶ 
	attribute
¶¶ 
==
¶¶ 
null
¶¶  
?
¶¶! "
value
¶¶# (
.
¶¶( )
ToString
¶¶) 1
(
¶¶1 2
)
¶¶2 3
:
¶¶4 5
	attribute
¶¶6 ?
.
¶¶? @
Description
¶¶@ K
;
¶¶K L
}
ßß 
[
™™ 
Header
™™ 
(
™™ 
$str
™™ 
)
™™ 
]
™™ 
public
´´ 


GameObject
´´ 
CustomerSystem
´´ $
;
´´$ %
public
¨¨ 


GameObject
¨¨ 
CurrentClient
¨¨ #
;
¨¨# $
void
ÆÆ 
ClientClick
ÆÆ	 
(
ÆÆ 

GameObject
ÆÆ 
go
ÆÆ  "
)
ÆÆ" #
{
ØØ 
Debug
∞∞ 
.
∞∞ 
Log
∞∞ 
(
∞∞ 
go
∞∞ 
.
∞∞ 
ToString
∞∞ 
(
∞∞ 
)
∞∞ 
)
∞∞  
;
∞∞  !
CustomerSystem
±± 
.
±± 
GetComponent
±± #
<
±±# $
CustomerPanel
±±$ 1
>
±±1 2
(
±±2 3
)
±±3 4
.
±±4 5
clientSender
±±5 A
=
±±B C
go
±±D F
.
±±F G
GetComponent
±±G S
<
±±S T
Client
±±T Z
>
±±Z [
(
±±[ \
)
±±\ ]
;
±±] ^
CustomerSystem
≤≤ 
.
≤≤ 
GetComponent
≤≤ #
<
≤≤# $
CustomerPanel
≤≤$ 1
>
≤≤1 2
(
≤≤2 3
)
≤≤3 4
.
≤≤4 5
ActivatePanel
≤≤5 B
(
≤≤B C
)
≤≤C D
;
≤≤D E
CustomerSystem
≥≥ 
.
≥≥ 
GetComponent
≥≥ #
<
≥≥# $
CustomerPanel
≥≥$ 1
>
≥≥1 2
(
≥≥2 3
)
≥≥3 4
.
≥≥4 5%
ScaleExplanationContent
≥≥5 L
(
≥≥L M
)
≥≥M N
;
≥≥N O
}
µµ 
public
∂∂ 

enum
∂∂ 

ClientType
∂∂ 
{
∑∑ 
Farmer
∏∏ 
,
∏∏ 

Restaurant
ππ 
}
∫∫ 
;
∫∫ 
void
ºº 
	ResetGame
ºº	 
(
ºº 
)
ºº 
{
ΩΩ 
}
¿¿ 
public
≈≈ 

void
≈≈ "
FarmCameraTransition
≈≈ $
(
≈≈$ %
)
≈≈% &
{
∆∆ 

FarmCamera
«« 
.
«« 
GetComponent
«« 
<
««   
MainAltCamControls
««  2
>
««2 3
(
««3 4
)
««4 5
.
««5 6

transition
««6 @
=
««A B
true
««C G
;
««G H
}
»» 
public
   

void
   "
TownCameraTransition
   $
(
  $ %
)
  % &
{
ÀÀ 

TownCamera
ÃÃ 
.
ÃÃ 
GetComponent
ÃÃ 
<
ÃÃ   
MainAltCamControls
ÃÃ  2
>
ÃÃ2 3
(
ÃÃ3 4
)
ÃÃ4 5
.
ÃÃ5 6

transition
ÃÃ6 @
=
ÃÃA B
true
ÃÃC G
;
ÃÃG H
}
ÕÕ 
public
œœ 

void
œœ %
BreweryCameraTransition
œœ '
(
œœ' (
)
œœ( )
{
–– 
BreweryCamera
—— 
.
—— 
GetComponent
—— "
<
——" # 
MainAltCamControls
——# 5
>
——5 6
(
——6 7
)
——7 8
.
——8 9

transition
——9 C
=
——D E
true
——F J
;
——J K
}
““ 
[
◊◊ 
Header
◊◊ 
(
◊◊ 
$str
◊◊ $
)
◊◊$ %
]
◊◊% &
public
ÿÿ 


GameObject
ÿÿ 
OurWine
ÿÿ 
;
ÿÿ 
public
‡‡ 

int
‡‡ 
CompareWines
‡‡ 
(
‡‡ 
Wine
‡‡  
wineA
‡‡! &
,
‡‡& '
Wine
‡‡( ,
wineB
‡‡- 2
)
‡‡2 3
{
·· 
bool
‚‚ 
match
‚‚ 
=
‚‚ 
false
‚‚ 
;
‚‚ 
int
ÁÁ 
similiarities
ÁÁ 
=
ÁÁ 
$num
ÁÁ 
;
ÁÁ 
for
ÍÍ 
(
ÍÍ 
int
ÍÍ 
i
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
;
ÍÍ 
i
ÍÍ 
<
ÍÍ 
wineA
ÍÍ !
.
ÍÍ! "
ComparisonMatrix
ÍÍ" 2
.
ÍÍ2 3
Count
ÍÍ3 8
;
ÍÍ8 9
i
ÍÍ: ;
++
ÍÍ; =
)
ÍÍ= >
{
ÎÎ 	
for
ÏÏ 
(
ÏÏ 
int
ÏÏ 
x
ÏÏ 
=
ÏÏ 
$num
ÏÏ 
;
ÏÏ 
x
ÏÏ 
<
ÏÏ 
wineB
ÏÏ  %
.
ÏÏ% &
ComparisonMatrix
ÏÏ& 6
.
ÏÏ6 7
Count
ÏÏ7 <
;
ÏÏ< =
x
ÏÏ> ?
++
ÏÏ? A
)
ÏÏA B
{
ÌÌ 
if
ÔÔ 
(
ÔÔ 
wineA
ÔÔ 
.
ÔÔ 
ComparisonMatrix
ÔÔ *
[
ÔÔ* +
i
ÔÔ+ ,
]
ÔÔ, -
.
ÔÔ- .
Length
ÔÔ. 4
!=
ÔÔ5 7
wineB
ÔÔ8 =
.
ÔÔ= >
ComparisonMatrix
ÔÔ> N
[
ÔÔN O
x
ÔÔO P
]
ÔÔP Q
.
ÔÔQ R
Length
ÔÔR X
)
ÔÔX Y
break
 
;
 
for
ÚÚ 
(
ÚÚ 
int
ÚÚ 
y
ÚÚ 
=
ÚÚ 
$num
ÚÚ 
;
ÚÚ 
y
ÚÚ  !
<
ÚÚ" #
wineA
ÚÚ$ )
.
ÚÚ) *
ComparisonMatrix
ÚÚ* :
[
ÚÚ: ;
i
ÚÚ; <
]
ÚÚ< =
.
ÚÚ= >
Length
ÚÚ> D
;
ÚÚD E
y
ÚÚF G
++
ÚÚG I
)
ÚÚI J
{
ÛÛ 
if
ÙÙ 
(
ÙÙ 
wineA
ÙÙ 
.
ÙÙ 
ComparisonMatrix
ÙÙ .
[
ÙÙ. /
i
ÙÙ/ 0
]
ÙÙ0 1
[
ÙÙ1 2
y
ÙÙ2 3
]
ÙÙ3 4
!=
ÙÙ5 7
wineB
ÙÙ8 =
.
ÙÙ= >
ComparisonMatrix
ÙÙ> N
[
ÙÙN O
x
ÙÙO P
]
ÙÙP Q
[
ÙÙQ R
y
ÙÙR S
]
ÙÙS T
)
ÙÙT U
{
ıı 
match
ˆˆ 
=
ˆˆ 
false
ˆˆ  %
;
ˆˆ% &
break
˜˜ 
;
˜˜ 
}
¯¯ 
else
˘˘ 
{
˙˙ 
match
˚˚ 
=
˚˚ 
true
˚˚  $
;
˚˚$ %
}
¸¸ 
}
˝˝ 
if
ˇˇ 
(
ˇˇ 
match
ˇˇ 
==
ˇˇ 
true
ˇˇ !
)
ˇˇ! "
{
ÄÄ 
similiarities
ÅÅ !
++
ÅÅ! #
;
ÅÅ# $
match
ÇÇ 
=
ÇÇ 
false
ÇÇ !
;
ÇÇ! "
}
ÉÉ 
}
ÑÑ 
}
ÖÖ 	
return
áá 
similiarities
áá 
;
áá 
}
àà 
private
åå 
void
åå 
OnGUI
åå 
(
åå 
)
åå 
{
çç 
	GUILayout
éé 
.
éé 
	BeginArea
éé 
(
éé 
new
éé 
Rect
éé  $
(
éé$ %
$num
éé% (
,
éé( )
$num
éé* ,
,
éé, -
$num
éé. 1
,
éé1 2
$num
éé3 6
)
éé6 7
)
éé7 8
;
éé8 9
if
èè 

(
èè 
	GUILayout
èè 
.
èè 
Button
èè 
(
èè 
$str
èè &
)
èè& '
)
èè' (
{
êê 	
Player
ëë 
.
ëë 
GainExperience
ëë !
(
ëë! "
$num
ëë" %
)
ëë% &
;
ëë& '
exp
íí 
.
íí 
text
íí 
=
íí 
Player
íí 
.
íí 
Exp
íí !
.
íí! "
ToString
íí" *
(
íí* +
)
íí+ ,
;
íí, -
	expneeded
ìì 
.
ìì 
text
ìì 
=
ìì 
Player
ìì #
.
ìì# $
	ExpNeeded
ìì$ -
.
ìì- .
ToString
ìì. 6
(
ìì6 7
)
ìì7 8
;
ìì8 9
level
îî 
.
îî 
text
îî 
=
îî 
Player
îî 
.
îî  
Level
îî  %
.
îî% &
ToString
îî& .
(
îî. /
)
îî/ 0
;
îî0 1
}
ïï 	
	GUILayout
óó 
.
óó 
EndArea
óó 
(
óó 
)
óó 
;
óó 
}
òò 
}ôô ˆM
MC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\Inventory.cs
public		 
class		 
	Inventory		 
:		 
MonoBehaviour		 &
{

 
public 


GameObject 
InventoryGO !
;! "
public 


GameObject 
InventorySlot #
;# $
public 

List 
< 

GameObject 
> 
Slots !
=" #
new$ '
List( ,
<, -

GameObject- 7
>7 8
(8 9
)9 :
;: ;
public 


SortedList 
< 
string 
, 
Item "
>" #
Items$ )
=* +
new, /

SortedList0 :
<: ;
string; A
,A B
ItemC G
>G H
(H I
)I J
;J K
private 

GameObject 
contentPanel #
;# $
private 

GameObject 
	infoPanel  
;  !
private 
GridLayoutGroup 
glg 
;  
private 

SlotScript 

slotScript !
;! "
void 
Awake	 
( 
) 
{ 
	infoPanel 
= 
InventoryGO 
.  
	transform  )
.) *
Find* .
(. /
$str/ 5
)5 6
.6 7

gameObject7 A
;A B
contentPanel 
= 
InventoryGO "
." #
	transform# ,
., -
Find- 1
(1 2
$str2 ?
)? @
.@ A
FindA E
(E F
$strF P
)P Q
.Q R
FindR V
(V W
$strW `
)` a
.a b

gameObjectb l
;l m
glg 
= 
contentPanel 
. 
GetComponent '
<' (
GridLayoutGroup( 7
>7 8
(8 9
)9 :
;: ;

slotScript 
= 

GameObject 
.  !
FindGameObjectWithTag  5
(5 6
$str6 C
)C D
.D E
GetComponentE Q
<Q R

SlotScriptR \
>\ ]
(] ^
)^ _
;_ `
} 
public 

void 
ShowHideSlots 
( 
) 
{ 
foreach 
( 

GameObject 
go 
in !
Slots" '
)' (
{   	
if!! 
(!! 
Items!! 
[!! 
go!! 
.!! 
name!! 
]!! 
.!! 
Stack!! $
<=!!% '
$num!!( )
)!!) *
{"" 
go## 
.## 
	SetActive## 
(## 
false## "
)##" #
;### $
}$$ 
else%% 
{&& 
go'' 
.'' 
	SetActive'' 
('' 
true'' !
)''! "
;''" #
}(( 
})) 	
}** 
void-- 
Start--	 
(-- 
)-- 
{.. 
Items11 
=11 

GameObject11 
.11 !
FindGameObjectWithTag11 0
(110 1
$str111 >
)11> ?
.11? @
GetComponent11@ L
<11L M
Database11M U
>11U V
(11V W
)11W X
.11X Y
Items11Y ^
;11^ _
for55 
(55 
int55 
i55 
=55 
$num55 
;55 
i55 
<55 
Items55 !
.55! "
Count55" '
;55' (
i55) *
++55* ,
)55, -
{66 	

GameObject77 
temp77 
=77 
Instantiate77 )
(77) *
InventorySlot77* 7
)777 8
;778 9
temp88 
.88 
	transform88 
.88 
	SetParent88 $
(88$ %
contentPanel88% 1
.881 2
	transform882 ;
)88; <
;88< =
temp99 
.99 
name99 
=99 
Items99 
.99 
Keys99 "
[99" #
i99# $
]99$ %
;99% &
Slots:: 
.:: 
Add:: 
(:: 
temp:: 
):: 
;:: 
};; 	
ShowHideSlots== 
(== 
)== 
;== 
float@@ 
y@@ 
=@@ 
(@@ 
contentPanel@@ 
.@@  
	transform@@  )
.@@) *

childCount@@* 4
+@@5 6
$num@@7 8
)@@8 9
/@@: ;
glg@@< ?
.@@? @
constraintCount@@@ O
*@@P Q
glg@@R U
.@@U V
cellSize@@V ^
.@@^ _
y@@_ `
+@@a b
(@@c d
glg@@d g
.@@g h
cellSize@@h p
.@@p q
y@@q r
*@@s t
$num@@u v
)@@v w
;@@w x
contentPanelAA 
.AA 
GetComponentAA !
<AA! "
RectTransformAA" /
>AA/ 0
(AA0 1
)AA1 2
.AA2 3
	sizeDeltaAA3 <
=AA= >
newAA? B
Vector2AAC J
(AAJ K
contentPanelAAK W
.AAW X
GetComponentAAX d
<AAd e
RectTransformAAe r
>AAr s
(AAs t
)AAt u
.AAu v
	sizeDeltaAAv 
.	AA Ä
x
AAÄ Å
,
AAÅ Ç
y
AAÉ Ñ
)
AAÑ Ö
;
AAÖ Ü

GameObjectDD 
go1DD 
=DD 
	infoPanelDD "
.DD" #
	transformDD# ,
.DD, -
FindDD- 1
(DD1 2
$strDD2 D
)DDD E
.DDE F

gameObjectDDF P
;DDP Q

GameObjectEE 
go2EE 
=EE 
	infoPanelEE "
.EE" #
	transformEE# ,
.EE, -
FindEE- 1
(EE1 2
$strEE2 E
)EEE F
.EEF G

gameObjectEEG Q
;EEQ R

GameObjectFF 
go3FF 
=FF 
	infoPanelFF "
.FF" #
	transformFF# ,
.FF, -
FindFF- 1
(FF1 2
$strFF2 E
)FFE F
.FFF G

gameObjectFFG Q
;FFQ R
go1GG 
.GG 
GetComponentGG 
<GG 
TextGG 
>GG 
(GG 
)GG  
.GG  !
textGG! %
=GG& '
ItemsGG( -
[GG- .
ItemsGG. 3
.GG3 4
KeysGG4 8
[GG8 9
$numGG9 :
]GG: ;
]GG; <
.GG< =
NameGG= A
;GGA B
go2HH 
.HH 
GetComponentHH 
<HH 
TextHH 
>HH 
(HH 
)HH  
.HH  !
textHH! %
=HH& '
ItemsHH( -
[HH- .
ItemsHH. 3
.HH3 4
KeysHH4 8
[HH8 9
$numHH9 :
]HH: ;
]HH; <
.HH< =
DescriptionHH= H
;HHH I
go3II 
.II 
GetComponentII 
<II 
ImageII 
>II 
(II  
)II  !
.II! "
spriteII" (
=II) *
	ResourcesII+ 4
.II4 5
LoadII5 9
<II9 :
SpriteII: @
>II@ A
(IIA B
ItemsIIB G
[IIG H
ItemsIIH M
.IIM N
KeysIIN R
[IIR S
$numIIS T
]IIT U
]IIU V
.IIV W

SpriteNameIIW a
)IIa b
;IIb c
}JJ 
publicMM 

voidMM 
refreshInfoMM 
(MM 
)MM 
{NN 
ItemOO !
currentlySelectedItemOO "
=OO# $
ItemsOO% *
[OO* +

slotScriptOO+ 5
.OO5 6
SeedNameOO6 >
]OO> ?
;OO? @

GameObjectQQ 
go1QQ 
=QQ 
	infoPanelQQ "
.QQ" #
	transformQQ# ,
.QQ, -
FindQQ- 1
(QQ1 2
$strQQ2 D
)QQD E
.QQE F

gameObjectQQF P
;QQP Q

GameObjectRR 
go2RR 
=RR 
	infoPanelRR "
.RR" #
	transformRR# ,
.RR, -
FindRR- 1
(RR1 2
$strRR2 E
)RRE F
.RRF G

gameObjectRRG Q
;RRQ R

GameObjectSS 
go3SS 
=SS 
	infoPanelSS "
.SS" #
	transformSS# ,
.SS, -
FindSS- 1
(SS1 2
$strSS2 E
)SSE F
.SSF G

gameObjectSSG Q
;SSQ R
go1UU 
.UU 
GetComponentUU 
<UU 
TextUU 
>UU 
(UU 
)UU  
.UU  !
textUU! %
=UU& '!
currentlySelectedItemUU( =
.UU= >
NameUU> B
;UUB C
go2VV 
.VV 
GetComponentVV 
<VV 
TextVV 
>VV 
(VV 
)VV  
.VV  !
textVV! %
=VV& '!
currentlySelectedItemVV( =
.VV= >
DescriptionVV> I
;VVI J
go3WW 
.WW 
GetComponentWW 
<WW 
ImageWW 
>WW 
(WW  
)WW  !
.WW! "
spriteWW" (
=WW) *
	ResourcesWW+ 4
.WW4 5
LoadWW5 9
<WW9 :
SpriteWW: @
>WW@ A
(WWA B!
currentlySelectedItemWWB W
.WWW X

SpriteNameWWX b
)WWb c
;WWc d
}XX 
}YY  
HC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\Item.cs
[ 
System 
. 
Serializable 
] 
public 
class 
Item 
{ 
public 

string 

SpriteName 
, 
Name "
," #
Prefix$ *
,* +
Description, 7
;7 8
public		 

int		 
Id		 
;		 
public

 

float

 
Value

 
;

 
public 

IType 
ItemType 
; 
public 

int 
Stack 
; 
public 

bool 
CanBuy 
; 
public 

enum 
IType 
{ 
	GrapeVine 
, 
Wine 
, 
Bottle 
, 
FieldAddable 
, 
FermentAddable 
, 
FermentDish 
, 
ClarificationDish 
, 
} 
public 

string 
returnID 
( 
) 
{ 
return 
Prefix 
+ 
Id 
. 
ToString #
(# $
)$ %
;% &
} 
public 

void 
PopItem 
( 
) 
{   
if!! 

(!! 
Stack!! 
>!! 
$num!! 
)!! 
Stack"" 
--"" 
;"" 
}## 
public%% 

void%% 
AddItem%% 
(%% 
)%% 
{&& 
Stack'' 
++'' 
;'' 
}(( 
})) ¢
WC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\MethodCallerHandler.cs
public 
class 
MethodCallerHandler  
:! "
MonoBehaviour# 0
{ 
private 

GameMaster 
gm 
; 
public 

string 

MethodName 
; 
void 
Awake	 
( 
) 
{ 
gm 

= 

GameObject 
. !
FindGameObjectWithTag -
(- .
$str. ;
); <
.< =
GetComponent= I
<I J

GameMasterJ T
>T U
(U V
)V W
;W X
} 
public 

void 

CallMethod 
( 
) 
{ 
gm 

.
 
SendMessage 
( 

MethodName !
,! "

gameObject# -
)- .
;. /
} 
} ã*
OC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\PlantGround.cs
public 
class 
PlantGround 
: 
MonoBehaviour (
{ 
public		 

List		 
<		 
Sprite		 
>		 
Sprites		 
=		  !
new		" %
List		& *
<		* +
Sprite		+ 1
>		1 2
(		2 3
)		3 4
;		4 5
public

 


GameMaster

 
.

 

PlantState

  

PlantState

! +
{

, -
get

. 1
;

1 2
set

3 6
;

6 7
}

8 9
public 

bool 
	IsPlanted 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
	PlantName 
; 
public 

string 
NiceTime 
{ 
get  
;  !
private" )
set* -
;- .
}/ 0
private 
float 
timer 
= 
$num 
; 
private 
bool 
isTimerRunning 
;  
private 
System 
. 
DateTime 

timePaused &
;& '
private 
System 
. 
DateTime 
timeUnpaused (
;( )
public 

float 
Timer 
{ 
get 
{ 	
return 
timer 
; 
} 	
set 
{ 	
timer 
= 
value 
; 
} 	
}   
private"" 
void"" 
Start"" 
("" 
)"" 
{## 
isTimerRunning$$ 
=$$ 
false$$ 
;$$ 
}%% 
void'' 
Update''	 
('' 
)'' 
{(( 
if)) 

()) 

PlantState)) 
!=)) 

GameMaster)) $
.))$ %

PlantState))% /
.))/ 0

NotPlanted))0 :
&&)); =

PlantState))> H
!=))I K

GameMaster))L V
.))V W

PlantState))W a
.))a b
Grapes))b h
)))h i
{** 	
if++ 
(++ 
timer++ 
>=++ 
$num++ 
)++ 
{,, 
isTimerRunning-- 
=--  
true--! %
;--% &
timer.. 
-=.. 
Time.. 
... 
	deltaTime.. '
;..' (
int// 
harvestTimeMinutes// &
=//' (
Mathf//) .
.//. /

FloorToInt/// 9
(//9 :
timer//: ?
///@ A
$num//B E
)//E F
;//F G
int00 
harvestTimeSeconds00 &
=00' (
Mathf00) .
.00. /

FloorToInt00/ 9
(009 :
timer00: ?
-00@ A
harvestTimeMinutes00B T
*00U V
$num00W Y
)00Y Z
;00Z [
NiceTime11 
=11 
string11 !
.11! "
Format11" (
(11( )
$str11) 7
,117 8
harvestTimeMinutes119 K
,11K L
harvestTimeSeconds11M _
)11_ `
;11` a
}22 
if55 
(55 
timer55 
<=55 
$num55 
)55 
{66 
isTimerRunning88 
=88  
false88! &
;88& '

PlantState99 
=99 

GameMaster99 '
.99' (

PlantState99( 2
.992 3
Grapes993 9
;999 :
}:: 
else;; 
if;; 
(;; 
timer;; 
<;; 
$num;; 
);;  
{<< 

PlantState>> 
=>> 

GameMaster>> '
.>>' (

PlantState>>( 2
.>>2 3
Trimmed>>3 :
;>>: ;
}?? 
else@@ 
if@@ 
(@@ 
timer@@ 
<@@ 
$num@@  
)@@  !
{AA 

PlantStateCC 
=CC 

GameMasterCC '
.CC' (

PlantStateCC( 2
.CC2 3

OvergrowthCC3 =
;CC= >
}DD 
elseEE 
ifEE 
(EE 
timerEE 
<EE 
$numEE  
)EE  !
{FF 
GetComponentGG 
<GG 
SpriteRendererGG +
>GG+ ,
(GG, -
)GG- .
.GG. /
spriteGG/ 5
=GG6 7
SpritesGG8 ?
[GG? @
$numGG@ A
]GGA B
;GGB C

PlantStateHH 
=HH 

GameMasterHH '
.HH' (

PlantStateHH( 2
.HH2 3
JustPlantedHH3 >
;HH> ?
}II 
}JJ 	
elseKK 
NiceTimeLL 
=LL 
stringLL 
.LL 
FormatLL $
(LL$ %
$strLL% +
)LL+ ,
;LL, -
}MM 
publicOO 

voidOO 

resetTimerOO 
(OO 
)OO 
{PP 
timerQQ 
=QQ 
$numQQ 
;QQ 
}RR 
}SS —
JC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\Player.cs
public 
static 
class 
Player 
{ 
public		 

static		 
string		 
Name		 
=		 
$str		  &
;		& '
public

 

static

 
int

 
Exp

 
=

 
$num

 
;

 
public 

const 
int 
ExpConst 
= 
$num  #
;# $
public 

static 
int 
Level 
= 
$num 
;  
public 

static 
int 
Money 
= 
$num !
;! "
public 

static 
double 
	ExpNeeded "
=# $
Math% )
.) *
Floor* /
(/ 0
Math0 4
.4 5
Pow5 8
(8 9
(9 :
ExpConst: B
*C D
$numE F
)F G
,G H
$numI L
)L M
)M N
;N O
static 

Player 
( 
) 
{ 
} 
public 

static 
void 
GainExperience %
(% &
int& )
amount* 0
)0 1
{ 
Exp 
+= 
amount 
; 
if 

(
 
Exp 
>= 
	ExpNeeded 
) 
{ 	
LevelUp 
( 
) 
; 
} 	
} 
public 

static 
void 
LevelUp 
( 
)  
{   
Level!! 
++!! 
;!! 
	ExpNeeded"" 
="" 
Math"" 
."" 
Floor"" 
("" 
Math"" #
.""# $
Pow""$ '
(""' (
(""( )
ExpConst"") 1
*""2 3
Level""4 9
)""9 :
,"": ;
$num""< ?
)""? @
)""@ A
;""A B
}## 
public%% 

static%% 
void%% 
AddMoney%% 
(%%  
int%%  #
amount%%$ *
)%%* +
{&& 
Money'' 
+='' 
amount'' 
;'' 
}(( 
})) ´Ü
RC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\SaveLoadScript.cs
public 
class 
SaveLoadScript 
: 
MonoBehaviour +
{ 

GameObject 
[ 
] 
plants 
; 

GameObject 
[ 
] 

fermentors 
; 

GameObject 
[ 
] 
clarifications 
;  

GameObject 
[ 
] 
	bottlings 
; 
	Inventory 
	inventory 
; 

GameMaster 
gm 
; 
System 

.
 
DateTime 

timeReturn 
; 
private 
bool 
wannaDelete 
; 
private 
bool 
initialFocus 
; 
private 
void 
Awake 
( 
) 
{ 
gm 

= 

GameObject 
. !
FindGameObjectWithTag -
(- .
$str. ;
); <
.< =
GetComponent= I
<I J

GameMasterJ T
>T U
(U V
)V W
;W X
	inventory 
= 
gm 
. 
GetComponent #
<# $
	Inventory$ -
>- .
(. /
)/ 0
;0 1
} 
private   
void   
Start   
(   
)   
{!! 
Load"" 
("" 
)"" 
;"" 
wannaDelete## 
=## 
false## 
;## 
}$$ 
public'' 

void'' 
Save'' 
('' 
)'' 
{(( 
if** 

(** 
wannaDelete** 
)** 
{++ 	

DeleteFile,, 
(,, 
),, 
;,, 
return-- 
;-- 
}.. 	
else// 
{00 	
plants22 
=22 

GameObject22 
.22  "
FindGameObjectsWithTag22  6
(226 7
$str227 @
)22@ A
;22A B

fermentors33 
=33 

GameObject33 #
.33# $"
FindGameObjectsWithTag33$ :
(33: ;
$str33; G
)33G H
;33H I
clarifications44 
=44 

GameObject44 '
.44' ("
FindGameObjectsWithTag44( >
(44> ?
$str44? N
)44N O
;44O P
	bottlings55 
=55 

GameObject55 "
.55" #"
FindGameObjectsWithTag55# 9
(559 :
$str55: D
)55D E
;55E F
	TimerData88 
	timerData88 
=88  !
new88" %
	TimerData88& /
(88/ 0
)880 1
;881 2
foreach;; 
(;; 

GameObject;; 
plant;;  %
in;;& (
plants;;) /
);;/ 0
{<< 
PlantGround>> 
pg>> 
=>>  
plant>>! &
.>>& '
GetComponent>>' 3
<>>3 4
PlantGround>>4 ?
>>>? @
(>>@ A
)>>A B
;>>B C
List?? 
<?? 
	TimerData?? 
>?? 
dataList??  (
=??) *
new??+ .
List??/ 3
<??3 4
	TimerData??4 =
>??= >
(??> ?
)??? @
;??@ A
dataList@@ 
.@@ 
Add@@ 
(@@ 
new@@  
	TimerData@@! *
(@@* +
pg@@+ -
.@@- .
	PlantName@@. 7
,@@7 8
pg@@9 ;
.@@; <
Timer@@< A
,@@A B
pg@@C E
.@@E F

PlantState@@F P
)@@P Q
)@@Q R
;@@R S
	timerDataAA 
.AA 
PlantsAA  
.AA  !
AddAA! $
(AA$ %
plantAA% *
.AA* +
nameAA+ /
,AA/ 0
dataListAA1 9
)AA9 :
;AA: ;
}BB 
foreachEE 
(EE 

GameObjectEE 
fermentEE &
inEE' )

fermentorsEE* 4
)EE4 5
{FF 
FermentorScriptGG 
fsGG  "
=GG# $
fermentGG% ,
.GG, -
GetComponentGG- 9
<GG9 :
FermentorScriptGG: I
>GGI J
(GGJ K
)GGK L
;GGL M
ListHH 
<HH 
	TimerDataHH 
>HH 
dataListHH  (
=HH) *
newHH+ .
ListHH/ 3
<HH3 4
	TimerDataHH4 =
>HH= >
(HH> ?
)HH? @
;HH@ A
dataListII 
.II 
AddII 
(II 
newII  
	TimerDataII! *
(II* +
fsII+ -
.II- .
	GrapeNameII. 7
,II7 8
fsII9 ;
.II; <
TimerII< A
,IIA B
fsIIC E
.IIE F
FermentationStateIIF W
)IIW X
)IIX Y
;IIY Z
	timerDataJJ 
.JJ 
FermentsJJ "
.JJ" #
AddJJ# &
(JJ& '
fermentJJ' .
.JJ. /
nameJJ/ 3
,JJ3 4
dataListJJ5 =
)JJ= >
;JJ> ?
}KK 
foreachNN 
(NN 

GameObjectNN 
clarificicationNN .
inNN/ 1
clarificationsNN2 @
)NN@ A
{OO 
ClarificationScriptPP #
csPP$ &
=PP' (
clarificicationPP) 8
.PP8 9
GetComponentPP9 E
<PPE F
ClarificationScriptPPF Y
>PPY Z
(PPZ [
)PP[ \
;PP\ ]
ListQQ 
<QQ 
	TimerDataQQ 
>QQ 
dataListQQ  (
=QQ) *
newQQ+ .
ListQQ/ 3
<QQ3 4
	TimerDataQQ4 =
>QQ= >
(QQ> ?
)QQ? @
;QQ@ A
dataListRR 
.RR 
AddRR 
(RR 
newRR  
	TimerDataRR! *
(RR* +
csRR+ -
.RR- .
WineNameRR. 6
,RR6 7
csRR8 :
.RR: ;
TimerRR; @
,RR@ A
csRRB D
.RRD E
ClarificationStateRRE W
)RRW X
)RRX Y
;RRY Z
	timerDataSS 
.SS 
ClarificationsSS (
.SS( )
AddSS) ,
(SS, -
clarificicationSS- <
.SS< =
nameSS= A
,SSA B
dataListSSC K
)SSK L
;SSL M
}TT 
foreachWW 
(WW 

GameObjectWW 
bottlingWW '
inWW( *
	bottlingsWW+ 4
)WW4 5
{XX 
BottlingScriptYY 
bsYY !
=YY" #
bottlingYY$ ,
.YY, -
GetComponentYY- 9
<YY9 :
BottlingScriptYY: H
>YYH I
(YYI J
)YYJ K
;YYK L
ListZZ 
<ZZ 
	TimerDataZZ 
>ZZ 
dataListZZ  (
=ZZ) *
newZZ+ .
ListZZ/ 3
<ZZ3 4
	TimerDataZZ4 =
>ZZ= >
(ZZ> ?
)ZZ? @
;ZZ@ A
dataList[[ 
.[[ 
Add[[ 
([[ 
new[[  
	TimerData[[! *
([[* +
bs[[+ -
.[[- .
WineName[[. 6
,[[6 7
bs[[8 :
.[[: ;
Timer[[; @
,[[@ A
bs[[B D
.[[D E
BottlingState[[E R
)[[R S
)[[S T
;[[T U
	timerData\\ 
.\\ 
	Bottlings\\ #
.\\# $
Add\\$ '
(\\' (
bottling\\( 0
.\\0 1
name\\1 5
,\\5 6
dataList\\7 ?
)\\? @
;\\@ A
}]] 
InventoryData`` 
inventoryData`` '
=``( )
new``* -
InventoryData``. ;
(``; <
)``< =
;``= >
foreachcc 
(cc 
KeyValuePaircc  
<cc  !
stringcc! '
,cc' (
Itemcc) -
>cc- .
itemcc/ 3
incc4 6
	inventorycc7 @
.cc@ A
ItemsccA F
)ccF G
{dd 
inventoryDataee 
.ee 
Itemsee #
.ee# $
Addee$ '
(ee' (
itemee( ,
.ee, -
Keyee- 0
,ee0 1
itemee2 6
.ee6 7
Valueee7 <
.ee< =
Stackee= B
)eeB C
;eeC D
}ff 
	timerDatahh 
.hh 
timeExithh 
=hh  
Systemhh! '
.hh' (
DateTimehh( 0
.hh0 1
Nowhh1 4
;hh4 5

PlayerDatall 

playerDatall !
=ll" #
newll$ '

PlayerDatall( 2
(ll2 3
)ll3 4
;ll4 5

playerDatamm 
.mm 
Namemm 
=mm 
Playermm $
.mm$ %
Namemm% )
;mm) *

playerDatann 
.nn 
Expnn 
=nn 
Playernn #
.nn# $
Expnn$ '
;nn' (

playerDataoo 
.oo 
	ExpNeededoo  
=oo! "
Playeroo# )
.oo) *
	ExpNeededoo* 3
;oo3 4

playerDatapp 
.pp 
Levelpp 
=pp 
Playerpp %
.pp% &
Levelpp& +
;pp+ ,

playerDataqq 
.qq 
Moneyqq 
=qq 
Playerqq %
.qq% &
Moneyqq& +
;qq+ ,
BinaryFormatteruu 
bfuu 
=uu  
newuu! $
BinaryFormatteruu% 4
(uu4 5
)uu5 6
;uu6 7

FileStreamvv 
saveFilevv 
=vv  !
Filevv" &
.vv& '
Createvv' -
(vv- .
Applicationvv. 9
.vv9 :
persistentDataPathvv: L
+vvM N
$strvvO ^
)vv^ _
;vv_ `
bfww 
.ww 
	Serializeww 
(ww 
saveFileww !
,ww! "
	timerDataww# ,
)ww, -
;ww- .
bfxx 
.xx 
	Serializexx 
(xx 
saveFilexx !
,xx! "
inventoryDataxx# 0
)xx0 1
;xx1 2
bfyy 
.yy 
	Serializeyy 
(yy 
saveFileyy !
,yy! "

playerDatayy# -
)yy- .
;yy. /
saveFilezz 
.zz 
Closezz 
(zz 
)zz 
;zz 
Debug{{ 
.{{ 
Log{{ 
({{ 
$str{{ !
){{! "
;{{" #
}|| 	
}}} 
public
ÄÄ 

void
ÄÄ 
Load
ÄÄ 
(
ÄÄ 
)
ÄÄ 
{
ÅÅ 

timeReturn
ÇÇ 
=
ÇÇ 
System
ÇÇ 
.
ÇÇ 
DateTime
ÇÇ $
.
ÇÇ$ %
Now
ÇÇ% (
;
ÇÇ( )
if
ÉÉ 

(
ÉÉ 
File
ÉÉ 
.
ÉÉ 
Exists
ÉÉ 
(
ÉÉ 
Application
ÉÉ #
.
ÉÉ# $ 
persistentDataPath
ÉÉ$ 6
+
ÉÉ7 8
$str
ÉÉ9 H
)
ÉÉH I
)
ÉÉI J
{
ÑÑ 	
BinaryFormatter
ÜÜ 
bf
ÜÜ 
=
ÜÜ  
new
ÜÜ! $
BinaryFormatter
ÜÜ% 4
(
ÜÜ4 5
)
ÜÜ5 6
;
ÜÜ6 7

FileStream
áá 
loadFile
áá 
=
áá  !
File
áá" &
.
áá& '
Open
áá' +
(
áá+ ,
Application
áá, 7
.
áá7 8 
persistentDataPath
áá8 J
+
ááK L
$str
ááM \
,
áá\ ]
FileMode
áá^ f
.
ááf g
Open
áág k
)
áák l
;
áál m
	TimerData
àà 
	timerData
àà 
=
àà  !
(
àà" #
	TimerData
àà# ,
)
àà, -
bf
àà- /
.
àà/ 0
Deserialize
àà0 ;
(
àà; <
loadFile
àà< D
)
ààD E
;
ààE F
InventoryData
ââ 
inventoryData
ââ '
=
ââ( )
(
ââ* +
InventoryData
ââ+ 8
)
ââ8 9
bf
ââ9 ;
.
ââ; <
Deserialize
ââ< G
(
ââG H
loadFile
ââH P
)
ââP Q
;
ââQ R

PlayerData
ää 

playerData
ää !
=
ää" #
(
ää$ %

PlayerData
ää% /
)
ää/ 0
bf
ää0 2
.
ää2 3
Deserialize
ää3 >
(
ää> ?
loadFile
ää? G
)
ääG H
;
ääH I
loadFile
åå 
.
åå 
Close
åå 
(
åå 
)
åå 
;
åå 
float
êê 

timeLapsed
êê 
;
êê 
System
ëë 
.
ëë 
TimeSpan
ëë 

difference
ëë &
=
ëë' (
	timerData
ëë) 2
.
ëë2 3
timeExit
ëë3 ;
.
ëë; <
Subtract
ëë< D
(
ëëD E

timeReturn
ëëE O
)
ëëO P
;
ëëP Q

timeLapsed
íí 
=
íí 
(
íí 
float
íí 
)
íí  

difference
íí  *
.
íí* +
TotalSeconds
íí+ 7
;
íí7 8
foreach
ññ 
(
ññ 
KeyValuePair
ññ !
<
ññ! "
string
ññ" (
,
ññ( )
List
ññ* .
<
ññ. /
	TimerData
ññ/ 8
>
ññ8 9
>
ññ9 :
plant
ññ; @
in
ññA C
	timerData
ññD M
.
ññM N
Plants
ññN T
)
ññT U
{
óó 

GameObject
òò 
go
òò 
=
òò 

GameObject
òò  *
.
òò* +
Find
òò+ /
(
òò/ 0
plant
òò0 5
.
òò5 6
Key
òò6 9
)
òò9 :
;
òò: ;
go
ôô 
.
ôô 
tag
ôô 
=
ôô 
$str
ôô "
;
ôô" #
PlantGround
öö 
pg
öö 
=
öö  
go
öö! #
.
öö# $
GetComponent
öö$ 0
<
öö0 1
PlantGround
öö1 <
>
öö< =
(
öö= >
)
öö> ?
;
öö? @
foreach
õõ 
(
õõ 
	TimerData
õõ !
saveData
õõ" *
in
õõ+ -
plant
õõ. 3
.
õõ3 4
Value
õõ4 9
)
õõ9 :
{
úú 
pg
ùù 
.
ùù 
	PlantName
ùù  
=
ùù! "
saveData
ùù# +
.
ùù+ ,
	PlantName
ùù, 5
;
ùù5 6
pg
ûû 
.
ûû 

PlantState
ûû !
=
ûû" #
saveData
ûû$ ,
.
ûû, -

PlantState
ûû- 7
;
ûû7 8
pg
üü 
.
üü 
Timer
üü 
=
üü 
(
üü  
saveData
üü  (
.
üü( )

PlantTimer
üü) 3
+
üü4 5

timeLapsed
üü6 @
)
üü@ A
;
üüA B
}
†† 
}
°° 
foreach
§§ 
(
§§ 
KeyValuePair
§§ !
<
§§! "
string
§§" (
,
§§( )
List
§§* .
<
§§. /
	TimerData
§§/ 8
>
§§8 9
>
§§9 :
ferment
§§; B
in
§§C E
	timerData
§§F O
.
§§O P
Ferments
§§P X
)
§§X Y
{
•• 

GameObject
¶¶ 
go
¶¶ 
=
¶¶ 

GameObject
¶¶  *
.
¶¶* +
Find
¶¶+ /
(
¶¶/ 0
ferment
¶¶0 7
.
¶¶7 8
Key
¶¶8 ;
)
¶¶; <
;
¶¶< =
go
ßß 
.
ßß 
tag
ßß 
=
ßß 
$str
ßß %
;
ßß% &
FermentorScript
®® 
fs
®®  "
=
®®# $
go
®®% '
.
®®' (
GetComponent
®®( 4
<
®®4 5
FermentorScript
®®5 D
>
®®D E
(
®®E F
)
®®F G
;
®®G H
foreach
©© 
(
©© 
	TimerData
©© !
saveData
©©" *
in
©©+ -
ferment
©©. 5
.
©©5 6
Value
©©6 ;
)
©©; <
{
™™ 
fs
´´ 
.
´´ 
	GrapeName
´´  
=
´´! "
saveData
´´# +
.
´´+ ,
FermentName
´´, 7
;
´´7 8
fs
¨¨ 
.
¨¨ 
FermentationState
¨¨ (
=
¨¨) *
saveData
¨¨+ 3
.
¨¨3 4
FermentState
¨¨4 @
;
¨¨@ A
fs
≠≠ 
.
≠≠ 
Timer
≠≠ 
=
≠≠ 
(
≠≠  
saveData
≠≠  (
.
≠≠( )
FermentTimer
≠≠) 5
+
≠≠6 7

timeLapsed
≠≠8 B
)
≠≠B C
;
≠≠C D
}
ÆÆ 
}
ØØ 
foreach
≤≤ 
(
≤≤ 
KeyValuePair
≤≤ !
<
≤≤! "
string
≤≤" (
,
≤≤( )
List
≤≤* .
<
≤≤. /
	TimerData
≤≤/ 8
>
≤≤8 9
>
≤≤9 :
clarificate
≤≤; F
in
≤≤G I
	timerData
≤≤J S
.
≤≤S T
Clarifications
≤≤T b
)
≤≤b c
{
≥≥ 

GameObject
¥¥ 
go
¥¥ 
=
¥¥ 

GameObject
¥¥  *
.
¥¥* +
Find
¥¥+ /
(
¥¥/ 0
clarificate
¥¥0 ;
.
¥¥; <
Key
¥¥< ?
)
¥¥? @
;
¥¥@ A
go
µµ 
.
µµ 
tag
µµ 
=
µµ 
$str
µµ (
;
µµ( )!
ClarificationScript
∂∂ #
cs
∂∂$ &
=
∂∂' (
go
∂∂) +
.
∂∂+ ,
GetComponent
∂∂, 8
<
∂∂8 9!
ClarificationScript
∂∂9 L
>
∂∂L M
(
∂∂M N
)
∂∂N O
;
∂∂O P
foreach
∑∑ 
(
∑∑ 
	TimerData
∑∑ !
saveData
∑∑" *
in
∑∑+ -
clarificate
∑∑. 9
.
∑∑9 :
Value
∑∑: ?
)
∑∑? @
{
∏∏ 
cs
ππ 
.
ππ 
WineName
ππ 
=
ππ  !
saveData
ππ" *
.
ππ* +
ClarificationName
ππ+ <
;
ππ< =
cs
∫∫ 
.
∫∫  
ClarificationState
∫∫ )
=
∫∫* +
saveData
∫∫, 4
.
∫∫4 5 
ClarificationState
∫∫5 G
;
∫∫G H
cs
ªª 
.
ªª 
Timer
ªª 
=
ªª 
(
ªª  
saveData
ªª  (
.
ªª( ) 
ClarificationTimer
ªª) ;
+
ªª< =

timeLapsed
ªª> H
)
ªªH I
;
ªªI J
}
ºº 
}
ΩΩ 
foreach
¿¿ 
(
¿¿ 
KeyValuePair
¿¿ !
<
¿¿! "
string
¿¿" (
,
¿¿( )
List
¿¿* .
<
¿¿. /
	TimerData
¿¿/ 8
>
¿¿8 9
>
¿¿9 :
bottle
¿¿; A
in
¿¿B D
	timerData
¿¿E N
.
¿¿N O
	Bottlings
¿¿O X
)
¿¿X Y
{
¡¡ 

GameObject
¬¬ 
go
¬¬ 
=
¬¬ 

GameObject
¬¬  *
.
¬¬* +
Find
¬¬+ /
(
¬¬/ 0
bottle
¬¬0 6
.
¬¬6 7
Key
¬¬7 :
)
¬¬: ;
;
¬¬; <
go
√√ 
.
√√ 
tag
√√ 
=
√√ 
$str
√√ #
;
√√# $
BottlingScript
ƒƒ 
bs
ƒƒ !
=
ƒƒ" #
go
ƒƒ$ &
.
ƒƒ& '
GetComponent
ƒƒ' 3
<
ƒƒ3 4
BottlingScript
ƒƒ4 B
>
ƒƒB C
(
ƒƒC D
)
ƒƒD E
;
ƒƒE F
foreach
≈≈ 
(
≈≈ 
	TimerData
≈≈ !
saveData
≈≈" *
in
≈≈+ -
bottle
≈≈. 4
.
≈≈4 5
Value
≈≈5 :
)
≈≈: ;
{
∆∆ 
bs
«« 
.
«« 
WineName
«« 
=
««  !
saveData
««" *
.
««* +
BottlingName
««+ 7
;
««7 8
bs
»» 
.
»» 
BottlingState
»» $
=
»»% &
saveData
»»' /
.
»»/ 0
BottlingState
»»0 =
;
»»= >
bs
…… 
.
…… 
Timer
…… 
=
…… 
(
……  
saveData
……  (
.
……( )
BottlingTimer
……) 6
+
……7 8

timeLapsed
……9 C
)
……C D
;
……D E
}
   
}
ÀÀ 
foreach
ŒŒ 
(
ŒŒ 
KeyValuePair
ŒŒ !
<
ŒŒ! "
string
ŒŒ" (
,
ŒŒ( )
int
ŒŒ* -
>
ŒŒ- .
item
ŒŒ/ 3
in
ŒŒ4 6
inventoryData
ŒŒ7 D
.
ŒŒD E
Items
ŒŒE J
)
ŒŒJ K
{
œœ 
	inventory
–– 
.
–– 
Items
–– 
[
––  
item
––  $
.
––$ %
Key
––% (
]
––( )
.
––) *
Stack
––* /
=
––0 1
item
––2 6
.
––6 7
Value
––7 <
;
––< =
}
—— 
Player
‘‘ 
.
‘‘ 
Name
‘‘ 
=
‘‘ 

playerData
‘‘ $
.
‘‘$ %
Name
‘‘% )
;
‘‘) *
Player
’’ 
.
’’ 
Exp
’’ 
=
’’ 

playerData
’’ #
.
’’# $
Exp
’’$ '
;
’’' (
Player
÷÷ 
.
÷÷ 
	ExpNeeded
÷÷ 
=
÷÷ 

playerData
÷÷ )
.
÷÷) *
	ExpNeeded
÷÷* 3
;
÷÷3 4
Player
◊◊ 
.
◊◊ 
Level
◊◊ 
=
◊◊ 

playerData
◊◊ %
.
◊◊% &
Level
◊◊& +
;
◊◊+ ,
Player
ÿÿ 
.
ÿÿ 
Money
ÿÿ 
=
ÿÿ 

playerData
ÿÿ %
.
ÿÿ% &
Money
ÿÿ& +
;
ÿÿ+ ,
Debug
⁄⁄ 
.
⁄⁄ 
Log
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ "
)
⁄⁄" #
;
⁄⁄# $
}
€€ 	
}
‹‹ 
[
ﬁﬁ 
Serializable
ﬁﬁ 
]
ﬁﬁ 
class
ﬂﬂ 	
	TimerData
ﬂﬂ
 
{
‡‡ 
public
‚‚ 
string
‚‚ 
	PlantName
‚‚ 
{
‚‚  !
get
‚‚" %
;
‚‚% &
set
‚‚' *
;
‚‚* +
}
‚‚, -
public
„„ 
float
„„ 

PlantTimer
„„ 
{
„„  !
get
„„" %
;
„„% &
set
„„' *
;
„„* +
}
„„, -
public
‰‰ 

GameMaster
‰‰ 
.
‰‰ 

PlantState
‰‰ $

PlantState
‰‰% /
{
‰‰0 1
get
‰‰2 5
;
‰‰5 6
set
‰‰7 :
;
‰‰: ;
}
‰‰< =
public
ÁÁ 
string
ÁÁ 
FermentName
ÁÁ !
{
ÁÁ" #
get
ÁÁ$ '
;
ÁÁ' (
set
ÁÁ) ,
;
ÁÁ, -
}
ÁÁ. /
public
ËË 
float
ËË 
FermentTimer
ËË !
{
ËË" #
get
ËË$ '
;
ËË' (
set
ËË) ,
;
ËË, -
}
ËË. /
public
ÈÈ 

GameMaster
ÈÈ 
.
ÈÈ 
FermentationState
ÈÈ +
FermentState
ÈÈ, 8
{
ÈÈ9 :
get
ÈÈ; >
;
ÈÈ> ?
set
ÈÈ@ C
;
ÈÈC D
}
ÈÈE F
public
ÏÏ 
string
ÏÏ 
ClarificationName
ÏÏ '
{
ÏÏ( )
get
ÏÏ* -
;
ÏÏ- .
set
ÏÏ/ 2
;
ÏÏ2 3
}
ÏÏ4 5
public
ÌÌ 
float
ÌÌ  
ClarificationTimer
ÌÌ '
{
ÌÌ( )
get
ÌÌ* -
;
ÌÌ- .
set
ÌÌ/ 2
;
ÌÌ2 3
}
ÌÌ4 5
public
ÓÓ 

GameMaster
ÓÓ 
.
ÓÓ  
ClarificationState
ÓÓ , 
ClarificationState
ÓÓ- ?
{
ÓÓ@ A
get
ÓÓB E
;
ÓÓE F
set
ÓÓG J
;
ÓÓJ K
}
ÓÓL M
public
ÒÒ 
string
ÒÒ 
BottlingName
ÒÒ "
{
ÒÒ# $
get
ÒÒ% (
;
ÒÒ( )
set
ÒÒ* -
;
ÒÒ- .
}
ÒÒ/ 0
public
ÚÚ 
float
ÚÚ 
BottlingTimer
ÚÚ "
{
ÚÚ# $
get
ÚÚ% (
;
ÚÚ( )
set
ÚÚ* -
;
ÚÚ- .
}
ÚÚ/ 0
public
ÛÛ 

GameMaster
ÛÛ 
.
ÛÛ 
BottlingState
ÛÛ '
BottlingState
ÛÛ( 5
{
ÛÛ6 7
get
ÛÛ8 ;
;
ÛÛ; <
set
ÛÛ= @
;
ÛÛ@ A
}
ÛÛB C
public
ˆˆ 
System
ˆˆ 
.
ˆˆ 
DateTime
ˆˆ 
timeExit
ˆˆ '
;
ˆˆ' (
public
˘˘ 
	TimerData
˘˘ 
(
˘˘ 
)
˘˘ 
{
˙˙ 	
}
¸¸ 	
public
˛˛ 
	TimerData
˛˛ 
(
˛˛ 
string
˛˛ 
name
˛˛  $
,
˛˛$ %
float
˛˛& +
timer
˛˛, 1
,
˛˛1 2

GameMaster
˛˛3 =
.
˛˛= >

PlantState
˛˛> H
state
˛˛I N
)
˛˛N O
{
ˇˇ 	
	PlantName
ÄÄ 
=
ÄÄ 
name
ÄÄ 
;
ÄÄ 

PlantTimer
ÅÅ 
=
ÅÅ 
timer
ÅÅ 
;
ÅÅ 

PlantState
ÇÇ 
=
ÇÇ 
state
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
	TimerData
ÖÖ 
(
ÖÖ 
string
ÖÖ 
name
ÖÖ  $
,
ÖÖ$ %
float
ÖÖ& +
timer
ÖÖ, 1
,
ÖÖ1 2

GameMaster
ÖÖ3 =
.
ÖÖ= >
FermentationState
ÖÖ> O
state
ÖÖP U
)
ÖÖU V
{
ÜÜ 	
FermentName
áá 
=
áá 
name
áá 
;
áá 
FermentTimer
àà 
=
àà 
timer
àà  
;
àà  !
FermentState
ââ 
=
ââ 
state
ââ  
;
ââ  !
}
ää 	
public
åå 
	TimerData
åå 
(
åå 
string
åå 
name
åå  $
,
åå$ %
float
åå& +
timer
åå, 1
,
åå1 2

GameMaster
åå3 =
.
åå= > 
ClarificationState
åå> P
state
ååQ V
)
ååV W
{
çç 	
ClarificationName
éé 
=
éé 
name
éé  $
;
éé$ % 
ClarificationTimer
èè 
=
èè  
timer
èè! &
;
èè& ' 
ClarificationState
êê 
=
êê  
state
êê! &
;
êê& '
}
ëë 	
public
ìì 
	TimerData
ìì 
(
ìì 
string
ìì 
name
ìì  $
,
ìì$ %
float
ìì& +
timer
ìì, 1
,
ìì1 2

GameMaster
ìì3 =
.
ìì= >
BottlingState
ìì> K
state
ììL Q
)
ììQ R
{
îî 	
BottlingName
ïï 
=
ïï 
name
ïï 
;
ïï  
BottlingTimer
ññ 
=
ññ 
timer
ññ !
;
ññ! "
BottlingState
óó 
=
óó 
state
óó !
;
óó! "
}
òò 	
public
õõ 

Dictionary
õõ 
<
õõ 
string
õõ  
,
õõ  !
List
õõ" &
<
õõ& '
	TimerData
õõ' 0
>
õõ0 1
>
õõ1 2
Plants
õõ3 9
=
õõ: ;
new
õõ< ?

Dictionary
õõ@ J
<
õõJ K
string
õõK Q
,
õõQ R
List
õõS W
<
õõW X
	TimerData
õõX a
>
õõa b
>
õõb c
(
õõc d
)
õõd e
;
õõe f
public
úú 

Dictionary
úú 
<
úú 
string
úú  
,
úú  !
List
úú" &
<
úú& '
	TimerData
úú' 0
>
úú0 1
>
úú1 2
Ferments
úú3 ;
=
úú< =
new
úú> A

Dictionary
úúB L
<
úúL M
string
úúM S
,
úúS T
List
úúU Y
<
úúY Z
	TimerData
úúZ c
>
úúc d
>
úúd e
(
úúe f
)
úúf g
;
úúg h
public
ùù 

Dictionary
ùù 
<
ùù 
string
ùù  
,
ùù  !
List
ùù" &
<
ùù& '
	TimerData
ùù' 0
>
ùù0 1
>
ùù1 2
Clarifications
ùù3 A
=
ùùB C
new
ùùD G

Dictionary
ùùH R
<
ùùR S
string
ùùS Y
,
ùùY Z
List
ùù[ _
<
ùù_ `
	TimerData
ùù` i
>
ùùi j
>
ùùj k
(
ùùk l
)
ùùl m
;
ùùm n
public
ûû 

Dictionary
ûû 
<
ûû 
string
ûû  
,
ûû  !
List
ûû" &
<
ûû& '
	TimerData
ûû' 0
>
ûû0 1
>
ûû1 2
	Bottlings
ûû3 <
=
ûû= >
new
ûû? B

Dictionary
ûûC M
<
ûûM N
string
ûûN T
,
ûûT U
List
ûûV Z
<
ûûZ [
	TimerData
ûû[ d
>
ûûd e
>
ûûe f
(
ûûf g
)
ûûg h
;
ûûh i
}
üü 
[
¢¢ 
Serializable
¢¢ 
]
¢¢ 
class
££ 	
InventoryData
££
 
{
§§ 
public
•• 

Dictionary
•• 
<
•• 
string
••  
,
••  !
int
••" %
>
••% &
Items
••' ,
=
••- .
new
••/ 2

Dictionary
••3 =
<
••= >
string
••> D
,
••D E
int
••F I
>
••I J
(
••J K
)
••K L
;
••L M
public
ßß 
InventoryData
ßß 
(
ßß 
)
ßß 
{
®® 	
}
™™ 	
}
´´ 
[
ÆÆ 
Serializable
ÆÆ 
]
ÆÆ 
class
ØØ 	

PlayerData
ØØ
 
{
∞∞ 
public
±± 
string
±± 
Name
±± 
{
±± 
get
±±  
;
±±  !
set
±±" %
;
±±% &
}
±±' (
public
≤≤ 
int
≤≤ 
Exp
≤≤ 
{
≤≤ 
get
≤≤ 
;
≤≤ 
set
≤≤ !
;
≤≤! "
}
≤≤# $
public
≥≥ 
double
≥≥ 
	ExpNeeded
≥≥ 
{
≥≥  !
get
≥≥" %
;
≥≥% &
set
≥≥' *
;
≥≥* +
}
≥≥, -
public
¥¥ 
const
¥¥ 
int
¥¥ 
ExpConst
¥¥ !
=
¥¥" #
$num
¥¥$ '
;
¥¥' (
public
µµ 
int
µµ 
Level
µµ 
{
µµ 
get
µµ 
;
µµ 
set
µµ  #
;
µµ# $
}
µµ% &
public
∂∂ 
int
∂∂ 
Money
∂∂ 
{
∂∂ 
get
∂∂ 
;
∂∂ 
set
∂∂  #
;
∂∂# $
}
∂∂% &
}
∑∑ 
private
∫∫ 
void
∫∫  
OnApplicationPause
∫∫ #
(
∫∫# $
bool
∫∫$ (
isPaused
∫∫) 1
)
∫∫1 2
{
ªª 
if
ºº 

(
ºº 
isPaused
ºº 
)
ºº 
{
ΩΩ 	
Save
ææ 
(
ææ 
)
ææ 
;
ææ 
}
øø 	
else
¿¿ 
if
¿¿ 
(
¿¿ 
isPaused
¿¿ 
&&
¿¿ 
initialFocus
¿¿ )
)
¿¿) *
{
¡¡ 	
Load
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 	
initialFocus
≈≈ 
=
≈≈ 
initialFocus
≈≈ #
||
≈≈$ &
isPaused
≈≈' /
;
≈≈/ 0
}
∆∆ 
private
…… 
void
……  
OnApplicationFocus
…… #
(
……# $
bool
……$ (
hasFocus
……) 1
)
……1 2
{
   
if
ÀÀ 

(
ÀÀ 
!
ÀÀ 
hasFocus
ÀÀ 
)
ÀÀ 
{
ÃÃ 	
Save
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
}
ŒŒ 	
else
œœ 
if
œœ 
(
œœ 
hasFocus
œœ 
&&
œœ 
initialFocus
œœ )
)
œœ) *
{
–– 	
Load
—— 
(
—— 
)
—— 
;
—— 
}
““ 	
initialFocus
‘‘ 
=
‘‘ 
initialFocus
‘‘ #
||
‘‘$ &
hasFocus
‘‘' /
;
‘‘/ 0
}
’’ 
private
ﬁﬁ 
void
ﬁﬁ 

DeleteFile
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
{
ﬂﬂ 
File
‡‡ 
.
‡‡ 
Delete
‡‡ 
(
‡‡ 
Application
‡‡ 
.
‡‡   
persistentDataPath
‡‡  2
+
‡‡3 4
$str
‡‡5 D
)
‡‡D E
;
‡‡E F
Debug
·· 
.
·· 
Log
·· 
(
·· 
$str
·· 
)
·· 
;
·· 
}
‚‚ 
private
ÂÂ 
void
ÂÂ 
OnGUI
ÂÂ 
(
ÂÂ 
)
ÂÂ 
{
ÊÊ 
	GUILayout
ÁÁ 
.
ÁÁ 
	BeginArea
ÁÁ 
(
ÁÁ 
new
ÁÁ 
Rect
ÁÁ  $
(
ÁÁ$ %
$num
ÁÁ% )
,
ÁÁ) *
$num
ÁÁ+ -
,
ÁÁ- .
$num
ÁÁ/ 2
,
ÁÁ2 3
$num
ÁÁ4 7
)
ÁÁ7 8
)
ÁÁ8 9
;
ÁÁ9 :
if
ËË 

(
ËË 
	GUILayout
ËË 
.
ËË 
Button
ËË 
(
ËË 
$str
ËË .
)
ËË. /
)
ËË/ 0
{
ÈÈ 	
wannaDelete
ÍÍ 
=
ÍÍ 
true
ÍÍ 
;
ÍÍ 
}
ÎÎ 	
	GUILayout
ÏÏ 
.
ÏÏ 
EndArea
ÏÏ 
(
ÏÏ 
)
ÏÏ 
;
ÏÏ 
}
ÌÌ 
}ÓÓ ˜
HC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\Slot.cs
public 
class 
Slot 
: 
MonoBehaviour !
,! " 
IPointerClickHandler# 7
{ 
public

 

Text

 
UiItemCount

 
;

 
public 

Image 
	ItemImage 
; 
private 
	Inventory 
	inventory 
;  
private 
void 
Awake 
( 
) 
{ 
	inventory 
= 

GameObject 
. !
FindGameObjectWithTag 4
(4 5
$str5 B
)B C
.C D
GetComponentD P
<P Q
	InventoryQ Z
>Z [
([ \
)\ ]
;] ^
} 
void 
Update	 
( 
) 
{ 
int 
	itemCount 
= 
	inventory !
.! "
Items" '
[' (

gameObject( 2
.2 3
name3 7
]7 8
.8 9
Stack9 >
;> ?
UiItemCount 
. 
text 
= 
	itemCount $
.$ %
ToString% -
(- .
). /
;/ 0
	ItemImage 
. 
sprite 
= 
	Resources $
.$ %
Load% )
<) *
Sprite* 0
>0 1
(1 2
	inventory2 ;
.; <
Items< A
[A B

gameObjectB L
.L M
nameM Q
]Q R
.R S

SpriteNameS ]
)] ^
;^ _
} 
void 
clearHighlight	 
( 
) 
{   
foreach!! 
(!! 

GameObject!! 
asd!! 
in!!  "
	inventory!!# ,
.!!, -
Slots!!- 2
)!!2 3
{"" 	
asd## 
.## 
GetComponent## 
<## 
Image## "
>##" #
(### $
)##$ %
.##% &
sprite##& ,
=##- .
	Resources##/ 8
.##8 9
Load##9 =
<##= >
Sprite##> D
>##D E
(##E F
$str##F _
)##_ `
;##` a
}$$ 	
}%% 
public(( 

void(( 
OnPointerClick(( 
((( 
PointerEventData(( /
data((0 4
)((4 5
{)) 
clearHighlight** 
(** 
)** 
;** 
if++ 

(++ 
	inventory++ 
.++ 
Items++ 
[++ 

gameObject++ &
.++& '
name++' +
]+++ ,
!=++- /
null++0 4
)++4 5
{,, 	

gameObject-- 
.-- 
GetComponent-- #
<--# $
Image--$ )
>--) *
(--* +
)--+ ,
.--, -
sprite--- 3
=--4 5
	Resources--6 ?
.--? @
Load--@ D
<--D E
Sprite--E K
>--K L
(--L M
$str--M h
)--h i
;--i j

GameObject.. 
... !
FindGameObjectWithTag.. ,
(.., -
$str..- :
)..: ;
...; <
GetComponent..< H
<..H I

SlotScript..I S
>..S T
(..T U
)..U V
...V W
SeedName..W _
=..` a

gameObject..b l
...l m
name..m q
;..q r
	inventory// 
.// 
refreshInfo// !
(//! "
)//" #
;//# $
}00 	
}11 
}22 ‚»
NC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\SlotScript.cs
public		 
class		 

SlotScript		 
:		 
MonoBehaviour		 '
{

 
public 

static 
bool 
didPlant 
;  
public 

bool 

didCollect 
; 
public 

string 
SeedName 
{ 
get  
;  !
set" %
;% &
}' (
public 

string !
CurrentlySelectedName '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
private 
	Inventory 
	inventory 
;  
private 
	GUIScript 
	guiScript 
;  
private 

GameMaster 

gameMaster !
;! "
private 
ColliderHandler 
colliderHandler +
;+ ,
private 
Item !
currentlySelectedItem &
;& '
void 
Awake	 
( 
) 
{ 
	inventory 
= 

GameObject 
. !
FindGameObjectWithTag 4
(4 5
$str5 B
)B C
.C D
GetComponentD P
<P Q
	InventoryQ Z
>Z [
([ \
)\ ]
;] ^

gameMaster 
= 

GameObject 
.  !
FindGameObjectWithTag  5
(5 6
$str6 C
)C D
.D E
GetComponentE Q
<Q R

GameMasterR \
>\ ]
(] ^
)^ _
;_ `
colliderHandler 
= 

gameMaster $
.$ %
GetComponent% 1
<1 2
ColliderHandler2 A
>A B
(B C
)C D
;D E
	guiScript 
= 

GameObject 
. !
FindGameObjectWithTag 4
(4 5
$str5 F
)F G
.G H
GetComponentH T
<T U
	GUIScriptU ^
>^ _
(_ `
)` a
;a b
} 
public   

void   
Plant   
(   
)   
{!! 
didPlant"" 
="" 
false"" 
;"" 

GameObject$$ 
parent$$ 
=$$ 
colliderHandler$$ +
.$$+ ,
ParentGameObject$$, <
;$$< =
PlantGround&& 
groundScript&&  
=&&! "
parent&&# )
.&&) *
GetComponent&&* 6
<&&6 7
PlantGround&&7 B
>&&B C
(&&C D
)&&D E
;&&E F
if)) 

()) 
	inventory)) 
.)) 
Items)) 
[)) 
SeedName)) $
]))$ %
.))% &
Stack))& +
>)), -
$num)). /
&&))0 2
	inventory))3 <
.))< =
Items))= B
[))B C
SeedName))C K
]))K L
.))L M
ItemType))M U
==))V X
Item))Y ]
.))] ^
IType))^ c
.))c d
	GrapeVine))d m
)))m n
{** 	
if-- 
(-- 
(-- 
(-- 
	VineGrape-- 
)-- 
	inventory-- %
.--% &
Items--& +
[--+ ,
SeedName--, 4
]--4 5
)--5 6
.--6 7
GoV--7 :
==--; =
	VineGrape--> G
.--G H
GrapeOrVine--H S
.--S T
Vine--T X
)--X Y
{.. !
currentlySelectedItem00 %
=00& '
	inventory00( 1
.001 2
Items002 7
[007 8
SeedName008 @
]00@ A
;00A B
parent11 
.11 
tag11 
=11 
$str11 &
;11& '
groundScript22 
.22 

PlantState22 '
=22( )

GameMaster22* 4
.224 5

PlantState225 ?
.22? @
JustPlanted22@ K
;22K L
groundScript33 
.33 
	PlantName33 &
=33' (
	inventory33) 2
.332 3
Items333 8
[338 9
SeedName339 A
]33A B
.33B C
Name33C G
;33G H
	guiScript44 
.44 
initializeInfoPanel44 -
(44- .
groundScript44. :
.44: ;
	PlantName44; D
)44D E
;44E F!
currentlySelectedItem55 %
.55% &
PopItem55& -
(55- .
)55. /
;55/ 0
didPlant66 
=66 
true66 
;66  
}88 
else99 
{:: 
Debug;; 
.;; 
Log;; 
(;; 
$str;; &
);;& '
;;;' (
}<< 
}== 	
else>> 
{?? 	
Debug@@ 
.@@ 
Log@@ 
(@@ 
$str@@ (
)@@( )
;@@) *
}AA 	
}BB 
publicEE 

voidEE 
HarvestEE 
(EE 
)EE 
{FF 

GameObjectGG 
parentGG 
=GG 
colliderHandlerGG +
.GG+ ,
ParentGameObjectGG, <
;GG< =
PlantGroundHH 
groundScriptHH  
=HH! "
parentHH# )
.HH) *
GetComponentHH* 6
<HH6 7
PlantGroundHH7 B
>HHB C
(HHC D
)HHD E
;HHE F
parentII 
.II 
tagII 
=II 
$strII !
;II! "
groundScriptJJ 
.JJ 

PlantStateJJ 
=JJ  !

GameMasterJJ" ,
.JJ, -

PlantStateJJ- 7
.JJ7 8

NotPlantedJJ8 B
;JJB C
foreachLL 
(LL 
KeyValuePairLL 
<LL 
stringLL $
,LL$ %
ItemLL& *
>LL* +
pairLL, 0
inLL1 3
	inventoryLL4 =
.LL= >
ItemsLL> C
)LLC D
{MM 	
ifNN 
(NN 
pairNN 
.NN 
ValueNN 
.NN 
NameNN 
==NN  "
groundScriptNN# /
.NN/ 0
	PlantNameNN0 9
&&NN: <
(NN= >
(NN> ?
	VineGrapeNN? H
)NNH I
pairNNI M
.NNM N
ValueNNN S
)NNS T
.NNT U
GoVNNU X
==NNY [
	VineGrapeNN\ e
.NNe f
GrapeOrVineNNf q
.NNq r
GrapeNNr w
)NNw x
groundScriptOO 
.OO 
	PlantNameOO &
=OO' (
pairOO) -
.OO- .
KeyOO. 1
;OO1 2
}PP 	!
CurrentlySelectedNameRR 
=RR 
groundScriptRR  ,
.RR, -
	PlantNameRR- 6
;RR6 7!
currentlySelectedItemSS 
=SS 
	inventorySS  )
.SS) *
ItemsSS* /
[SS/ 0!
CurrentlySelectedNameSS0 E
]SSE F
;SSF G
groundScriptTT 
.TT 
	PlantNameTT 
=TT  
nullTT! %
;TT% &!
currentlySelectedItemUU 
.UU 
AddItemUU %
(UU% &
)UU& '
;UU' (
groundScriptVV 
.VV 

resetTimerVV 
(VV  
)VV  !
;VV! "
}WW 
publicZZ 

voidZZ 
selectGrapeZZ 
(ZZ 
)ZZ 
{[[ 
if\\ 

(\\ 
	inventory\\ 
.\\ 
Items\\ 
[\\ 
SeedName\\ $
]\\$ %
.\\% &
Stack\\& +
>\\, -
$num\\. /
&&\\0 2
	inventory\\3 <
.\\< =
Items\\= B
[\\B C
SeedName\\C K
]\\K L
.\\L M
ItemType\\M U
==\\V X
Item\\Y ]
.\\] ^
IType\\^ c
.\\c d
	GrapeVine\\d m
)\\m n
{]] 	
if^^ 
(^^ 
(^^ 
(^^ 
	VineGrape^^ 
)^^ 
	inventory^^ %
.^^% &
Items^^& +
[^^+ ,
SeedName^^, 4
]^^4 5
)^^5 6
.^^6 7
GoV^^7 :
==^^; =
	VineGrape^^> G
.^^G H
GrapeOrVine^^H S
.^^S T
Grape^^T Y
)^^Y Z
{`` 

GameObjectaa 
parentaa !
=aa" #
colliderHandleraa$ 3
.aa3 4
ParentGameObjectaa4 D
;aaD E!
CurrentlySelectedNamebb %
=bb& '
	inventorybb( 1
.bb1 2
Itemsbb2 7
[bb7 8
SeedNamebb8 @
]bb@ A
.bbA B
NamebbB F
;bbF G!
currentlySelectedItemcc %
=cc& '
	inventorycc( 1
.cc1 2
Itemscc2 7
[cc7 8
SeedNamecc8 @
]cc@ A
;ccA B!
currentlySelectedItemdd %
.dd% &
PopItemdd& -
(dd- .
)dd. /
;dd/ 0

GameObjectee 
grapeee  
=ee! "
	Resourcesee# ,
.ee, -
Loadee- 1
<ee1 2

GameObjectee2 <
>ee< =
(ee= >
$stree> E
)eeE F
;eeF G
grapeff 
.ff 
GetComponentff "
<ff" #
SpriteRendererff# 1
>ff1 2
(ff2 3
)ff3 4
.ff4 5
spriteff5 ;
=ff< =
	Resourcesff> G
.ffG H
LoadffH L
<ffL M
SpriteffM S
>ffS T
(ffT U!
currentlySelectedItemffU j
.ffj k

SpriteNameffk u
)ffu v
;ffv w
parentgg 
.gg 

gameObjectgg !
.gg! "
GetComponentgg" .
<gg. /
MethodCallerHandlergg/ B
>ggB C
(ggC D
)ggD E
.ggE F

MethodNameggF P
=ggQ R
$strggS c
;ggc d
parenthh 
.hh 

gameObjecthh !
.hh! "
GetComponenthh" .
<hh. /
MethodCallerHandlerhh/ B
>hhB C
(hhC D
)hhD E
.hhE F

CallMethodhhF P
(hhP Q
)hhQ R
;hhR S
didPlantii 
=ii 
trueii 
;ii  
parentjj 
.jj 

gameObjectjj !
.jj! "
GetComponentjj" .
<jj. /
MethodCallerHandlerjj/ B
>jjB C
(jjC D
)jjD E
.jjE F

MethodNamejjF P
=jjQ R
$strjjS b
;jjb c
}kk 
elsell 
{mm 
didPlantnn 
=nn 
falsenn  
;nn  !
Debugoo 
.oo 
Logoo 
(oo 
$stroo %
)oo% &
;oo& '
}pp 
}qq 	
elserr 
{ss 	
didPlanttt 
=tt 
falsett 
;tt 
Debuguu 
.uu 
Loguu 
(uu 
$struu "
)uu" #
;uu# $
}vv 	
}xx 
public{{ 

void{{ 
Ferment{{ 
({{ 
){{ 
{|| 

GameObject}} 
parent}} 
=}} 
colliderHandler}} +
.}}+ ,
ParentGameObject}}, <
;}}< =
FermentorScript~~ 
fermentorScript~~ '
=~~( )
parent~~* 0
.~~0 1
GetComponent~~1 =
<~~= >
FermentorScript~~> M
>~~M N
(~~N O
)~~O P
;~~P Q
parent 
. 
tag 
= 
$str !
;! "
fermentorScript
ÄÄ 
.
ÄÄ 
	GrapeName
ÄÄ !
=
ÄÄ" ##
CurrentlySelectedName
ÄÄ$ 9
;
ÄÄ9 :
fermentorScript
ÅÅ 
.
ÅÅ 
FermentationState
ÅÅ )
=
ÅÅ* +

GameMaster
ÅÅ, 6
.
ÅÅ6 7
FermentationState
ÅÅ7 H
.
ÅÅH I

Fermenting
ÅÅI S
;
ÅÅS T
fermentorScript
ÇÇ 
.
ÇÇ 
Timer
ÇÇ 
=
ÇÇ 
$num
ÇÇ  #
;
ÇÇ# $
fermentorScript
ÉÉ 
.
ÉÉ 
IsFermenting
ÉÉ $
=
ÉÉ% &
true
ÉÉ' +
;
ÉÉ+ ,
foreach
ÖÖ 
(
ÖÖ 
	VineGrape
ÖÖ 
vg
ÖÖ 
in
ÖÖ  

gameMaster
ÖÖ! +
.
ÖÖ+ ,
GetComponent
ÖÖ, 8
<
ÖÖ8 9
Database
ÖÖ9 A
>
ÖÖA B
(
ÖÖB C
)
ÖÖC D
.
ÖÖD E

Collection
ÖÖE O
.
ÖÖO P
	VineGrape
ÖÖP Y
)
ÖÖY Z
{
ÜÜ 	
if
áá 
(
áá 
vg
áá 
.
áá 
Name
áá 
==
áá 
fermentorScript
áá *
.
áá* +
	GrapeName
áá+ 4
&&
áá5 7
vg
áá8 :
.
áá: ;
GoV
áá; >
==
áá? A
	VineGrape
ááB K
.
ááK L
GrapeOrVine
ááL W
.
ááW X
Grape
ááX ]
)
áá] ^
{
àà 

gameMaster
ââ 
.
ââ 
OurWine
ââ "
.
ââ" #
GetComponent
ââ# /
<
ââ/ 0

WinePrefab
ââ0 :
>
ââ: ;
(
ââ; <
)
ââ< =
.
ââ= >
acidity
ââ> E
=
ââF G
(
ââH I
Wine
ââI M
.
ââM N
Acidity
ââN U
)
ââU V
vg
ââV X
.
ââX Y
	AcidLevel
ââY b
;
ââb c
foreach
ää 
(
ää 
Wine
ää 
.
ää 
AromaFlavor
ää )
af
ää* ,
in
ää- /
vg
ää0 2
.
ää2 3
AromasFlavors
ää3 @
)
ää@ A
{
ãã 

gameMaster
åå 
.
åå 
OurWine
åå &
.
åå& '
GetComponent
åå' 3
<
åå3 4

WinePrefab
åå4 >
>
åå> ?
(
åå? @
)
åå@ A
.
ååA B
aromasAndFlavors
ååB R
.
ååR S
Add
ååS V
(
ååV W
af
ååW Y
)
ååY Z
;
ååZ [
}
çç 
}
éé 
}
èè 	
}
êê 
public
ìì 

void
ìì 
Collect
ìì 
(
ìì 
)
ìì 
{
îî 

GameObject
ïï 
parent
ïï 
=
ïï 
colliderHandler
ïï +
.
ïï+ ,
ParentGameObject
ïï, <
;
ïï< =
if
ññ 

(
ññ 
parent
ññ 
.
ññ 
tag
ññ 
==
ññ 
$str
ññ &
)
ññ& '
{
óó 	
FermentorScript
òò 
fermentorScript
òò +
=
òò, -
parent
òò. 4
.
òò4 5
GetComponent
òò5 A
<
òòA B
FermentorScript
òòB Q
>
òòQ R
(
òòR S
)
òòS T
;
òòT U
parent
ôô 
.
ôô 
tag
ôô 
=
ôô 
$str
ôô (
;
ôô( )
	inventory
öö 
.
öö 
Items
öö 
[
öö 
$str
öö #
]
öö# $
.
öö$ %
AddItem
öö% ,
(
öö, -
)
öö- .
;
öö. /
fermentorScript
õõ 
.
õõ 
FermentationState
õõ -
=
õõ. /

GameMaster
õõ0 :
.
õõ: ;
FermentationState
õõ; L
.
õõL M
NotFermentating
õõM \
;
õõ\ ]
fermentorScript
úú 
.
úú 
IsFermenting
úú (
=
úú) *
false
úú+ 0
;
úú0 1
fermentorScript
ùù 
.
ùù 
	GrapeName
ùù %
=
ùù& '
null
ùù( ,
;
ùù, -
fermentorScript
ûû 
.
ûû 
Timer
ûû !
=
ûû" #
$num
ûû$ %
;
ûû% &
}
üü 	
else
†† 
if
†† 
(
†† 
parent
†† 
.
†† 
tag
†† 
==
†† 
$str
†† .
)
††. /
{
°° 	!
ClarificationScript
¢¢ !
clarificationScript
¢¢  3
=
¢¢4 5
parent
¢¢6 <
.
¢¢< =
GetComponent
¢¢= I
<
¢¢I J!
ClarificationScript
¢¢J ]
>
¢¢] ^
(
¢¢^ _
)
¢¢_ `
;
¢¢` a

gameMaster
££ 
.
££ 
OurWine
££ 
.
££ 
GetComponent
££ +
<
££+ ,

WinePrefab
££, 6
>
££6 7
(
££7 8
)
££8 9
.
££9 :
clarity
££: A
=
££B C
Wine
££D H
.
££H I
Clarity
££I P
.
££P Q
Clear
££Q V
;
££V W

gameMaster
§§ 
.
§§ 
OurWine
§§ 
.
§§ 
GetComponent
§§ +
<
§§+ ,

WinePrefab
§§, 6
>
§§6 7
(
§§7 8
)
§§8 9
.
§§9 :
	condition
§§: C
=
§§D E
Wine
§§F J
.
§§J K
	Condition
§§K T
.
§§T U
Clean
§§U Z
;
§§Z [
parent
•• 
.
•• 
tag
•• 
=
•• 
$str
•• +
;
••+ ,!
clarificationScript
¶¶ 
.
¶¶   
ClarificationState
¶¶  2
=
¶¶3 4

GameMaster
¶¶5 ?
.
¶¶? @ 
ClarificationState
¶¶@ R
.
¶¶R S
NotClarificating
¶¶S c
;
¶¶c d
	inventory
ßß 
.
ßß 
Items
ßß 
[
ßß 
$str
ßß #
]
ßß# $
.
ßß$ %
AddItem
ßß% ,
(
ßß, -
)
ßß- .
;
ßß. /!
clarificationScript
®® 
.
®®  
WineName
®®  (
=
®®) *
null
®®+ /
;
®®/ 0!
clarificationScript
©© 
.
©©  
Timer
©©  %
=
©©& '
$num
©©( )
;
©©) *
}
™™ 	
else
´´ 
if
´´ 
(
´´ 
parent
´´ 
.
´´ 
tag
´´ 
==
´´ 
$str
´´ )
)
´´) *
{
¨¨ 	
BottlingScript
≠≠ 
bottlingScript
≠≠ )
=
≠≠* +
parent
≠≠, 2
.
≠≠2 3
GetComponent
≠≠3 ?
<
≠≠? @
BottlingScript
≠≠@ N
>
≠≠N O
(
≠≠O P
)
≠≠P Q
;
≠≠Q R
parent
ÆÆ 
.
ÆÆ 
tag
ÆÆ 
=
ÆÆ 
$str
ÆÆ &
;
ÆÆ& '
bottlingScript
ØØ 
.
ØØ 
BottlingState
ØØ (
=
ØØ) *

GameMaster
ØØ+ 5
.
ØØ5 6
BottlingState
ØØ6 C
.
ØØC D
NotBottling
ØØD O
;
ØØO P
	inventory
∞∞ 
.
∞∞ 
Items
∞∞ 
[
∞∞ 
$str
∞∞ $
]
∞∞$ %
.
∞∞% &
AddItem
∞∞& -
(
∞∞- .
)
∞∞. /
;
∞∞/ 0
bottlingScript
±± 
.
±± 
WineName
±± #
=
±±$ %
null
±±& *
;
±±* +
bottlingScript
≤≤ 
.
≤≤ 
Timer
≤≤  
=
≤≤! "
$num
≤≤# $
;
≤≤$ %
}
≥≥ 	
}
¥¥ 
public
∑∑ 

void
∑∑ 
Clarificate
∑∑ 
(
∑∑ 
)
∑∑ 
{
∏∏ 

GameObject
ππ 
parent
ππ 
=
ππ 
colliderHandler
ππ +
.
ππ+ ,
ParentGameObject
ππ, <
;
ππ< =!
ClarificationScript
∫∫ !
clarificationScript
∫∫ /
=
∫∫0 1
parent
∫∫2 8
.
∫∫8 9
GetComponent
∫∫9 E
<
∫∫E F!
ClarificationScript
∫∫F Y
>
∫∫Y Z
(
∫∫Z [
)
∫∫[ \
;
∫∫\ ]
if
ºº 

(
ºº 
	inventory
ºº 
.
ºº 
Items
ºº 
[
ºº 
SeedName
ºº $
]
ºº$ %
.
ºº% &
Stack
ºº& +
>
ºº, -
$num
ºº. /
)
ºº/ 0
{
ΩΩ 	
if
ææ 
(
ææ 
	inventory
ææ 
.
ææ 
Items
ææ 
[
ææ  
SeedName
ææ  (
]
ææ( )
.
ææ) *
ItemType
ææ* 2
==
ææ3 5
Item
ææ6 :
.
ææ: ;
IType
ææ; @
.
ææ@ A
Wine
ææA E
)
ææE F
{
øø 
parent
¿¿ 
.
¿¿ 
tag
¿¿ 
=
¿¿ 
$str
¿¿ ,
;
¿¿, -#
CurrentlySelectedName
¡¡ %
=
¡¡& '
	inventory
¡¡( 1
.
¡¡1 2
Items
¡¡2 7
[
¡¡7 8
SeedName
¡¡8 @
]
¡¡@ A
.
¡¡A B
Name
¡¡B F
;
¡¡F G#
currentlySelectedItem
¬¬ %
=
¬¬& '
	inventory
¬¬( 1
.
¬¬1 2
Items
¬¬2 7
[
¬¬7 8
SeedName
¬¬8 @
]
¬¬@ A
;
¬¬A B!
clarificationScript
√√ #
.
√√# $
WineName
√√$ ,
=
√√- .#
CurrentlySelectedName
√√/ D
;
√√D E#
currentlySelectedItem
ƒƒ %
.
ƒƒ% &
PopItem
ƒƒ& -
(
ƒƒ- .
)
ƒƒ. /
;
ƒƒ/ 0
	guiScript
≈≈ 
.
≈≈ !
initializeInfoPanel
≈≈ -
(
≈≈- .!
clarificationScript
≈≈. A
.
≈≈A B
WineName
≈≈B J
)
≈≈J K
;
≈≈K L!
clarificationScript
∆∆ #
.
∆∆# $ 
ClarificationState
∆∆$ 6
=
∆∆7 8

GameMaster
∆∆9 C
.
∆∆C D 
ClarificationState
∆∆D V
.
∆∆V W
Clarificating
∆∆W d
;
∆∆d e!
clarificationScript
«« #
.
««# $
Timer
««$ )
=
««* +
$num
««, /
;
««/ 0
didPlant
»» 
=
»» 
true
»» 
;
»»  
}
…… 
else
   
{
ÀÀ 
didPlant
ÃÃ 
=
ÃÃ 
false
ÃÃ  
;
ÃÃ  !
Debug
ÕÕ 
.
ÕÕ 
Log
ÕÕ 
(
ÕÕ 
$str
ÕÕ $
)
ÕÕ$ %
;
ÕÕ% &
}
ŒŒ 
}
œœ 	
else
–– 
{
—— 	
didPlant
““ 
=
““ 
false
““ 
;
““ 
Debug
”” 
.
”” 
Log
”” 
(
”” 
$str
”” "
)
””" #
;
””# $
}
‘‘ 	
}
’’ 
public
ÿÿ 

void
ÿÿ 
Bottling
ÿÿ 
(
ÿÿ 
)
ÿÿ 
{
ŸŸ 

GameObject
⁄⁄ 
parent
⁄⁄ 
=
⁄⁄ 
colliderHandler
⁄⁄ +
.
⁄⁄+ ,
ParentGameObject
⁄⁄, <
;
⁄⁄< =
BottlingScript
€€ 
bottlingScript
€€ %
=
€€& '
parent
€€( .
.
€€. /
GetComponent
€€/ ;
<
€€; <
BottlingScript
€€< J
>
€€J K
(
€€K L
)
€€L M
;
€€M N
if
›› 

(
›› 
	inventory
›› 
.
›› 
Items
›› 
[
›› 
SeedName
›› $
]
››$ %
.
››% &
Stack
››& +
>
››, -
$num
››. /
)
››/ 0
{
ﬁﬁ 	
if
ﬂﬂ 
(
ﬂﬂ 
	inventory
ﬂﬂ 
.
ﬂﬂ 
Items
ﬂﬂ 
[
ﬂﬂ  
SeedName
ﬂﬂ  (
]
ﬂﬂ( )
.
ﬂﬂ) *
ItemType
ﬂﬂ* 2
==
ﬂﬂ3 5
Item
ﬂﬂ6 :
.
ﬂﬂ: ;
IType
ﬂﬂ; @
.
ﬂﬂ@ A
Wine
ﬂﬂA E
)
ﬂﬂE F
{
‡‡ 
parent
·· 
.
·· 
tag
·· 
=
·· 
$str
·· '
;
··' (#
CurrentlySelectedName
‚‚ %
=
‚‚& '
	inventory
‚‚( 1
.
‚‚1 2
Items
‚‚2 7
[
‚‚7 8
SeedName
‚‚8 @
]
‚‚@ A
.
‚‚A B
Name
‚‚B F
;
‚‚F G
bottlingScript
„„ 
.
„„ 
WineName
„„ '
=
„„( )#
CurrentlySelectedName
„„* ?
;
„„? @
	inventory
‰‰ 
.
‰‰ 
Items
‰‰ 
[
‰‰  #
CurrentlySelectedName
‰‰  5
]
‰‰5 6
.
‰‰6 7
PopItem
‰‰7 >
(
‰‰> ?
)
‰‰? @
;
‰‰@ A
	guiScript
ÂÂ 
.
ÂÂ !
initializeInfoPanel
ÂÂ -
(
ÂÂ- .
bottlingScript
ÂÂ. <
.
ÂÂ< =
WineName
ÂÂ= E
)
ÂÂE F
;
ÂÂF G
bottlingScript
ÊÊ 
.
ÊÊ 
BottlingState
ÊÊ ,
=
ÊÊ- .

GameMaster
ÊÊ/ 9
.
ÊÊ9 :
BottlingState
ÊÊ: G
.
ÊÊG H
Bottling
ÊÊH P
;
ÊÊP Q
bottlingScript
ÁÁ 
.
ÁÁ 
Timer
ÁÁ $
=
ÁÁ% &
$num
ÁÁ' *
;
ÁÁ* +
didPlant
ËË 
=
ËË 
true
ËË 
;
ËË  
}
ÈÈ 
else
ÍÍ 
{
ÎÎ 
didPlant
ÏÏ 
=
ÏÏ 
false
ÏÏ  
;
ÏÏ  !
Debug
ÌÌ 
.
ÌÌ 
Log
ÌÌ 
(
ÌÌ 
$str
ÌÌ $
)
ÌÌ$ %
;
ÌÌ% &
}
ÓÓ 
}
ÔÔ 	
else
 
{
ÒÒ 	
didPlant
ÚÚ 
=
ÚÚ 
false
ÚÚ 
;
ÚÚ 
Debug
ÛÛ 
.
ÛÛ 
Log
ÛÛ 
(
ÛÛ 
$str
ÛÛ "
)
ÛÛ" #
;
ÛÛ# $
}
ÙÙ 	
}
ıı 
}ˆˆ ˛
OC:\Users\Administrator\Desktop\git_wine\wine-game\Assets\Scripts\grapeScript.cs
public 
class 
grapeScript 
: 
MonoBehaviour (
{		 
private

 

GameObject

 
temp

 
;

 
private 
CrushScript 
crushScript #
;# $
private 
void 
Awake 
( 
) 
{ 
temp 
= 

GameObject 
. 
Find 
( 
$str 1
)1 2
;2 3
} 
private 
void 
Update 
( 
) 
{ 
crushScript 
= 
temp 
. 
GetComponent '
<' (
CrushScript( 3
>3 4
(4 5
)5 6
;6 7
} 
private 
void 
OnCollisionEnter2D #
(# $
Collision2D$ /
	collision0 9
)9 :
{ 
if 

( 
	collision 
. 

gameObject  
.  !
tag! $
==% '
$str( 4
)4 5
{ 	
crushScript 
. 
MissedGrapes $
++$ &
;& '
Destroy 
( 

gameObject 
) 
;  
} 	
} 
} 